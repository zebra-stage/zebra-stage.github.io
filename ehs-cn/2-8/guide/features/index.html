
<!DOCTYPE html>
<html lang="en"><head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Online Documentation for Zebra Technologies developer tools and utiltiescomp including EMDK for Android, EMDK for Xamarin, StageNow, Enterprise Browser.">
    <meta name="author" content="Zebra Technologies">
    <meta name="google-site-verification" content="i4B78BrWnNy8ShJwe5feRW3jO3HE6gfYlYqYbxfl8yY">
    <meta name="msvalidate.01" content="6B651B00161BCE79B8950AC09D5C4C75">
    <meta title="EHS Special Features">
    <title>EHS 特殊功能 - Zebra Technologies TechDocs</title><!-- core CSS --><link href="/css/bootstrap.min.css" rel="stylesheet">
    <link href="/css/font-awesome.min.css" rel="stylesheet">
    <link href="/css/animate.min.css" rel="stylesheet">
    <link href="/css/owl.carousel.css" rel="stylesheet">
    <link href="/css/owl.transitions.css" rel="stylesheet">
    <link href="/css/prettyPhoto.css" rel="stylesheet">
    <link href="/css/main.css" rel="stylesheet">
    <link href="/css/responsive.css" rel="stylesheet">
    <link href="/css/prettify.css" rel="stylesheet">
    <link href="/css/bootstrap-treenav.min.css" rel="stylesheet"><!--[if lt IE 9]>
    <script src="js/html5shiv.js"></script>
    <script src="js/respond.min.js"></script>
    <![endif]--><script src="//load.sumome.com/" data-sumo-site-id="699cb66cf4dc59352efb45705526d15cbe314e1cd43f7761b94d96f3cf7338e8" async="async"></script>
    <link rel="shortcut icon" href="/favicon.ico">
<script src="/js/jquery.js"></script></head><!--/head--><body id="home" class="homepage" data-spy="scroll" data-offset="100" data-target="#toc">

    <header id="header">
        <nav id="main-menu" class="navbar navbar-default navbar-fixed-top" role="banner">
            <div class="container-fluid">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse"><span class="sr-only">切换导航</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span></button><a class="navbar-brand" href="/"><img src="/images/logo.png" alt="徽标" style="max-height:66px;float: inherit;
    padding-right: 3px;"></a></div>
                <div class="collapse navbar-collapse navbar-left"><ul class="nav navbar-nav"><li class="navbar-text pull-left"><strong>技术文档</strong></li>
                        <li class="dropdown">
                          <button class="btn btn-default dropdown-toggle" type="button" data-toggle="dropdown">企业主页屏幕 2.8 <span class="caret"></span></button><ul class="dropdown-menu"><li><a onclick="changeVersion('2-4','2-3','/ehs-cn/2-8/guide/about')">企业主页屏幕 2.8</a></li></ul></li></ul></div>
                <div class="collapse navbar-collapse navbar-right"><ul class="nav navbar-nav"><li><a href="/ehs-cn/2-8/guide/about">关于</a></li>
                        <li><a href="/ehs-cn/2-8/guide/setup">设置</a></li>
                        <li><a href="/ehs-cn/2-8/guide/settings">高级设置</a></li>
                        <li><a href="/ehs-cn/2-8/guide/features">特殊功能</a></li>
                        <li><a href="/ehs-cn/2-8/download"><i class="fa fa-download"></i></a></li>
                        <li><a href="/ehs-cn/2-8/search"><i class="fa fa-search"></i></a></li><!-- <li ><a href="/products">SDKs</a></li>
                        <li ><a href="/samples">Samples</a></li>
                        <li ><a href="/guides">Guides</a></li>
                        <li ><a href="/tutorials">Tutorials</a></li>
                        <li ><a href="/apis">APIs</a></li> --> <!-- <li><a href="#"><input type="text" class="st-default-search-input"></a></li> --> </ul>
                </div>
            </div><!--/.container--></nav><!--/nav--></header><!--/header--><div class="container-fluid">
    <section id="blog">
        <div class="">
            <section class="content-with-sidebar">
            <div class="row">
                <div class="col-sm-3 hidden-sm hidden-xs" id="sidebar">
                    
                    
                    <nav id="toc" data-toggle="toc" data-spy="affix" style="height: 75%; max-width: 225px; overflow-y: auto; "><ul class="nav"><li><strong>EHS 特殊功能</strong></li></ul></nav>
                    <div class="modal fade" id="modal-smartdocs" tabindex="-1" role="dialog" aria-labelledby="basicModal" aria-hidden="true" data-backdrop="true">
                    	<div class="modal-dialog">
                    		<div class="modal-content">
                    			<div class="modal-header">
                    				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">X</button>
                    			</div>
                    			<div class="modal-body">
                    				<form>
                    				  <div class="form-group">
                    				    <label for="exampleInputEmail1">设备上的 MX 版本：</label>
                    				    <select class="form-control">
                    					  <option value="4.0">4.0</option>
                    					  <option value="4.1">4.1</option>
                    					  <option value="4.2">4.2</option>
                    					  <option value="4.3">4.3</option>
                    					  <option value="5.0">5.0</option>
                    					</select>
                    				  </div>						
                    				  <div class="form-group">
                    				    <label for="exampleInputEmail1">设备上的 OSX 版本：</label>
                    				    <select class="form-control">
                    					  <option value="1.0">1.0</option>
                    					  <option value="1.2">1.2</option>
                    					  <option value="1.3.4-56">1.3.4-56</option>
                    					  <option value="3.4">3.4</option>
                    					  <option value="3.5">3.5</option>
                    					  <option value="3.6">3.6</option>
                    					  <option value="4.1">4.1</option>
                    					  <option value="4.2">4.2</option>
                    					  <option value="4.3">4.3</option>
                    					  <option value="4.4">4.4</option>
                    					</select>
                    				  </div>						
                    				  <div class="form-group">
                    				    <label for="exampleInputEmail1">设备上的 Android 版本：</label>
                    				    <select class="form-control">
                    					  <option value="23">6.0 Marshmallow</option>
                    					  <option value="22">5.1 Lollipop</option>
                    					  <option value="21">5.0 Lollipop</option>
                    					  <option value="19">4.4 Kitkat</option>
                    					  <option value="18">4.3 JellyBean</option>
                    					  <option value="17">4.2.x JellyBean</option>
                    					  <option value="16">4.1.x JellyBean</option>
                    					  <option value="15">4.0.3-4.0.4 Ice Cream Sandwich</option>
                    					  <option value="14">4.0-4.0.2 Ice Cream Sandwich</option>
                    					  <option value="10">2.3.3-2.3.4 Gingerbread</option>
                    					</select>
                    				  </div>
                    				  <div class="form-group">
                    				  	<button class="primary" id="btn_SaveSmartDocOptions">保存更改</button><button class="primary" id="btn_ClearSmartDocOptions">清除更改</button>
                    				  </div>
                    				</form>
                    			</div>
                    	</div>
                      </div>
                    </div>
                    
                    <script type="text/javascript">
                        $(document).ready(function() {
                        	$( "#btn_SaveSmartDocOptions" ).click(function() {
                      			console.log('Saving Options');
                      			$("#modal-smartdocs").modal({show: false});
                    		});
                        	$( "#btn_SaveSmartDocOptions" ).click(function() {
                      			console.log('Clearing Options');
                      			$("#modal-smartdocs").modal({show: false});
                    		});
                        });
                    </script><link rel="stylesheet" href="https://cdn.rawgit.com/afeld/bootstrap-toc/v0.3.0/dist/bootstrap-toc.min.css">
                    <script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v0.3.0/dist/bootstrap-toc.min.js"></script>
                    <script type="text/javascript">
                        $(document).ready(function() {
                    
                        });
                    
                    
                    </script>
                </div>                
                <div class="col-sm-9 ">
                    <div class="row">
                        <div class="col-sm-12">
                            <section id="cta" class="wow fadeIn">
                                <div class="">
                                    <h1 id="ehs-special-features" class="anchor"><a class="heading-anchor" href="#ehs-special-features"><span></span></a>EHS 特殊功能</h1>
                                    <p>企业主页屏幕 2.8</p>
                                </div>
                            </section>                    
                        </div>
                    </div>
                    <div id="mainContent" class="row">
                        <div class="col-sm-12">
                            <div class="blog-post blog-large wow fadeInLeft" data-wow-duration="300ms" data-wow-delay="0ms"><!-- Start of guide --><div class="service-box wow fadeInRight">
                                    <div class="">

                                        <p></p><h2 id="overview" class="anchor"><a class="heading-anchor" href="#overview"><span></span></a>概述</h2>

<p>本指南涵盖高级 EHS 功能，如 Kiosk 模式和安全模式。其中假定具备企业主页屏幕的工作知识，并且通过直接操作 <code>enterprisehomescreen.xml</code> 配置文件使用其<a href="../settings">高级设置</a>。对于不熟悉这些程序的人员，请先参阅<a href="../about">关于</a>和<a href="../setup">设置</a>页面以及<a href="../settings">高级设置指南</a>再继续。</p>

<p><b>注意</b>：EHS 的许多功能都可在设备上手动实现，以编程方式通过 <a href="../../../../emdk-for-android">EMDK</a> 实现，或使用 <a href="../../../../stagenow">StageNow</a> 或第三方移动设备管理 (MDM) 系统（如果受该 MDM 系统支持）远程实现。EHS 只是将功能置于单个工具中。</p>

<h2 id="kioskmode" class="anchor"><a class="heading-anchor" href="#kioskmode"><span></span></a>Kiosk 模式</h2>

<p>Kiosk 模式专为运行单一应用程序且通常带有触控式 UI 的设备设计。例如零售价格检查器、汽车零件查询以及患者住院登记系统等等。在向单个用户和/或任务分配专用设备（例如零售店员的手持式条码扫描器）时，Kiosk 模式也十分有用。Kiosk 模式将应用程序置于全屏模式下，防止通过将这些按键映射至 Kiosk 应用程序的最近活动，将 BACK 和 HOME 用于退出应用程序。</p>

<p>另请参阅 EHS <a href="../settings#autolaunch">自动启动</a>功能，此功能在不更改 HOME 键和 BACK 键功能的情况下，提供与 Kiosk 模式类似的功能。</p>

<h5 id="androidplatformnotes" class="anchor"><a class="heading-anchor" href="#androidplatformnotes"><span></span></a>Android 平台备注：</h5><ul><li><strong>在运行 Android 5.x Lollipop 的设备上</strong>，不应将 Kiosk 模式与屏幕固定功能（Android L 和更高版本系统中提供类似功能的功能）结合使用。</li>

<li><strong>在运行 Android 4.4 KitKat 的设备中</strong>，当以 Kiosk 模式启动设备时，屏幕仍会显示&ldquo;请稍候&rdquo;提示。按下 HOME 键，启动 Kiosk 应用程序并恢复正常行为。</li></ul><h5 id="kioskmodetags" class="anchor"><a class="heading-anchor" href="#kioskmodetags"><span></span></a>Kiosk 模式标签：</h5>

<p><b>&lt;kiosk&gt;</b> - 指定启用 Kiosk 模式时将运行的应用程序</p>

<p><b>&lt;kiosk_mode_enabled&gt;</b> - 打开和关闭功能 <br></p>

<h3 id="enablekioskmode" class="anchor"><a class="heading-anchor" href="#enablekioskmode"><span></span></a>启用 Kiosk 模式</h3>

<p>在 <code>enterprisehomescreen.xml</code> 文件中：</p>

<ol>
<li>在配置文件的 <a href="../settings#kiosk">&lt;kiosk&gt; 部分</a>中指定 Kiosk 应用程序。</li>

<li>在文件&ldquo;首选项&rdquo;部分的 <a href="../settings#kioskmodeenabled">&lt;kiosk_mode_enabled&gt; 标签</a>中，输入值&ldquo;1&rdquo;。</li>

<li>如果需要在 Kiosk 模式下进行 USB 调试，请在 <a href="../settings#usbdebuggingdisabled">&lt;usb_debugging_disabled&gt; 标签</a>中输入值&ldquo;0&rdquo;。<br>（请参阅下方的<a href="#disablekioskmode">禁用 Kiosk 模式</a>，了解详细信息）。</li>
</ol>

<p><b>安全备注</b>：使用 Kiosk 模式时，一定要禁用&ldquo;按键重映射&rdquo;和其他可能启动应用程序的方式，因为这样会破坏 Kiosk 模式的保护。</p>

<h3 id="disablekioskmode" class="anchor"><a class="heading-anchor" href="#disablekioskmode"><span></span></a>禁用 Kiosk 模式</h3>

<p>一旦启用 Kiosk 模式，仅可以通过以下两种方法中的一种禁用（无需编写自定义程序代码）：</p><ul><li><p><b>如果未禁用用户模式的 USB 调试</b>，可以通过在设备配置文件 &lt;kiosk_mode_enabled&gt; 标签中输入值&ldquo;0&rdquo;，禁用 Kiosk 模式。</p></li>

<li><p><b>如果已禁用用户模式的 USB 调试</b>，请执行恢复出厂设置。</p></li></ul><h5 id="controlkioskmodeprogrammatically" class="anchor"><a class="heading-anchor" href="#controlkioskmodeprogrammatically"><span></span></a>以编程方式控制 Kiosk 模式</h5>

<p>使用 Android Intent，可以从 Android 应用程序内部控制 Kiosk 模式。下列 JavaScript 代码显示了如何以编程方式启用和禁用 Kiosk 模式：</p>

<pre class="prettyprint"><code>//Disable Kiosk Mode: Intent intent = new Intent(&quot;com.symbol.enterprisehomescreen.actions.MODIFY_KIOSK_MODE&quot;); Intent.putExtra(&quot;enable&quot;,false); sendBroadcast(intent); //Enable Kiosk Mode: Intent intent = new Intent(&quot;com.symbol.enterprisehomescreen.actions.MODIFY_KIOSK_MODE&quot;); Intent.putExtra(&quot;enable&quot;,true); sendBroadcast(intent);</code></pre>

<p><b>安全备注</b>：使用 Kiosk 模式时，一定要禁用&ldquo;按键重映射&rdquo;和其他可能启动应用程序的方式，因为这样会破坏 Kiosk 模式的保护。</p>

<hr>

<h2 id="securemode" class="anchor"><a class="heading-anchor" href="#securemode"><span></span></a>安全模式</h2>

<p>在安全模式下，EHS 将只接受签名的 EHS 配置文件，从而防止对文件进行任何未经授权的更改。要在安全模式下运行，EHS 需要设备上存在签名的配置文件 (<code>enterprisehomescreen.xml</code>) 和匹配的签名文件 (<code>enterprisehomescreen.pem</code>)。</p>

<p>未在安全模式下运行的设备，便会根据默认设置，在正常模式下运行。在正常模式下运行时，EHS 将接受未签名的配置文件并在其中执行任何配置设置，只要该名称的文件及其内容符合 <a href="../settings">EHS 规格</a>即可。</p>

<h3 id="enablesecuremode" class="anchor"><a class="heading-anchor" href="#enablesecuremode"><span></span></a>启用安全模式</h3>

<p>这些说明要求使用 <a href="https://developer.android.com/studio/command-line/adb.html">Android Debug Bridge (ADB)</a> 与设备通信并且使用 <a href="#installopenssl">OpenSSL Windows 版</a>创建设备证书和私钥文件。如有必要，请先安装 ADB 和 OpenSSL 再继续。</p>

<p><strong>重要说明：为在 EHS 中启用安全模式，Android N（及更高版本）中不再支持手动文件推送来安装设备根证书</strong>。要为设备部署证书，以启用安全模式，需要使用 <a href="../../../../stagenow">Zebra StageNow</a> 中的 Certificate Manager 设置类型或 <a href="../../../../emdk-for-android">EMDK</a> Profile Manager 中的 Certificate Manager CSP。</p>

<p>1.使用下列 OpenSSL 命令，创建设备根证书 (<code>caroot.pem</code>) 和私钥 (<code>privatekey.pem</code>)：</p>

<pre class="prettyprint"><code>C:\OpenSSL-Win32\bin\openssl req -x509 -nodes -days 365 -newkey rsa:2048 -keyout privatekey.pem -out caroot.pem</code></pre>

<p><br></p>

<p>2.使用文本编辑器，<b>创建</b> <code>certificate.xml</code> <b>文件</b>，如下所示：</p>

<pre class="prettyprint"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;certificate&gt;&lt;install&gt;&lt;source&gt;/sdcard/caroot.pem&lt;/source&gt;&lt;alias&gt;CARootCert1&lt;/alias&gt;&lt;/install&gt;&lt;/certificate&gt;</code></pre>

<p>3.将 <code>caroot.pem</code> <b>复制</b>到设备上的<b> SD 卡</b>。</p>

<p>4.使用 Android 文件浏览器或下列命令 ADB，将 <code>certificate.xml</code> <b>推送</b>至设备：</p>

<pre class="prettyprint"><code>adb push certificate.xml /enterprise/device/settings/mdm/autoimport/</code></pre>

<p>这将导致在设备上安装根证书（<strong>注意：运行 Android N 的设备不支持手动推送</strong>）。</p>

<p>5.要确认安装，请使用下列命令<b>拉取</b> <code>Results.xml</code> <b>文件</b>：</p>

<pre class="prettyprint"><code>adb pull /enterprise/device/settings/mdm/autoimport/Results.xml.</code></pre>

<p>6.按照<a href="../settings">高级设置</a>部分的说明，<b>创建 EHS 配置文件</b> (<code>enterprisehomescreen.xml</code>)。</p>

<p>7.使用下列 OpenSSL 命令<b>签署配置文件</b>：</p>

<pre class="prettyprint"><code>C:\OpenSSL-Win32\bin\openssl dgst -sign privatekey.pem -out enterprisehomescreen.pem enterprisehomescreen.xml</code></pre>

<p>如果成功，签署 <code>enterprisehomescreen.xml</code> 文件的进程将生成名为 <code>enterprisehomescreen.pem</code> 的签名文件。</p>

<blockquote>
  <p><b>重要说明</b>：务必使用与用于生成根证书相同的 OpenSSL 签署配置文件版本。</p>
</blockquote>

<p>8.<b>推送签名的配置和签名文件</b>到 <code>/enterprise/usr</code> 文件夹。</p>

<p>9.根据<a href="../setup">设置指南</a>中的说明，<b>安装并运行 EHS .apk</b>。</p>

<p>启动时，EHS 将尝试将配置和签名文件与设备证书匹配。如果成功，EHS 将进入安全模式并实施签名的配置文件中的设置。</p>

<p>要确认，可在管理员模式下在&ldquo;首选项&rdquo;面板中查看当前操作模式。下面的图像显示安全模式&ldquo;关&rdquo;：<img alt="" style="height:250px" src="secure_mode.png"> <br></p>

<p>如果匹配不成功，设备将进入<a href="#lockdownstate">锁定状态</a>（见下文）。</p>

<blockquote>
  <p><b>注意</b>：当 EHS 进入安全模式时，配置和签名文件将从 <code>/enterprise/usr</code> 文件夹移动到安全位置。要在安全模式下从设备检索配置文件，请在管理员模式下使用&ldquo;工具&rdquo;菜单下提供的<a href="../settings#configfileaccess">导出配置文件</a>选项。</p>
</blockquote>

<hr>

<h3 id="disablesecuremode" class="anchor"><a class="heading-anchor" href="#disablesecuremode"><span></span></a>禁用安全模式</h3>

<p>将设备恢复到正常模式的第一步是禁用安全模式。这需要从设备删除 EHS 并且必须由管理员执行。</p>

<p>要从以安全模式运行的设备删除 EHS：</p><ul><li>进入管理员模式并<a href="../setup#uninstallation">卸载 EHS</a>，或</li>

<li>执行企业重置（请参阅设备手册，了解详细信息）。</li></ul><p>安全模式 EHS 删除后，请遵循 <a href="../setup#manualinstallation">EHS 设置指南</a>，进行正常安装。</p>

<hr>

<h2 id="lockdownstate" class="anchor"><a class="heading-anchor" href="#lockdownstate"><span></span></a>锁定状态</h2>

<p>如果签名的配置文件 (<code>enterprisehomescreen.xml</code>) 及其匹配的签名文件 (<code>enterprisehomescreen.pem</code>) 无法通过设备上安装的对应证书验证，在安全模式下运行的设备将进入锁定状态。当进入此状态后，设备会显示与下图类似的屏幕，并附带锁定的原因。</p>

<p><img alt="" style="height:250px" src="lockdown_state.png"> <br></p>

<h3 id="recoveryfromlockdownstate" class="anchor"><a class="heading-anchor" href="#recoveryfromlockdownstate"><span></span></a>从锁定状态中恢复</h3>

<p>有两种方法可以从锁定状态中恢复并使设备恢复到安全模式操作：</p>

<h5 id="method1replacesignaturefiles" class="anchor"><a class="heading-anchor" href="#method1replacesignaturefiles"><span></span></a>方法 1：替换签名文件</h5>

<p>将有效的 EHS 配置和签名文件复制到设备中的 <code>/enterprise/usr</code> 目录。这将使得 EHS 退出锁定状态、导入配置文件并恢复至安全模式。可通过 ADB 手动复制或使用 MDM 部署有效文件。</p>

<h5 id="method2deletesignaturefile" class="anchor"><a class="heading-anchor" href="#method2deletesignaturefile"><span></span></a>方法 2：删除签名文件</h5>

<p>登录到管理员模式，然后从 <code>/enterprise/usr</code> 目录删除签名文件。这将使得 EHS 退出锁定状态并进入安全模式。此方法仅在 EHS 已在安全模式下运行的情况下才有效。如果 EHS 之前在正常模式下运行，并且由于尝试切换到安全模式未成功而进入锁定状态，EHS 将在签名文件删除后恢复到正常模式。</p>

<p><b>注意：无论是在正常还是安全模式下运行，尝试管理员登录失败次数最多达到 10 次（或 EHS 配置文件中指定的次数），将禁用管理员模式登录。要退出此状态，请将有效配置文件复制（如果之前在安全模式下运行，还需复制其匹配的签名文件）到设备或通过 MDM 远程删除现有签名文件</b>。</p>

<hr>

<h2 id="ehslog" class="anchor"><a class="heading-anchor" href="#ehslog"><span></span></a>EHS 日志</h2>

<p>EHS 在 <code>/enterprise/usr/enterprisehomescreen.log</code> 文件中记录所有主要活动、故障和安全事件。这些包括进入管理员模式、操作模式切换的失败尝试以及所有 EHS 错误。日志是纯文本文件，可以使用 ADB 或 MDM 进行检索并使用任何文本编辑器查看。</p>

<p>有关日志记录的更多信息，请参阅<a href="../settings/#loggingdisabled">日志记录首选项</a>。</p>

<p><img alt="" style="height:450px" src="2-8_logging_disabled.png"> <em>在 EHS 2.8 和更高版本中，可以通过 UI 或配置文件禁用日志记录。</em> <br></p>

<hr>

<h2 id="ehsfileinteractions" class="anchor"><a class="heading-anchor" href="#ehsfileinteractions"><span></span></a>EHS 文件交互</h2>

<h3 id="X812" class="anchor"><a class="heading-anchor" href="#X812"><span></span></a>EHS 如何响应文件操作</h3>

<div class="tableblock">
<table rules="all" width="100%" frame="border" cellspacing="0" cellpadding="4">
<colgroup><col width="25%">
<col width="25%">
<col width="25%">
<col width="25%">
</colgroup><tbody>
<tr>
<td align="left" valign="top"><p class="table">当前模式</p></td>
<td align="left" valign="top"><p class="table">操作</p></td>
<td align="left" valign="top"><p class="table">结果</p></td>
<td align="left" valign="top"><p class="table">恢复</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">正常模式</p></td>
<td align="left" valign="top"><p class="table">将新的 enterprisehomescreen.xml 文件复制到 /enterprise/usr 文件夹中</p></td>
<td align="left" valign="top"><p class="table">新配置生效；设备保持为正常模式。</p></td>
<td align="left" valign="top"><p class="table"></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">正常模式</p></td>
<td align="left" valign="top"><p class="table">复制无效的 PEM 文件（即 PEM 文件与 /enterprise/usr 文件夹中的 XML 文件不匹配）</p></td>
<td align="left" valign="top"><p class="table">&ldquo;锁定模式&rdquo;屏幕立即出现</p></td>
<td align="left" valign="top"><p class="table">远程或通过本地管理员登录，删除 /enterprise/usr 文件夹中的 PEM 文件。设备继续在正常模式下使用现有配置。</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">正常模式</p></td>
<td align="left" valign="top"><p class="table">依次将新的 XML 文件及其对应的 PEM 文件复制到 /enterprise/usr 文件夹</p></td>
<td align="left" valign="top"><p class="table">一旦检测到了 XML 文件，新配置便会在正常模式下生效。</p>
<p class="table">当已复制 PEM 文件时：</p>
<p class="table"><em>签名验证成功：</em>设备进入安全模式。</p>
<p class="table"><em>签名验证失败：</em>&ldquo;锁定模式&rdquo;屏幕立即出现并显示错误。</p></td>
<td align="left" valign="top"><p class="table"></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">正常模式</p></td>
<td align="left" valign="top"><p class="table">依次将新的 PEM 文件及其对应的 XML 文件复制到 /enterprise/usr 文件夹</p></td>
<td align="left" valign="top"><p class="table">一旦已复制 PEM 文件，设备就将进入锁定状态。一旦已复制相关的 XML 文件，锁定屏幕将消失，设备将进入安全模式且新配置生效。</p>
<p class="table">警告：建议的顺序是先复制 XML 文件，再复制 PEM 文件。</p></td>
<td align="left" valign="top"><p class="table"></p></td>
</tr>
</tbody>
</table>
</div>

<div class="tableblock">
<table rules="all" width="100%" frame="border" cellspacing="0" cellpadding="4">
<colgroup><col width="25%">
<col width="25%">
<col width="25%">
<col width="25%">
</colgroup><tbody>
<tr>
<td align="left" valign="top"><p class="table">当前模式</p></td>
<td align="left" valign="top"><p class="table">操作</p></td>
<td align="left" valign="top"><p class="table">结果</p></td>
<td align="left" valign="top"><p class="table">恢复</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">安全模式</p></td>
<td align="left" valign="top"><p class="table">将新的 XML 文件复制到 /enterprise/usr 文件夹中</p></td>
<td align="left" valign="top"><p class="table">由于尚未复制相关 PEM 文件，因此新配置未生效。因此，设备仍处于安全模式先前的配置下。</p>
<p class="table">注意：在这种情况下，设备不会进入锁定状态</p></td>
<td align="left" valign="top"><p class="table"></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">安全模式</p></td>
<td align="left" valign="top"><p class="table">将新的 XML 文件和对应的 PEM 文件复制到 /enterprise/usr 文件夹</p></td>
<td align="left" valign="top"><p class="table"><em>签名验证成功：</em>设备仍处于安全模式中。新配置生效。</p>
<p class="table"><em>签名验证失败：</em>新配置未生效且设备进入锁定状态。</p></td>
<td align="left" valign="top"><p class="table">远程或通过本地管理员登录，删除 /enterprise/usr 文件夹中的 XML 文件和 PEM 文件。设备将继续处于安全模式，并使用先前的配置。</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">安全模式</p></td>
<td align="left" valign="top"><p class="table">仅将 PEM 文件复制到 /enterprise/usr 文件夹中</p></td>
<td align="left" valign="top"><p class="table">锁定屏幕立即出现</p></td>
<td align="left" valign="top"><p class="table">选项 1：通过远程或以管理员身份登录设备，复制 XML 文件（与 PEM 文件相对应的文件）。锁定屏幕将立即消失，且新配置也将生效。</p>
<p class="table">选项 2：删除 /enterprise/usr 文件夹中的 PEM 文件：锁定屏幕将立即消失，且设备将保留先前的配置。</p></td>
</tr>
</tbody>
</table>
</div>

<div class="tableblock">
<table rules="all" width="100%" frame="border" cellspacing="0" cellpadding="4">
<colgroup><col width="33%">
<col width="33%">
<col width="33%">
</colgroup><tbody>
<tr>
<td align="left" valign="top"><p class="table">当前状态</p></td>
<td align="left" valign="top"><p class="table">操作</p></td>
<td align="left" valign="top"><p class="table">结果</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">锁定状态</p></td>
<td align="left" valign="top"><p class="table">以管理员身份登录设备，并通过设备中的文件浏览器复制新的 XML 文件和相应的 PEM 文件。</p></td>
<td align="left" valign="top"><p class="table"><em>签名验证成功：</em>设备进入安全模式，且新配置生效。</p>
<p class="table"><em>签名验证失败：</em>显示锁定屏幕。新配置未生效。</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">锁定状态</p></td>
<td align="left" valign="top"><p class="table">远程复制新的 XML 文件和对应的 PEM 文件。</p></td>
<td align="left" valign="top"><p class="table"><em>签名验证成功：</em>锁定屏幕消失，设备进入安全模式，新配置生效。</p>
<p class="table"><em>签名验证失败：</em>锁定屏幕仍然存在，新配置未生效。</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">锁定状态</p></td>
<td align="left" valign="top"><p class="table">远程或通过本地管理员登录，删除 /enterprise/usr 文件夹中的 PEM 文件。</p></td>
<td align="left" valign="top"><p class="table"><em>如果设备之前处于安全模式：</em>锁定屏幕消失，设备继续在安全模式下，并使用之前的配置。</p>
<p class="table"><em>如果设备之前处于正常模式：</em>锁定屏幕消失，设备继续在正常模式下，并使用之前的配置。</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">锁定状态</p></td>
<td align="left" valign="top"><p class="table">请勿更改 /enterprise/usr 文件夹中的任何文件。卸载并重新安装 EHS。</p></td>
<td align="left" valign="top"><p class="table">EHS 启动时，将显示锁定屏幕。</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">锁定状态</p></td>
<td align="left" valign="top"><p class="table">删除 /enterprise/usr 文件夹中的 XML 文件和 PEM 文件。然后卸载并重新安装 EHS。</p></td>
<td align="left" valign="top"><p class="table">EHS 在正常模式下启动</p></td>
</tr>
</tbody>
</table>
</div>

<p></p></div>
</div>
</div>
<div class="sect1"><p></p>

<hr>

<h2 id="securitynotes" class="anchor"><a class="heading-anchor" href="#securitynotes"><span></span></a>安全备注</h2>

<p>本部分涵盖了 EHS 和 Android 功能之间可能影响设备安全或应用程序行为的重要交互。</p>

<h3 id="recentappslist" class="anchor"><a class="heading-anchor" href="#recentappslist"><span></span></a>最近应用程序列表</h3><ul><li>如果从最近应用程序列表访问某个应用程序，可能会带来安全隐患；未从列表中清除的应用程序可通过后退按钮激活，从而可能暴露非 EHS 主页屏幕。</li>

<li>在 Android Nougat 设备上，<strong>&ldquo;最近应用程序&rdquo;按钮可启用/禁用</strong>。它默认为禁用状态，以防止使用多窗口模式。</li>

<li>EHS 不会向 Android 最近应用程序列表中添加应用程序或活动，但在 EHS 内部启动的应用程序/活动则可能。此类应用程序/活动可能会启动最近应用程序列表中的其他应用程序，并带来安全风险。</li>

<li>重新启动设备，可以清除 Android L 之前设备上的最近应用程序列表。</li>

<li>Android L 设备重新启动后，会保留最近应用程序列表。可通过 EMDK、StageNow 或第三方 MDM 系统，使用 <a href="/mx/appmgr">App Manager</a> 清除列表。</li>

<li>要手动清除最近应用程序，请长按&ldquo;主页&rdquo;或&ldquo;菜单&rdquo;按钮（取决于设备），直到显示最近应用程序列表，然后再滑动屏幕，清除每个应用程序。</li></ul><h3 id="ehsandmxmultiuser" class="anchor"><a class="heading-anchor" href="#ehsandmxmultiuser"><span></span></a>EHS 和 MX 多用户</h3><ul><li>如果将 EHS 与 Zebra MX 多用户功能结合使用，禁用 EHS 锁屏功能便很重要。如果不这样做，会导致 MX 多用户登录屏幕无法显示。请参阅<a href="../settings#bypasskeyguard">绕过锁屏标签</a>，获取设置说明。</li>

<li>MX 多用户能够无视 EHS 强加的系统设置访问限制。用户以 MX 管理员身份登录，便可以随时完全访问系统设置。默认情况下，MX 非管理员用户只能访问&ldquo;声音&rdquo;、&ldquo;显示&rdquo;和&ldquo;关于&rdquo;屏幕。</li></ul><h3 id="otherunintendedaccess" class="anchor"><a class="heading-anchor" href="#otherunintendedaccess"><span></span></a>其他无意访问</h3><ul><li>在运行 Android 4.4 KitKat 的设备上，用户可以通过&ldquo;通知&rdquo;下拉菜单中的&ldquo;快速设置&rdquo;菜单，访问飞行模式、Wi-Fi、蓝牙和其他设备设置。这可以通过<a href="../settings#disablestatusbarsettings">禁用状态栏设置标签</a>防止。</li>

<li>通过这些 MX 模块，还可以单独禁用无线功能： <ul><li><a href="../../../../mx/settingsmgr">SettingsMgr</a> 适用于飞行模式和 Wi-Fi</li>

<li><a href="../../../../mx/uimgr">UiMgr</a> 适用于快速设置和&ldquo;齿轮&rdquo;图标</li>

<li><a href="../../../../mx/wirelessmgr">WirelessMgr</a> 适用于蓝牙、GPS、NFC 和 WWAN</li></ul></li>

<li>使用 EMDK 或 StageNow 工具可以访问 MX 模块。</li>

<li>在用户模式下捕捉屏幕截图（同时按下&ldquo;音量下调&rdquo;和&ldquo;电源&rdquo;按钮），会向用户显示图片库应用程序或用于共享图片的应用程序，如 Gmail 和 MMS。要防止发生此类情况，请在<a href="../settings#optionalfeaturetags">可选功能标签部分</a>的&ldquo;禁用/启用应用程序&rdquo;部分，禁用此类不需要的应用程序。</li>

<li>如果使用 Android 系统设置面板上的可编程按键功能，预设一个启动应用程序的按键，那么该按键映射便在用户模式下可用。</li></ul><hr>

<h2 id="installopenssl" class="anchor"><a class="heading-anchor" href="#installopenssl"><span></span></a>安装 OpenSSL</h2>

<p>在 Windows PC 上安装 OpenSSL 工具：</p>

<p>1.为 Windows 用户<a href="http://slproweb.com/products/Win32OpenSSL.html">下载 OpenSSL 1.0.1g 或更高版本</a>。</p>

<p>2.在与目标设备连接的计算机上安装 OpenSSL。</p>

<p>3.如果在安装过程中出现 Visual C++ 2008 警告，请忽略并完成安装。</p>

<p>4.在命令提示符处，导航至 OpenSSL 安装文件夹 (c:\OpenSSL-Win32\ by default)</p>

<p>5.通过执行以下命令，设置 OpenSSL 配置环境变量：</p>

<pre class="prettyprint"><code>C:\OpenSSL-Win32\ Set OPENSSL_CONF=C:\OpenSSL-Win32\bin\openssl.cfg</code></pre>

<p>OpenSSL 现可用于签署 EHS 文件。</p>

<hr><p></p>
                                        


                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                </section></div><!--/.col-sm-6--></section></div>
            
        
        

<div class="modal fade" id="basicModal" tabindex="-1" role="dialog" aria-labelledby="basicModal" aria-hidden="true" data-backdrop="true">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal" aria-hidden="true">X</button>
					</div>
					<div class="modal-body">
						<div id="modalImg">
						
						</div>
					</div>
			</div>
		  </div>
		</div> 
         <footer id="footer" class="navbar-fixed-bottom">
            <div class="container-fluid">
                <div class="row">
                    <div class="col-sm-10">© 2015 ZIH 公司和/或其关联公司。保留所有权利。Zebra 和标志性的斑马头像是 ZIH 公司在全球许多司法管辖区内注册的商标。所有其他商标均为其各自所有者的财产。<a href="https://www.zebra.com/us/en/about-zebra/company-information/compliance/information-privacy/terms-of-use.html">条款与条件</a></div>
                    <div class="col-sm-2"><ul class="social-icons"><li><a href="http://www.facebook.com/pages/Zebra-Technologies/107703715989073"><i class="fa fa-facebook"></i></a></li>
                            <li><a href="https://twitter.com/ZebraDevs"><i class="fa fa-twitter"></i></a></li>
                            <li><a href="http://www.youtube.com/zebratechnologies/"><i class="fa fa-youtube"></i></a></li>
                            <li><a href="https://www.linkedin.com/groups?home=&amp;gid=3220074&amp;trk=anet_ug_hm&amp;goback=%2Egmr_3220074"><i class="fa fa-linkedin"></i></a></li>
                            <li><a href="https://github.com/developer-zebra"><i class="fa fa-github"></i></a></li></ul></div>
                </div>
            </div>
        </footer><!--/#footer--><script src="/js/bootstrap.min.js"></script>
    <script src="/js/owl.carousel.min.js"></script>
    <script src="/js/mousescroll.js"></script>
    <script src="/js/smoothscroll.js"></script>
    <script src="/js/jquery.prettyPhoto.js"></script>
    <script src="/js/jquery.isotope.min.js"></script>
    <script src="/js/jquery.inview.min.js"></script>
    <script src="/js/wow.min.js"></script>
    <script src="/js/bootstrap-treenav.min.js"></script>
    <script src="/js/prettify.js"></script>
    <script src="/js/zepto.js"></script>
    <script src="/js/jquery.waterfall.js"></script>   
    <script src="/js/main.js"></script>

<script type="text/javascript">
  (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
  (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
  e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
  })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

  _st('install','zRzEsAUhWTTkrdEN2YfA','2.0.0');
</script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-72584442-1', 'auto');
  ga('send', 'pageview');

</script> 

<script>
    ChatraID = 'QDvZ76min4DhLW5vJ';
    (function(d, w, c) {
        var n = d.getElementsByTagName('script')[0],
            s = d.createElement('script');
        w[c] = w[c] || function() {
            (w[c].q = w[c].q || []).push(arguments);
        };
        s.async = true;
        s.src = (d.location.protocol === 'https:' ? 'https:': 'http:')
            + '//call.chatra.io/chatra.js';
        n.parentNode.insertBefore(s, n);
    })(document, window, 'Chatra');
</script>         


</body></html>