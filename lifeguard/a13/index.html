
<!DOCTYPE html>
<html lang="en"><head>

    <meta charset="utf-8">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="-1">
    <meta http-equiv="CACHE-CONTROL" content="NO-CACHE">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Online Documentation for Zebra Technologies developer tools and utilties, including EMDK for Android, EMDK for Xamarin, StageNow and Enterprise Browser.">
    <meta name="author" content="Zebra Technologies">
    <meta name="google-site-verification" content="i4B78BrWnNy8ShJwe5feRW3jO3HE6gfYlYqYbxfl8yY">
    <meta name="msvalidate.01" content="6B651B00161BCE79B8950AC09D5C4C75">
    <meta title="Android 13+ Upgrade (SD660)">
    <title>Android 13+ Upgrade (SD660) - TechDocs</title>
    <!-- core CSS -->
    <link href="/css/bootstrap.min.css" rel="stylesheet">
<!--     
    <link href="/css/font-awesome.min.css" rel="stylesheet">
 -->    
    <link href="/css/all.css" rel="stylesheet">
    <link href="/css/v4-shims.css" rel="stylesheet">
    <link href="/css/animate.min.css" rel="stylesheet">
    <link href="/css/owl.carousel.css" rel="stylesheet">
    <link href="/css/owl.transitions.css" rel="stylesheet">
    <link href="/css/prettyPhoto.css" rel="stylesheet">
    <link href="/css/main.css" rel="stylesheet">
    <link href="/css/responsive.css" rel="stylesheet">
    <link href="/css/prettify.css" rel="stylesheet">
    <link href="/css/bootstrap-treenav.min.css" rel="stylesheet">
    <!--[if lt IE 9]>
    <script src="js/html5shiv.js"></script>
    <script src="js/respond.min.js"></script>
    <![endif]--> 

    <!-- 6/13/24- a "crown" icon randomly appeared in the MX matrix today. Rob said it looked like sumo. 
        <script src="//load.sumome.com/" data-sumo-site-id="699cb66cf4dc59352efb45705526d15cbe314e1cd43f7761b94d96f3cf7338e8" async="async"></script> -->
    <link rel="shortcut icon" href="/favicon.ico">
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-01QJCMQM9N"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-01QJCMQM9N');
</script><script src="/js/jquery.js"></script></head><!--/head-->

<!-- Google tag -->





<body id="home" class="homepage" data-spy="scroll" data-offset="100" data-target="#toc">

    <header id="header">
        <nav id="main-menu" class="navbar navbar-default navbar-fixed-top" role="banner">
            <div class="container-fluid">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="/"><img src="/images/logo.png" alt="logo" style="max-height:66px;float: inherit;
    padding-right: 3px;"></a> 
                    
                   
                </div>
                <div class="collapse navbar-collapse navbar-left">
                    <ul class="nav navbar-nav">
                        <li class="navbar-text pull-left"><strong>TechDocs</strong></li>
                        <p class="navbar-text">
                                            LifeGuard
                        </p>

                    </ul>
                </div>
                <div class="collapse navbar-collapse navbar-right">
                    <ul class="nav navbar-nav">
                        


                        <li>
                            <a href="/lifeguard/about">
                                    About
                            </a>
                        </li>
                        <li>
                            <a href="/lifeguard/update">
                                    Device Update
                            </a>
                        </li>
                        <li>
                            <a href="/lifeguard/a13">
                                    A13+ Upgrade (SD660)
                            </a>
                        </li>
                        <li>
                            <a href="/lifeguard/a14">
                                    A14+ Upgrade (others)
                            </a>
                        </li>
                        <li>
                            <a href="/lifeguard/faq">
                                    FAQ
                            </a>
                        </li>
                        <li>
                            <a href="/lifeguard/search">
                                    <i class="fa fa-search"></i>
                            </a>
                        </li>
                        
                        <!-- <li ><a href="/products">SDKs</a></li>
                        <li ><a href="/samples">Samples</a></li>
                        <li ><a href="/guides">Guides</a></li>
                        <li ><a href="/tutorials">Tutorials</a></li>
                        <li ><a href="/apis">APIs</a></li> -->
                        <!-- <li><a href="#"><input type="text" class="st-default-search-input"></a></li> -->
                    </ul>
                </div>
            </div><!--/.container-->
        </nav><!--/nav-->
    </header><!--/header-->
<div class="container-fluid">
    <section id="blog">
        <div class="">
            <section class="content-with-sidebar">
            <div class="row">
                <div class="col-sm-3 hidden-sm hidden-xs" id="sidebar">
                    
                    
                    <nav id="toc" data-toggle="toc" data-spy="affix" style="height: 75%; max-width: 225px; overflow-y: auto; ">
                        
                        <ul class="nav">
                            <li><strong>Android 13+ Upgrade (SD660)</strong></li>
                        </ul>
                    </nav>
                    <div class="modal fade" id="modal-smartdocs" tabindex="-1" role="dialog" aria-labelledby="basicModal" aria-hidden="true" data-backdrop="true">
                    	<div class="modal-dialog">
                    		<div class="modal-content">
                    			<div class="modal-header">
                    				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">X</button>
                    			</div>
                    			<div class="modal-body">
                    				<form>
                    				  <div class="form-group">
                    				    <label for="exampleInputEmail1">MX Version On Device:</label>
                    				    <select class="form-control">
                    					  <option value="4.0">4.0</option>
                    					  <option value="4.1">4.1</option>
                    					  <option value="4.2">4.2</option>
                    					  <option value="4.3">4.3</option>
                    					  <option value="5.0">5.0</option>
                    					</select>
                    				  </div>						
                    				  <div class="form-group">
                    				    <label for="exampleInputEmail1">OSX Version On Device:</label>
                    				    <select class="form-control">
                    					  <option value="1.0">1.0</option>
                    					  <option value="1.2">1.2</option>
                    					  <option value="1.3.4-56">1.3.4-56</option>
                    					  <option value="3.4">3.4</option>
                    					  <option value="3.5">3.5</option>
                    					  <option value="3.6">3.6</option>
                    					  <option value="4.1">4.1</option>
                    					  <option value="4.2">4.2</option>
                    					  <option value="4.3">4.3</option>
                    					  <option value="4.4">4.4</option>
                    					</select>
                    				  </div>						
                    				  <div class="form-group">
                    				    <label for="exampleInputEmail1">Android Version On Device:</label>
                    				    <select class="form-control">
                    					  <option value="23">6.0 Marshmallow</option>
                    					  <option value="22">5.1 Lollipop</option>
                    					  <option value="21">5.0 Lollipop</option>
                    					  <option value="19">4.4 Kitkat</option>
                    					  <option value="18">4.3 Jellybean</option>
                    					  <option value="17">4.2.x Jellybean</option>
                    					  <option value="16">4.1.x Jellybean</option>
                    					  <option value="15">4.0.3-4.0.4 Ice Cream Sandwich</option>
                    					  <option value="14">4.0-4.0.2 Ice Cream Sandwich</option>
                    					  <option value="10">2.3.3-2.3.4 Gingerbread</option>
                    					</select>
                    				  </div>
                    				  <div class="form-group">
                    				  	<button class="primary" id="btn_SaveSmartDocOptions">Save Changes</button><button class="primary" id="btn_ClearSmartDocOptions">Clear Changes</button>
                    				  </div>
                    				</form>
                    			</div>
                    	</div>
                      </div>
                    </div>
                    
                    <script type="text/javascript">
                        $(document).ready(function() {
                        	$( "#btn_SaveSmartDocOptions" ).click(function() {
                      			console.log('Saving Options');
                      			$("#modal-smartdocs").modal({show: false});
                    		});
                        	$( "#btn_SaveSmartDocOptions" ).click(function() {
                      			console.log('Clearing Options');
                      			$("#modal-smartdocs").modal({show: false});
                    		});
                        });
                    </script><link rel="stylesheet" href="https://cdn.rawgit.com/afeld/bootstrap-toc/v0.3.0/dist/bootstrap-toc.min.css">
                    <script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v0.3.0/dist/bootstrap-toc.min.js"></script>
                    <script type="text/javascript">
                        $(document).ready(function() {
                    
                        });
                    
                    
                    </script>
                </div>                
                <div class="col-sm-9 ">
                    <div class="row">
                        <div class="col-sm-12">
                            <section id="cta" class="wow fadeIn">
                                <div class="">
                                    <h1 id="android-13-upgrade-sd660" class="anchor"><a class="heading-anchor" href="#android-13-upgrade-sd660"><span></span></a>Android 13+ Upgrade (SD660)</h1>
                                    <p>
                                            LifeGuard
                                    </p>
                                </div>
                            </section>                    
                        </div>
                    </div>
                    <div id="mainContent" class="row">
                        <div class="col-sm-12">
                            <div class="blog-post blog-large wow fadeInLeft" data-wow-duration="300ms" data-wow-delay="0ms">
                            <!-- Start of guide -->
                                <div class="service-box wow fadeInRight">
                                    <div class="">

                                        <p></p><blockquote>
  <p><i class="fa fa-calendar" style="color:#27AE60;"></i> <strong>PAGE UPDATED: May 28, 2024</strong></p>
</blockquote>

<div class="alert alert-danger alert-dismissible fade in" role="alert"> <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">×</span></button> <h4 id="-advisory" class="anchor"><a class="heading-anchor" href="#-advisory"><span></span></a><i class="fa fa-exclamation-circle" aria-hidden="true" style="color:#FF0000;"></i> ADVISORY</h4> <b><u>Administrators are advised to discard all ZCPs downloaded prior to March 6, 2024</u>.</b> 
<p></p> </div>

<hr>

<p></p><h2 id="overview" class="anchor"><a class="heading-anchor" href="#overview"><span></span></a>Overview</h2>

<p><strong>Android 13 or higher presents some unique challenges for organizations planning to migrate their Zebra <u><a href="https://supportcommunity.zebra.com/s/article/000022440?language=en_US">SDM660-platform devices</a></u></strong> from earlier Android versions. Updating such devices to Android 13 or higher <u>generally requires conversion from Full-Disk Encryption to File-Based Encryption,</u> resulting in <u>loss of applications, data and settings when the partition is rebuilt using the new encryption.</u> However, <b>Zebra has developed a unique migration process to help reduce data loss by backing up and restoring up to 3GB (after compression)* of apps, data and settings locally on devices during the upgrade.</b></p>

<p><strong>Choose <em><u>ONE</u></em> of the following migration upgrade methods based on whether data preservation is required:</strong></p>

<ul>
<li><a href="#migrationprocess">Android 13 or higher Migration with Persistence</a> - Use if on-device data preservation is required.</li>

<li><a href="#quickupgrade">Android 13 or higher Quick Upgrade</a> - Use if data preservation is <em>NOT</em> required, or if special action is <em>NOT</em> required to preserve data (e.g. data is preserved off-device).</li>
</ul>

<blockquote>
  <p><strong>IMPORTANT</strong>:<br></p>
</blockquote>

<ul>
<li><i class="fa fa-exclamation-triangle" style="color:#FFA500;"></i> <strong>Use of managed configurations requires</strong> the latest version of <strong><a href="https://play.google.com/store/apps/details?id=com.zebra.enrollmentmgr">Zebra Enrollment Manager</a> from Google Play</strong>.</li>

<li><i class="fa fa-exclamation-circle" style="color:#FF0000;"></i> <strong>Devices running Android 11 or later <em>SHOULD NOT</em> install the Zebra Common Transport Layer (CTL) from Google Play</strong>; the tool is preinstalled and self-updating.<br></li>
</ul>

<p><i><font size="2" color="DimGrey"> * Compression results vary depending on device contents. Text-based data compresses greatly, while app packages (APKs), images and videos compress very little. </font></i></p>

<!-- removed 5/28/24 per TUT-97899

   * <i class="fa fa-exclamation-triangle" style="color:#FFA500;"></i> **Temporary restrictions apply**. See [LifeGuard-A13 Incremental Updates](#lifeguarda13incrementalupdates), below.

 -->

<h2 id="-migration-process-this-migration-process-allows-for-the-preservation-of-select-apps-data-and-settings-on-the-device-through-data-backup-and-restore-to-simplify-this-migration-process-zebra-developed-zebra-file-guardian-a-utility-that-administrators-must-use-to-select-the-apps-data-and-settings-to-be-preserved-the-file-guardian-is-a-zebra-utility-contained-within-the-zebra-conversion-package-zcp-that-allows-administrators-to-choose-which-non-system-apps-data-and-settings-to-back-up-and-restore-during-the-migration-process-by-creating-a-single-golden-configuration-for-use-on-all-the-devices-in-a-device-persona-group-administrators-have-a-means-to-preserve-the-most-important-apps-data-and-settings-allowing-the-migration-process-to-proceed-even-if-some-of-the-devices-in-a-group-contain-data-in-excess-of-the-maximum-size-that-can-be-preserved-the-average-time-to-perform-this-process-on-a-device-is-approximately-25-minutes-requirements-zebra-sdm660-platform-device-with-a-supported-android-version-andor-lg-update-android-versions-that-support-this-migration-process-android-8-must-have-lg-version-01-23-1800-og-u15-std-or-later-android-9-must-be-upgraded-to-android-10-or-11-android-10-all-versions-supported-for-migration-to-a13-android-11-all-versions-supported-for-migration-to-a13-an-administrative-host-pc-the-pc-suitable-for-running-android-debug-bridge-adb-a-cable-to-connect-a-device-to-the-pc-via-usb-cables-vary-by-device-model--zcp-is-a-specialized-tool-created-by-zebra-that-is-required-forand-usable-only-bythis-migration-process-see-process-overview--preparation--android-8-devices-with-an-lg-version-earlier-than-the-above-can-be-updated-to-that-or-a-newer-lg-version-or-upgraded-to-android-10-or-11-attention--please-read-the-following-section-carefully-before-proceeding-with-migration-and-follow-all-provided-guidelines-failure-to-do-so-could-lead-to-data-loss-andor-failure-that-requires-manual-device-recovery-any-device-that-started-but-did-not-fully-complete-the-migration-process-should-be-considered-unsuitable-for-production-use-until-it-is-successfully-recovered-as-described-in-the-failure-recovery-section-process-considerations-limitations-the-my-lifeguard-updates-feature-of-the-zebra-stagenow-workstation-tool-cannot-be-used-to-automate-the-creation-of-a-staging-profile-to-perform-this-migration-process-this-is-because-any-staging-profile-made-using-my-lifeguard-updates-might-result-in-data-loss-to-avoid-data-loss-a-staging-profile-can-be-manually-created-to-automate-migration-based-on-the-guidance-in-this-document-this-migration-process-applies-only-to-devices-that-are-currently-using-full-disk-encryption-without-using-this-migration-process-such-devices-would-encounter-data-loss-when-upgraded-to-android-13-or-higher-this-generally-includes-devices-in-the-sdm660-device-list-if-a-device-is-already-using-file-based-encryption-eg-the-device-underwent-common-criteria-conversion-there-is-no-risk-of-data-loss-and-therefore-this-migration-process-is-not-required-this-migration-process-should-not-be-used-on-devices-that-use-the-sd-card-in-android-adoptable-storage-mode-it-does-not-support-the-backup-and-restoration-of-apps-data-or-settings-stored-on-the-sd-card-applying-this-migration-process-to-such-devices-will-result-in-the-loss-of-all-data-on-the-sd-card-and-might-require-manual-intervention-as-described-in-the-failure-recovery-section-of-this-document-this-migration-process-should-not-be-used-on-devices-with-multiple-profiles-or-users-the-migration-process-cannot-backup-and-restore-data-for-secondary-profiles-or-users-eg-cope-mode-byod-mode-multi-user-mode-and-therefore-would-result-in-loss-of-data-andor-unstable-device-functionality-device-batteries-must-have-30-charge-or-more-or-the-device-must-be-connected-to-ac-power-in-order-to-perform-the-os-update-part-of-the-migration-normally-data-stored-in-the-enterprise-partition-is-not-subject-to-data-loss-however-the-normal-persistence-process-is-suspended-during-the-migration-process-therefore-applications-data-and-settings-persisted-via-the-enterprise-partition-will-not-be-operative-after-the-migration-process-unless-they-are-specified-to-be-backed-up-and-restored-from-step-13-in-the-procedure-below-to-prepare-golden-configuration-after-the-migration-process-is-complete-and-the-device-is-upgraded-to-android-13-or-higher-the-normal-persistence-process-applies-again-eg-files-persist-after-subsequent-data-wipes-the-migration-process-is-capable-of-preserving-through-backup-and-restore-a-maximum-of-3gb-of-apps-data-and-settings-if-additional-storage-is-required-the-admin-can-prioritize-which-items-to-be-backed-up-first-however-if-there-is-insufficient-space-some-items-might-not-be-preserved-on-non-gms-devices-migrating-to-android-13-or-higher-this-process-does-not-persist-data-from-the-android-messaging-app-backup-and-restore-apps-data-and-settings-originally-applied-by-an-emm-can-be-reapplied-by-the-emm-after-migration-selecting-such-files-for-back-up-and-restoration-as-part-of-the-migration-process-is-not-required-however-this-requires-that-the-emm-agent-app-its-data-and-settings-are-selected-to-be-backed-up-and-that-the-emm-is-configured-to-restore-the-original-files-data-and-settings-for-system-apps-are-automatically-and-unconditionally-backed-up-and-restored-before-any-non-system-apps-are-backed-up-and-restored-gms-apps-are-system-apps-so-their-data-and-settings-are-automatically-and-unconditionally-backed-up-and-restored-since-gms-apps-can-be-updated-to-newer-versions-through-zebra-lifeguard-over-the-air-ota-migration-to-android-13-or-higher-could-result-in-a-temporary-downgrade-to-an-older-version-in-such-cases-lg-ota-might-update-the-device-again-when-the-migration-is-completed-a-device-administrator-is-expected-to-select-a-representative-device-from-deployment-and-consider-it-as-a-golden-device-against-which-the-golden-configuration-is-created-non-system-apps-and-their-data-and-settings-are-not-backed-up-and-restored-unless-explicitly-selected-via-a-golden-configuration-created-using-the-file-guardian-utility-other-considerations-the-migration-process-might-not-configure-all-devices-identically-since-the-migration-process-relies-on-backup-and-restore-to-preserve-data-it-might-require-separate-execution-on-devices-with-significantly-different-application-sets-organizing-the-devices-into-groups-might-be-necessary-to-allow-for-a-customized-migration-process-tailored-to-the-specific-needs-of-each-group-device-prep-is-sometimes-required-before-executing-certain-parts-of-the-migration-process-the-execution-of-the-migration-process-might-require-adjustments-based-on-the-specific-devices-and-timing-of-its-application-after-executing-certain-stages-of-the-migration-process-additional-finalization-steps-might-be-required-to-ensure-that-devices-reach-an-appropriate-final-production-state-verification-should-be-performed-to-ensure-that-the-results-of-the-migration-process-meet-expectations-and-that-the-devices-are-ready-to-return-to-production-use-process-overview--preparation-perform-initial-preparation-install-android-debug-bridge-adb-on-the-pc-how-to-set-up-adb-download-the-zebra-conversion-package-zcp-from-the-zebra-support-portals-lifeguard-for-android-updates-page-corresponding-to-devices-being-upgraded-zcp-download-link-as-seen-below-appears-only-for-relevant-and-supported-devices-click-image-to-enlarge-esc-to-exit-from-the-same-page-on-the-zebra-support-portal-download-the-android-13-or-higher-full-update-os-package-to-the-pc-zebra-recommends-renaming-the-downloaded-android-13-or-higher-os-image-file-to-fbe_fotazip-and-storing-it-in-a-folder-from-which-adb-will-be-executed-this-simplifies-subsequent-steps-that-use-adb-sufficient-storage-space-is-required-in-the-data-partition-of-devices-to-store-this-image-file-and-successfully-perform-the-migration-process-optionally-disable-emm-policies-that-might-interfere-with-or-complicate-the-migration-process-organize-devices-into-groups-based-on-usage-persona-identify-each-group-of-devices-that-is-representative-of-a-typical-usage-persona-organize-devices-into-multiple-groups-if-there-are-different-applications-installed-andor-significant-differences-in-the-amount-of-data-stored-choose-a-device-in-each-group-that-is-representative-of-the-devices-in-that-group-throughout-this-document-the-chosen-device-for-a-group-will-be-referred-to-as-the-golden-device-for-that-group-and-all-devices-in-a-group-that-are-not-the-golden-device-will-be-referred-to-as-target-devices-for-simplicity-if-all-devices-are-configured-similarly-there-is-only-one-usage-persona-resulting-in-a-single-group-and-a-single-golden-device-execute-the-migration-procedure-for-each-group-of-devices-if-applicable-perform-any-final-steps-required-after-all-groups-of-devices-have-completed-the-upgrade-this-might-include-a-reversal-or-stricter-enforcement-of-certain-steps-performed-during-preparation-for-example-it-might-be-desirable-to-re-enable-some-emm-policies-that-were-disabled-as-part-of-preparation-optionally-verification-can-be-performed-to-ensure-that-the-resulting-outcome-meets-expectations-for-example-a-report-could-be-generated-from-an-emm-to-verify-whether-all-devices-that-underwent-the-migration-process-are-correctly-reporting-android-13-or-higher-as-their-operating-system-and-functioning-as-expected-migration-procedure-follow-this-procedure-for-each-group-of-devices-required-for-the-migration-see-process-overview--preparation-to-identify-individual-device-groups-part-1-adjust-password-policy-if-necessary-remove-password-policies-from-all-devices-in-the-group-to-ensure-that-migration-operations-can-be-completed-the-migration-process-always-results-in-the-loss-of-any-existing-pinpassword-that-was-present-on-the-device-prior-to-the-migration-process-if-a-password-policy-is-applied-using-an-emm-it-could-result-in-an-emm-specific-interruption-in-the-migration-process-flow-removing-such-a-policy-could-result-to-a-smoother-migration-process-such-policies-should-be-restored-during-finalization-as-needed-on-devices-with-zebra-enterprise-login-screen-els-installed-zebra-recommends-using-bypass-credentials-to-proceed-if-desired-remove-pinspasswords-from-devices-to-make-the-migration-process-fully-unattended-if-android-secure-startup-is-enabled-on-the-devices-the-user-is-required-to-enter-a-pinpassword-after-every-reboot-since-the-migration-process-includes-multiple-reboots-leaving-secure-startup-enabled-prevents-the-migration-process-from-being-fully-unattended-if-android-secure-startup-is-disabled-on-the-devices-and-a-pinpassword-is-set-the-user-is-requested-to-enter-a-pinpassword-after-each-reboot-the-migration-process-is-designed-to-proceed-even-without-such-entry-and-therefore-can-proceed-fully-unattended-part-2-create-golden-config-to-create-a-golden-configuration-to-apply-to-target-devices-perform-the-following-steps-manually-on-the-golden-device-identified-from-a-group-of-devices-for-a-given-usage-persona-if-necessary-relax-any-restrictions-applied-to-the-golden-device-that-might-prevent-the-use-of-adb-on-the-pc-to-push-and-pull-files-to-and-from-the-golden-device-such-restrictions-might-include-one-or-more-of-the-following-mx-usbmgr-usb-module-usage-set-to-disable-thus-preventing-all-use-of-usb-on-the-golden-device-mx-usbmgr-adb-enabledisable-set-to-disable-thus-preventing-use-of-adb-on-the-golden-device-mx-accessmgr-system-settings-access-set-to-anything-other-than-full-thus-preventing-the-user-from-launching-the-settings-ui-to-enable-adb-mx-uimgr-gear-icon-showhide-set-to-hide-thus-preventing-the-user-from-launching-the-settings-ui-from-the-gear-icon-in-the-notification-panel-mx-uimgr-notification-pulldown-enabledisable-set-to-disable-thus-preventing-the-user-from-pulling-down-the-notification-panel-and-thus-preventing-the-user-from-launching-the-settings-ui-from-the-gear-icon-in-the-notification-panel-if-an-emm-is-preventing-the-use-of-adb-enable-adb-usage-on-the-golden-device-by-configuring-the-emm-settings-using-a-launcher-to-lock-down-the-device-and-prevent-the-user-from-launching-the-settings-ui-set-up-adb-on-the-golden-device-by-following-these-steps-on-the-golden-device-launch-android-settings-panel-scroll-down-and-select-about-phone-scroll-down-to-build-number-tap-on-build-number-seven-times-to-become-a-developer-tap-back-to-return-to-settings-main-page-scroll-down-and-select-system-select-advanced-select-developer-options-scroll-down-and-enable-usb-debugging-connect-the-golden-device-to-the-pc-using-the-appropriate-cable-set-up-adb-for-use-from-the-pc-by-following-these-steps-on-the-pc-open-a-command-prompt-and-change-to-a-directory-where-adb-can-be-executed-how-to-set-up-adb-connect-the-pc-to-the-golden-device-via-adb-using-the-devices-command-xml-adb-devices-if-usb-debugging-had-not-previously-been-allowed-on-the-golden-device-adb-might-display-the-device-id-and-the-unauthorized-on-the-pc-and-the-popup-allow-usb-debugging-on-the-golden-device-tap-allow-button-on-the-device-ignore-the-pc-message-if-necessary-use-the-devices-command-again-to-connect-the-pc-to-the-golden-device-via-adb-xml-adb-devices-now-adb-should-display-the-device-id-and-the-word-device-indicating-that-adb-is-working-properly-and-usb-debugging-is-allowed-recommended-determine-the-type-of-encryption-in-use-on-the-golden-device-to-determine-whether-data-preservation-is-required-and-would-therefore-need-to-be-applied-to-target-devices-in-the-same-group-from-the-pc-use-the-command-xml-adb-shell-getprop-rocryptotype-if-the-value-block-is-returned-the-device-is-using-full-disk-encryption-and-the-migration-process-is-required-to-prevent-data-loss-if-the-value-file-is-returned-the-device-is-using-file-based-encryption-and-no-data-loss-will-occur-as-part-of-the-upgrade-to-android-13-or-higher-skip-to-the-android-13-or-higher-upgrade-section-of-this-document-push-the-android-13-os-image-to-the-golden-device-in-the-required-folder-and-with-the-required-file-name-using-adb-xml-adb-push-fbe_fotazip-datatmppublicfbe_fotazip-the-adb-command-above-assumes-that-the-android-13-or-higher-os-image-is-downloaded-to-the-pc-and-placed-in-the-folder-from-which-adb-is-run-with-the-required-name-if-that-is-not-the-case-modify-the-first-source-file-argument-to-the-adb-command-must-specify-the-path-to-where-the-file-is-located-with-the-correct-file-name-the-second-destination-argument-to-the-adb-command-must-not-be-changed-since-the-exact-specified-folder-and-file-name-of-the-file-on-the-device-must-be-used-in-order-for-the-migration-process-to-work-correctly-attention--do-not-proceed-with-the-subsequent-steps-if-the-adb-command-for-this-step-fails-for-example-due-to-insufficient-available-storage-space-if-this-occurs-the-golden-device-must-be-recovered-as-described-in-the-failure-recovery-section-confirm-that-the-pushed-file-is-world-readablewritable-xml-adb-shell-chmod-666-datatmppublicfbe_fotazip-put-the-golden-device-in-recovery-mode-xml-adb-reboot-recovery-from-the-recovery-mode-ui-on-golden-device-select-apply-upgrade-from-adb-to-start-listening-for-zcp-to-be-sent-from-pc-send-zcp-from-pc-to-the-golden-device-where-zcp-is-the-path-and-file-name-of-where-zcp-was-previously-downloaded-to-the-pc-xml-adb-sideload-zcp-from-the-recovery-mode-ui-on-the-golden-device-select-reboot-system-now-to-boot-the-device-to-android-13-or-higher-zcp-presents-a-screen-on-the-golden-device-from-which-the-file-guardian-utility-can-be-launched-if-the-icon-seen-in-the-image-below-is-visible-on-the-golden-device-proceed-to-step-12-click-image-to-enlarge-esc-to-exit-if-the-emm-has-been-enrolled-and-configured-to-disable-system-apps-the-file-guardian-utility-might-be-disabled-if-the-golden-device-displays-a-screen-like-the-image-below-use-the-emm-to-enable-the-file-guardian-utility-package-name-comzebrafileutility-on-the-golden-device-and-reboot-the-golden-device-the-screen-shown-in-step-10-allowing-the-file-guardian-utility-should-appear-on-the-golden-device-after-it-reboots-click-image-to-enlarge-esc-to-exit-tap-the-icon-as-seen-in-step-10-to-launch-zebra-file-guardian-select-and-prioritize-the-apps-data-and-settings-to-be-preserved-following-the-steps-below-save-backup-information-as-the-golden-configuration-file-for-the-group-of-devices-represented-by-the-golden-device-tap-get-started-to-proceed-click-image-to-enlarge-esc-to-exit-after-a-few-moments-the-tool-presents-a-list-of-all-apps-and-data-on-the-device-with-an-interface-for-making-selections-click-image-to-enlarge-esc-to-exit-tap-to-select-apps-and-files-to-preserve-if-the-size-limit-is-reached-it-might-be-necessary-to-de-select-some-items-or-move-them-lower-in-the-priority-see-next-step-click-image-to-enlarge-esc-to-exit-after-selecting-files-to-be-preserved-drag-the-most-important-files-toward-the-top-when-finished-tap-proceed-and-then-save-xml-to-store-the-golden-config-click-image-to-enlarge-esc-to-exit-skip-this-step-only-if-all-target-devices-are-identicalthe-options-on-this-screen-allow-for-the-testing-of-devices-similar-to-the-golden-device-to-help-determine-whether-those-devices-will-migrate-successfully-using-the-golden-configuration-gc-being-created-now-learn-more-about-these-optional-assessment-tests-zebra-recommends-selecting-both-the-storage-size-check-and-precondition-check-tap-proceed-to-continue-click-image-to-enlarge-esc-to-exit-when-the-message-below-is-displayed-its-safe-to-proceed-to-the-next-step-take-note-of-the-backup-file-location-on-the-device-click-image-to-enlarge-esc-to-exit-tap-ok-extract-the-golden-configuration-file-from-the-golden-device-and-onto-the-pc-xml-adb-pull-enterpriseusrpersistbackup_restore_configxml-backup_restore_configxml-the-second-destination-argument-can-be-changed-to-give-the-file-a-different-name-on-the-pc-than-is-on-the-golden-device-this-might-be-desirable-for-keeping-track-of-multiple-golden-configuration-files-for-multiple-groups-however-when-pushing-a-golden-configuration-file-to-devices-it-must-be-pushed-with-the-name-backup_restore_configxml-which-is-hard-coded-in-the-restoration-process-scripts-22-tap-proceed-with-device-update-button-click-image-to-enlarge-esc-to-exit-23-when-the-golden-device-boots-into-android-13-or-higher-reapply-any-restrictions-that-were-relaxed-in-step-1-if-applicable-to-finalize-the-state-of-the-golden-device-24-test-the-golden-device-to-ensure-that-_-it-has-been-updated-properly-and-is-in-an-acceptable-production-state-_-the-preserved-apps-data-and-settings-are-present-and-accounted-for--if-either-of-these-conditions-is-not-met-it-is-not-advisable-to-move-on-to-the-next-part-of-the-migration-process-to-proceed-make-any-necessary-corrections-to-the-manual-process-and-apply-the-revised-process-to-a-new-golden-device-selected-from-the-same-group-until-the-golden-device-finishes-the-process-in-an-acceptable-state-any-migration-failure-on-a-golden-device-should-be-handled-as-described-in-the-failure-recovery-section-of-this-document-part-3-test-golden-config-to-test-the-golden-configuration-perform-the-following-steps-on-a-selected-subset-of-target-devices-determine-the-method-to-use-for-automating-migration-emm-stagenow-etc-use-that-method-as-needed-to-perform-steps-28-below-be-sure-to-verify-that-the-selected-method-ensures-permissions-on-pushed-files-allow-global-readwrite-permissions-eg-666-or-777-zebra-mx-filemgr-through-stagenow-or-oemconfig-does-this-automatically-an-emm-might-require-an-extra-step-use-the-selected-automation-method-from-step-1-to-push-the-golden-configuration-file-backup_restore_configxml-extracted-from-the-golden-device-for-the-group-to-the-file-path-enterpriseusrpersistbackup_restore_configxml-on-all-target-devices-in-the-chosen-subset-if-using-lifeguard-ota-via-zebra-dna-cloud-zdna-or-an-integrated-emm-system-execute-the-upgrade-from-the-zdna-or-emm-portal-as-normal-skip-to-step-5-if-not-using-lifeguard-ota-via-zebra-dna-cloud-zdna-or-an-integrated-emm-system-push-the-android-13-or-higher-os-image-to-the-file-path-datatmppublicfbe_fotazip-on-the-target-device-in-the-chosen-subset-using-the-chosen-method-perform-an-os-upgrade-to-the-zcp-on-the-target-devices-in-the-chosen-subset-using-the-chosen-method-if-the-automated-process-cannot-proceed-unattended-monitor-target-devices-and-enter-the-pinpassword-andor-perform-other-actions-as-needed-to-ensure-that-all-target-devices-complete-the-process-verify-the-target-devices-to-ensure-that-they-are-properly-updated-from-the-automated-process-and-they-are-all-in-an-acceptable-production-state-including-the-expected-preservation-of-required-applications-and-data-if-not-satisfied-with-the-state-of-any-of-the-any-devices-in-the-chosen-subset-zebra-recommends-making-any-necessary-corrections-in-the-automated-process-and-applying-it-to-a-new-chosen-subset-of-target-devices-selected-from-the-same-group-until-the-expected-result-is-achieved-on-all-target-devices-in-the-chosen-subset-if-desired-steps-1-6-above-can-be-repeated-for-other-device-personas-if-any-address-any-failure-in-the-migration-process-as-described-in-the-failure-recovery-section-the-migration-process-might-proceed-fully-unattended-automatically-rebooting-multiple-times-until-the-device-is-in-the-final-state-on-android-13-or-higher-otherwise-depending-on-the-starting-state-of-the-device-and-depending-on-whether-any-configurations-are-changed-during-preparation-the-process-might-not-proceed-fully-unattended-and-manual-interventions-eg-enter-a-pinpasscode-might-be-required-for-a-device-to-reach-the-final-state-on-android-13-or-higher-aside-from-required-interventions-users-should-be-instructed-not-to-interfere-with-devices-during-the-migration-process-optional-assessment-tests-optional-assessment-tests-are-recommended-only-if-all-target-devices-in-the-selected-persona-are-not-identical-or-if-the-precondition-state-or-storage-capacity-of-some-devices-in-a-given-persona-are-not-fully-known-assessment-tests-allow-the-golden-configuration-gc-file-created-previously-to-be-used-to-test-devices-similar-to-the-golden-device-to-help-determine-whether-those-devices-will-migrate-successfully-using-that-gc-or-if-further-actions-would-be-required-for-migration-test-results-assessment-test-results-estimate-whether-remediation-of-affected-devices-might-increase-the-chance-of-successful-migration-click-image-to-enlarge-esc-to-exit-to-perform-an-assessment-push-the-original-golden-configuration-gc-backup_restore_configxml-to-the-following-device-location-enterpriseusrpersist-download-the-zebra-file-guardian-utility-for-the-target-device-from-the-conversion-package-section-of-its-lifeguard-update-page-install-file-guardian-on-the-device-using-the-chosen-method-emm-stagenow--appmgr-etc-if-using-stagenow-or-an-emm-send-the-broadcast-intent-action-comzebraintentactionstart_coarse_estimate-and-specify-the-component-comzebrafileutilitycomzebrafileutilitystandardoscalculation-upon-receiving-the-intent-file-guardian-will-consume-the-gc-file-and-perform-the-assessment-in-two-phases-assessment-of-backup-data-size-assessment-of-preconditions-required-for-backuprestore-process-the-assessment-result-is-placed-in-one-of-the-following-device-folders-lifeguard-ota-enterpriseusrpersistbackup_readiness_statusxml-emm-airwatchsoti-enterpriseusrattributescomzebrafileutilityxml-parse-the-assessment-status-file-to-help-identify-the-course-of-action-for-remediation-the-emm-agent-must-pull-the-comzebrafileutilityxml-status-file-from-the-device-using-mx-filemanager-some-emms-can-be-configured-through-rules-to-monitor-a-file-on-the-device-and-display-test-results-in-the-emm-console-remediate-after-assessment-after-parsing-the-test-output-file-administrators-might-pursue-the-following-remedial-actions-data-is-more-than-available-remove-apps-andor-data-from-target-and-re-assess-ignore-the-warning-and-proceed-with-migration-allowing-file-prioritization-stored-with-the-gc-to-control-which-files-are-preserved-could-result-in-data-loss-make-a-new-gc-from-devices-not-identical-to-the-first-golden-device-and-apply-to-all-similar-devices-precondition-not-met-analyze-and-correct-condition-manually-back-up-data-migrate-to-android-13-or-higher-which-requires-wiping-device-and-manually-restore-data-part-4-mass-deploy-after-successfully-verifying-a-small-chosen-subset-of-target-devices-in-a-group-the-migration-process-can-be-applied-to-all-remaining-target-devices-in-the-group-these-remaining-devices-might-be-broken-down-into-subsets-for-logistical-reasons-follow-the-same-steps-described-in-part-3-for-the-remainder-of-the-target-devices-in-the-group-or-subsets-of-devices-until-the-migration-process-is-complete-for-the-group-part-5-repeat-process-if-there-are-multiple-device-groups-repeat-the-migration-procedure-for-every-group-failure-recovery-if-the-android-migration-process-fails-to-complete-on-a-golden-device-or-on-a-target-device-it-could-leave-the-device-running-the-zebra-conversion-package-zcp-since-devices-running-zcp-are-not-suitable-for-production-use-some-manual-intervention-is-generally-required-in-this-situation-if-any-of-the-following-symptoms-of-failure-is-detected-on-any-device-take-the-recommended-actions-to-recover-that-device-device-runs-android-13-or-higher-and-appears-stable-if-the-device-does-not-crash-and-all-expected-apps-data-and-settings-are-present-and-working-as-expected-re-apply-any-restrictions-that-were-relaxed-on-a-golden-device-to-allow-the-use-of-adb-re-enable-any-policies-that-were-disabled-to-return-the-device-to-production-state-test-the-device-to-be-sure-it-is-ready-for-production-deployment-device-remains-in-boot-mode-or-repeatedly-boots-zcp-if-the-device-is-caught-in-a-boot-loop-or-only-runs-the-zebra-conversion-package-reboot-the-device-into-recovery-mode-instructions-vary-by-device-refer-to-the-device-update-guide-or-product-documentation-once-in-recovery-mode-select-apply-upgrade-from-adb-to-start-listening-for-the-android-13-or-higher-os-image-to-be-sent-from-pc-on-the-pc-send-the-android-13-or-higher-os-image-from-pc-to-the-golden-device-where-a13-is-the-path-and-file-name-of-the-location-where-the-android-13-or-higher-os-image-was-previously-downloaded-on-the-pc-xml-adb-sideload-a13-from-the-recovery-mode-ui-on-the-golden-device-select-reboot-system-now-if-the-device-boots-successfully-into-zcp-resume-the-migration-process-device-is-stuck-in-the-middle-of-the-upgrade-try-rebooting-the-device-zcp-should-automatically-re-attempt-the-upgrade-again-to-android-13-or-higher-if-the-device-keeps-getting-stuck-in-the-upgrade-return-to-step-1-in-device-remains-in-boot-mode-section-above-device-not-running-android-13-or-higher-or-is-unstable-if-the-device-crashes-or-the-expected-apps-data-and-settings-are-not-present-or-not-working-as-expected-contact-zebra-support-for-assistance-quick-upgrade-lifeguard-ota-automatic-and-custom-updates-to-android-13-or-higher-organizations-using-zebra-lifeguard-over-the-air-ota-to-manage-devices-can-use-the-golden-config-file-created-using-the-process-above-to-automatically-upgrade-to-android-13-or-higher-potentially-without-data-loss-the-lifeguard-ota-automatically-restores-the-data-preserved-during-the-golden-config-process-after-a-few-additional-steps-below-the-following-manual-steps-are-required-deploy-the-golden-config-backup_restore_configxml-file-to-the-device-using-any-desired-method-emm-stagenow-etc-download-and-install-the-zebra-file-guardian-utility-for-the-target-device-from-the-conversion-package-section-of-any-supported-lifeguard-update-page-devices-not-upgraded-in-this-way-receive-only-android-11-updates--many-factors-can-effect-successful-data-restoration-including-contents-of-the-backup-file-available-space-on-target-devices-and-whether-optional-precondition-assessment-testing-was-performed-lifeguard-ota-will-not-attempt-migration-on-devices-with-any-failed-assessment-caution--the-processes-described-below-might-result-in-data-loss-follow-these-procedures-only-when-certain-that-data-loss-is-not-a-concern-if-unsure-read-the-earlier-portions-of-this-document-to-determine-whether-using-one-of-these-simplified-procedures-is-appropriate-for-the-situation-simplified-a13-migration-possible-data-loss-the-methods-used-to-perform-upgrades-to-android-13-or-higher-are-the-same-as-those-for-other-oses-the-following-are-common-methods-for-android-upgrades-based-on-the-tool-used-zebra-stagenow-use-the-my-lifeguard-updates-feature-of-the-zebra-stagenow-workstation-tool-to-automate-the-creation-of-a-staging-profile-to-perform-the-upgrade-from-the-current-pre-android-13-os-to-the-desired-android-13-or-higher-os-use-stagenow-to-manually-build-a-staging-profile-that-automates-the-upgrade-from-the-current-pre-android-13-os-to-the-desired-android-13-or-higher-os-emm-system-use-an-emm-that-supports-zebra-oemconfig-to-perform-the-upgrade-from-the-current-pre-android-13-os-to-the-desired-android-13-or-higher-os-use-an-emm-with-integrated-support-for-performing-os-upgrades-of-zebra-devices-to-perform-the-upgrade-from-the-current-pre-android-13-os-to-the-desired-android-13-or-higher-os-use-an-emm-that-supports-submitting-xml-to-zebra-mx-to-perform-the-upgrade-from-the-current-pre-android-13-os-to-the-desired-android-13-or-higher-os-" class="anchor"><a class="heading-anchor" href="#-migration-process-this-migration-process-allows-for-the-preservation-of-select-apps-data-and-settings-on-the-device-through-data-backup-and-restore-to-simplify-this-migration-process-zebra-developed-zebra-file-guardian-a-utility-that-administrators-must-use-to-select-the-apps-data-and-settings-to-be-preserved-the-file-guardian-is-a-zebra-utility-contained-within-the-zebra-conversion-package-zcp-that-allows-administrators-to-choose-which-non-system-apps-data-and-settings-to-back-up-and-restore-during-the-migration-process-by-creating-a-single-golden-configuration-for-use-on-all-the-devices-in-a-device-persona-group-administrators-have-a-means-to-preserve-the-most-important-apps-data-and-settings-allowing-the-migration-process-to-proceed-even-if-some-of-the-devices-in-a-group-contain-data-in-excess-of-the-maximum-size-that-can-be-preserved-the-average-time-to-perform-this-process-on-a-device-is-approximately-25-minutes-requirements-zebra-sdm660-platform-device-with-a-supported-android-version-andor-lg-update-android-versions-that-support-this-migration-process-android-8-must-have-lg-version-01-23-1800-og-u15-std-or-later-android-9-must-be-upgraded-to-android-10-or-11-android-10-all-versions-supported-for-migration-to-a13-android-11-all-versions-supported-for-migration-to-a13-an-administrative-host-pc-the-pc-suitable-for-running-android-debug-bridge-adb-a-cable-to-connect-a-device-to-the-pc-via-usb-cables-vary-by-device-model--zcp-is-a-specialized-tool-created-by-zebra-that-is-required-forand-usable-only-bythis-migration-process-see-process-overview--preparation--android-8-devices-with-an-lg-version-earlier-than-the-above-can-be-updated-to-that-or-a-newer-lg-version-or-upgraded-to-android-10-or-11-attention--please-read-the-following-section-carefully-before-proceeding-with-migration-and-follow-all-provided-guidelines-failure-to-do-so-could-lead-to-data-loss-andor-failure-that-requires-manual-device-recovery-any-device-that-started-but-did-not-fully-complete-the-migration-process-should-be-considered-unsuitable-for-production-use-until-it-is-successfully-recovered-as-described-in-the-failure-recovery-section-process-considerations-limitations-the-my-lifeguard-updates-feature-of-the-zebra-stagenow-workstation-tool-cannot-be-used-to-automate-the-creation-of-a-staging-profile-to-perform-this-migration-process-this-is-because-any-staging-profile-made-using-my-lifeguard-updates-might-result-in-data-loss-to-avoid-data-loss-a-staging-profile-can-be-manually-created-to-automate-migration-based-on-the-guidance-in-this-document-this-migration-process-applies-only-to-devices-that-are-currently-using-full-disk-encryption-without-using-this-migration-process-such-devices-would-encounter-data-loss-when-upgraded-to-android-13-or-higher-this-generally-includes-devices-in-the-sdm660-device-list-if-a-device-is-already-using-file-based-encryption-eg-the-device-underwent-common-criteria-conversion-there-is-no-risk-of-data-loss-and-therefore-this-migration-process-is-not-required-this-migration-process-should-not-be-used-on-devices-that-use-the-sd-card-in-android-adoptable-storage-mode-it-does-not-support-the-backup-and-restoration-of-apps-data-or-settings-stored-on-the-sd-card-applying-this-migration-process-to-such-devices-will-result-in-the-loss-of-all-data-on-the-sd-card-and-might-require-manual-intervention-as-described-in-the-failure-recovery-section-of-this-document-this-migration-process-should-not-be-used-on-devices-with-multiple-profiles-or-users-the-migration-process-cannot-backup-and-restore-data-for-secondary-profiles-or-users-eg-cope-mode-byod-mode-multi-user-mode-and-therefore-would-result-in-loss-of-data-andor-unstable-device-functionality-device-batteries-must-have-30-charge-or-more-or-the-device-must-be-connected-to-ac-power-in-order-to-perform-the-os-update-part-of-the-migration-normally-data-stored-in-the-enterprise-partition-is-not-subject-to-data-loss-however-the-normal-persistence-process-is-suspended-during-the-migration-process-therefore-applications-data-and-settings-persisted-via-the-enterprise-partition-will-not-be-operative-after-the-migration-process-unless-they-are-specified-to-be-backed-up-and-restored-from-step-13-in-the-procedure-below-to-prepare-golden-configuration-after-the-migration-process-is-complete-and-the-device-is-upgraded-to-android-13-or-higher-the-normal-persistence-process-applies-again-eg-files-persist-after-subsequent-data-wipes-the-migration-process-is-capable-of-preserving-through-backup-and-restore-a-maximum-of-3gb-of-apps-data-and-settings-if-additional-storage-is-required-the-admin-can-prioritize-which-items-to-be-backed-up-first-however-if-there-is-insufficient-space-some-items-might-not-be-preserved-on-non-gms-devices-migrating-to-android-13-or-higher-this-process-does-not-persist-data-from-the-android-messaging-app-backup-and-restore-apps-data-and-settings-originally-applied-by-an-emm-can-be-reapplied-by-the-emm-after-migration-selecting-such-files-for-back-up-and-restoration-as-part-of-the-migration-process-is-not-required-however-this-requires-that-the-emm-agent-app-its-data-and-settings-are-selected-to-be-backed-up-and-that-the-emm-is-configured-to-restore-the-original-files-data-and-settings-for-system-apps-are-automatically-and-unconditionally-backed-up-and-restored-before-any-non-system-apps-are-backed-up-and-restored-gms-apps-are-system-apps-so-their-data-and-settings-are-automatically-and-unconditionally-backed-up-and-restored-since-gms-apps-can-be-updated-to-newer-versions-through-zebra-lifeguard-over-the-air-ota-migration-to-android-13-or-higher-could-result-in-a-temporary-downgrade-to-an-older-version-in-such-cases-lg-ota-might-update-the-device-again-when-the-migration-is-completed-a-device-administrator-is-expected-to-select-a-representative-device-from-deployment-and-consider-it-as-a-golden-device-against-which-the-golden-configuration-is-created-non-system-apps-and-their-data-and-settings-are-not-backed-up-and-restored-unless-explicitly-selected-via-a-golden-configuration-created-using-the-file-guardian-utility-other-considerations-the-migration-process-might-not-configure-all-devices-identically-since-the-migration-process-relies-on-backup-and-restore-to-preserve-data-it-might-require-separate-execution-on-devices-with-significantly-different-application-sets-organizing-the-devices-into-groups-might-be-necessary-to-allow-for-a-customized-migration-process-tailored-to-the-specific-needs-of-each-group-device-prep-is-sometimes-required-before-executing-certain-parts-of-the-migration-process-the-execution-of-the-migration-process-might-require-adjustments-based-on-the-specific-devices-and-timing-of-its-application-after-executing-certain-stages-of-the-migration-process-additional-finalization-steps-might-be-required-to-ensure-that-devices-reach-an-appropriate-final-production-state-verification-should-be-performed-to-ensure-that-the-results-of-the-migration-process-meet-expectations-and-that-the-devices-are-ready-to-return-to-production-use-process-overview--preparation-perform-initial-preparation-install-android-debug-bridge-adb-on-the-pc-how-to-set-up-adb-download-the-zebra-conversion-package-zcp-from-the-zebra-support-portals-lifeguard-for-android-updates-page-corresponding-to-devices-being-upgraded-zcp-download-link-as-seen-below-appears-only-for-relevant-and-supported-devices-click-image-to-enlarge-esc-to-exit-from-the-same-page-on-the-zebra-support-portal-download-the-android-13-or-higher-full-update-os-package-to-the-pc-zebra-recommends-renaming-the-downloaded-android-13-or-higher-os-image-file-to-fbe_fotazip-and-storing-it-in-a-folder-from-which-adb-will-be-executed-this-simplifies-subsequent-steps-that-use-adb-sufficient-storage-space-is-required-in-the-data-partition-of-devices-to-store-this-image-file-and-successfully-perform-the-migration-process-optionally-disable-emm-policies-that-might-interfere-with-or-complicate-the-migration-process-organize-devices-into-groups-based-on-usage-persona-identify-each-group-of-devices-that-is-representative-of-a-typical-usage-persona-organize-devices-into-multiple-groups-if-there-are-different-applications-installed-andor-significant-differences-in-the-amount-of-data-stored-choose-a-device-in-each-group-that-is-representative-of-the-devices-in-that-group-throughout-this-document-the-chosen-device-for-a-group-will-be-referred-to-as-the-golden-device-for-that-group-and-all-devices-in-a-group-that-are-not-the-golden-device-will-be-referred-to-as-target-devices-for-simplicity-if-all-devices-are-configured-similarly-there-is-only-one-usage-persona-resulting-in-a-single-group-and-a-single-golden-device-execute-the-migration-procedure-for-each-group-of-devices-if-applicable-perform-any-final-steps-required-after-all-groups-of-devices-have-completed-the-upgrade-this-might-include-a-reversal-or-stricter-enforcement-of-certain-steps-performed-during-preparation-for-example-it-might-be-desirable-to-re-enable-some-emm-policies-that-were-disabled-as-part-of-preparation-optionally-verification-can-be-performed-to-ensure-that-the-resulting-outcome-meets-expectations-for-example-a-report-could-be-generated-from-an-emm-to-verify-whether-all-devices-that-underwent-the-migration-process-are-correctly-reporting-android-13-or-higher-as-their-operating-system-and-functioning-as-expected-migration-procedure-follow-this-procedure-for-each-group-of-devices-required-for-the-migration-see-process-overview--preparation-to-identify-individual-device-groups-part-1-adjust-password-policy-if-necessary-remove-password-policies-from-all-devices-in-the-group-to-ensure-that-migration-operations-can-be-completed-the-migration-process-always-results-in-the-loss-of-any-existing-pinpassword-that-was-present-on-the-device-prior-to-the-migration-process-if-a-password-policy-is-applied-using-an-emm-it-could-result-in-an-emm-specific-interruption-in-the-migration-process-flow-removing-such-a-policy-could-result-to-a-smoother-migration-process-such-policies-should-be-restored-during-finalization-as-needed-on-devices-with-zebra-enterprise-login-screen-els-installed-zebra-recommends-using-bypass-credentials-to-proceed-if-desired-remove-pinspasswords-from-devices-to-make-the-migration-process-fully-unattended-if-android-secure-startup-is-enabled-on-the-devices-the-user-is-required-to-enter-a-pinpassword-after-every-reboot-since-the-migration-process-includes-multiple-reboots-leaving-secure-startup-enabled-prevents-the-migration-process-from-being-fully-unattended-if-android-secure-startup-is-disabled-on-the-devices-and-a-pinpassword-is-set-the-user-is-requested-to-enter-a-pinpassword-after-each-reboot-the-migration-process-is-designed-to-proceed-even-without-such-entry-and-therefore-can-proceed-fully-unattended-part-2-create-golden-config-to-create-a-golden-configuration-to-apply-to-target-devices-perform-the-following-steps-manually-on-the-golden-device-identified-from-a-group-of-devices-for-a-given-usage-persona-if-necessary-relax-any-restrictions-applied-to-the-golden-device-that-might-prevent-the-use-of-adb-on-the-pc-to-push-and-pull-files-to-and-from-the-golden-device-such-restrictions-might-include-one-or-more-of-the-following-mx-usbmgr-usb-module-usage-set-to-disable-thus-preventing-all-use-of-usb-on-the-golden-device-mx-usbmgr-adb-enabledisable-set-to-disable-thus-preventing-use-of-adb-on-the-golden-device-mx-accessmgr-system-settings-access-set-to-anything-other-than-full-thus-preventing-the-user-from-launching-the-settings-ui-to-enable-adb-mx-uimgr-gear-icon-showhide-set-to-hide-thus-preventing-the-user-from-launching-the-settings-ui-from-the-gear-icon-in-the-notification-panel-mx-uimgr-notification-pulldown-enabledisable-set-to-disable-thus-preventing-the-user-from-pulling-down-the-notification-panel-and-thus-preventing-the-user-from-launching-the-settings-ui-from-the-gear-icon-in-the-notification-panel-if-an-emm-is-preventing-the-use-of-adb-enable-adb-usage-on-the-golden-device-by-configuring-the-emm-settings-using-a-launcher-to-lock-down-the-device-and-prevent-the-user-from-launching-the-settings-ui-set-up-adb-on-the-golden-device-by-following-these-steps-on-the-golden-device-launch-android-settings-panel-scroll-down-and-select-about-phone-scroll-down-to-build-number-tap-on-build-number-seven-times-to-become-a-developer-tap-back-to-return-to-settings-main-page-scroll-down-and-select-system-select-advanced-select-developer-options-scroll-down-and-enable-usb-debugging-connect-the-golden-device-to-the-pc-using-the-appropriate-cable-set-up-adb-for-use-from-the-pc-by-following-these-steps-on-the-pc-open-a-command-prompt-and-change-to-a-directory-where-adb-can-be-executed-how-to-set-up-adb-connect-the-pc-to-the-golden-device-via-adb-using-the-devices-command-xml-adb-devices-if-usb-debugging-had-not-previously-been-allowed-on-the-golden-device-adb-might-display-the-device-id-and-the-unauthorized-on-the-pc-and-the-popup-allow-usb-debugging-on-the-golden-device-tap-allow-button-on-the-device-ignore-the-pc-message-if-necessary-use-the-devices-command-again-to-connect-the-pc-to-the-golden-device-via-adb-xml-adb-devices-now-adb-should-display-the-device-id-and-the-word-device-indicating-that-adb-is-working-properly-and-usb-debugging-is-allowed-recommended-determine-the-type-of-encryption-in-use-on-the-golden-device-to-determine-whether-data-preservation-is-required-and-would-therefore-need-to-be-applied-to-target-devices-in-the-same-group-from-the-pc-use-the-command-xml-adb-shell-getprop-rocryptotype-if-the-value-block-is-returned-the-device-is-using-full-disk-encryption-and-the-migration-process-is-required-to-prevent-data-loss-if-the-value-file-is-returned-the-device-is-using-file-based-encryption-and-no-data-loss-will-occur-as-part-of-the-upgrade-to-android-13-or-higher-skip-to-the-android-13-or-higher-upgrade-section-of-this-document-push-the-android-13-os-image-to-the-golden-device-in-the-required-folder-and-with-the-required-file-name-using-adb-xml-adb-push-fbe_fotazip-datatmppublicfbe_fotazip-the-adb-command-above-assumes-that-the-android-13-or-higher-os-image-is-downloaded-to-the-pc-and-placed-in-the-folder-from-which-adb-is-run-with-the-required-name-if-that-is-not-the-case-modify-the-first-source-file-argument-to-the-adb-command-must-specify-the-path-to-where-the-file-is-located-with-the-correct-file-name-the-second-destination-argument-to-the-adb-command-must-not-be-changed-since-the-exact-specified-folder-and-file-name-of-the-file-on-the-device-must-be-used-in-order-for-the-migration-process-to-work-correctly-attention--do-not-proceed-with-the-subsequent-steps-if-the-adb-command-for-this-step-fails-for-example-due-to-insufficient-available-storage-space-if-this-occurs-the-golden-device-must-be-recovered-as-described-in-the-failure-recovery-section-confirm-that-the-pushed-file-is-world-readablewritable-xml-adb-shell-chmod-666-datatmppublicfbe_fotazip-put-the-golden-device-in-recovery-mode-xml-adb-reboot-recovery-from-the-recovery-mode-ui-on-golden-device-select-apply-upgrade-from-adb-to-start-listening-for-zcp-to-be-sent-from-pc-send-zcp-from-pc-to-the-golden-device-where-zcp-is-the-path-and-file-name-of-where-zcp-was-previously-downloaded-to-the-pc-xml-adb-sideload-zcp-from-the-recovery-mode-ui-on-the-golden-device-select-reboot-system-now-to-boot-the-device-to-android-13-or-higher-zcp-presents-a-screen-on-the-golden-device-from-which-the-file-guardian-utility-can-be-launched-if-the-icon-seen-in-the-image-below-is-visible-on-the-golden-device-proceed-to-step-12-click-image-to-enlarge-esc-to-exit-if-the-emm-has-been-enrolled-and-configured-to-disable-system-apps-the-file-guardian-utility-might-be-disabled-if-the-golden-device-displays-a-screen-like-the-image-below-use-the-emm-to-enable-the-file-guardian-utility-package-name-comzebrafileutility-on-the-golden-device-and-reboot-the-golden-device-the-screen-shown-in-step-10-allowing-the-file-guardian-utility-should-appear-on-the-golden-device-after-it-reboots-click-image-to-enlarge-esc-to-exit-tap-the-icon-as-seen-in-step-10-to-launch-zebra-file-guardian-select-and-prioritize-the-apps-data-and-settings-to-be-preserved-following-the-steps-below-save-backup-information-as-the-golden-configuration-file-for-the-group-of-devices-represented-by-the-golden-device-tap-get-started-to-proceed-click-image-to-enlarge-esc-to-exit-after-a-few-moments-the-tool-presents-a-list-of-all-apps-and-data-on-the-device-with-an-interface-for-making-selections-click-image-to-enlarge-esc-to-exit-tap-to-select-apps-and-files-to-preserve-if-the-size-limit-is-reached-it-might-be-necessary-to-de-select-some-items-or-move-them-lower-in-the-priority-see-next-step-click-image-to-enlarge-esc-to-exit-after-selecting-files-to-be-preserved-drag-the-most-important-files-toward-the-top-when-finished-tap-proceed-and-then-save-xml-to-store-the-golden-config-click-image-to-enlarge-esc-to-exit-skip-this-step-only-if-all-target-devices-are-identicalthe-options-on-this-screen-allow-for-the-testing-of-devices-similar-to-the-golden-device-to-help-determine-whether-those-devices-will-migrate-successfully-using-the-golden-configuration-gc-being-created-now-learn-more-about-these-optional-assessment-tests-zebra-recommends-selecting-both-the-storage-size-check-and-precondition-check-tap-proceed-to-continue-click-image-to-enlarge-esc-to-exit-when-the-message-below-is-displayed-its-safe-to-proceed-to-the-next-step-take-note-of-the-backup-file-location-on-the-device-click-image-to-enlarge-esc-to-exit-tap-ok-extract-the-golden-configuration-file-from-the-golden-device-and-onto-the-pc-xml-adb-pull-enterpriseusrpersistbackup_restore_configxml-backup_restore_configxml-the-second-destination-argument-can-be-changed-to-give-the-file-a-different-name-on-the-pc-than-is-on-the-golden-device-this-might-be-desirable-for-keeping-track-of-multiple-golden-configuration-files-for-multiple-groups-however-when-pushing-a-golden-configuration-file-to-devices-it-must-be-pushed-with-the-name-backup_restore_configxml-which-is-hard-coded-in-the-restoration-process-scripts-22-tap-proceed-with-device-update-button-click-image-to-enlarge-esc-to-exit-23-when-the-golden-device-boots-into-android-13-or-higher-reapply-any-restrictions-that-were-relaxed-in-step-1-if-applicable-to-finalize-the-state-of-the-golden-device-24-test-the-golden-device-to-ensure-that-_-it-has-been-updated-properly-and-is-in-an-acceptable-production-state-_-the-preserved-apps-data-and-settings-are-present-and-accounted-for--if-either-of-these-conditions-is-not-met-it-is-not-advisable-to-move-on-to-the-next-part-of-the-migration-process-to-proceed-make-any-necessary-corrections-to-the-manual-process-and-apply-the-revised-process-to-a-new-golden-device-selected-from-the-same-group-until-the-golden-device-finishes-the-process-in-an-acceptable-state-any-migration-failure-on-a-golden-device-should-be-handled-as-described-in-the-failure-recovery-section-of-this-document-part-3-test-golden-config-to-test-the-golden-configuration-perform-the-following-steps-on-a-selected-subset-of-target-devices-determine-the-method-to-use-for-automating-migration-emm-stagenow-etc-use-that-method-as-needed-to-perform-steps-28-below-be-sure-to-verify-that-the-selected-method-ensures-permissions-on-pushed-files-allow-global-readwrite-permissions-eg-666-or-777-zebra-mx-filemgr-through-stagenow-or-oemconfig-does-this-automatically-an-emm-might-require-an-extra-step-use-the-selected-automation-method-from-step-1-to-push-the-golden-configuration-file-backup_restore_configxml-extracted-from-the-golden-device-for-the-group-to-the-file-path-enterpriseusrpersistbackup_restore_configxml-on-all-target-devices-in-the-chosen-subset-if-using-lifeguard-ota-via-zebra-dna-cloud-zdna-or-an-integrated-emm-system-execute-the-upgrade-from-the-zdna-or-emm-portal-as-normal-skip-to-step-5-if-not-using-lifeguard-ota-via-zebra-dna-cloud-zdna-or-an-integrated-emm-system-push-the-android-13-or-higher-os-image-to-the-file-path-datatmppublicfbe_fotazip-on-the-target-device-in-the-chosen-subset-using-the-chosen-method-perform-an-os-upgrade-to-the-zcp-on-the-target-devices-in-the-chosen-subset-using-the-chosen-method-if-the-automated-process-cannot-proceed-unattended-monitor-target-devices-and-enter-the-pinpassword-andor-perform-other-actions-as-needed-to-ensure-that-all-target-devices-complete-the-process-verify-the-target-devices-to-ensure-that-they-are-properly-updated-from-the-automated-process-and-they-are-all-in-an-acceptable-production-state-including-the-expected-preservation-of-required-applications-and-data-if-not-satisfied-with-the-state-of-any-of-the-any-devices-in-the-chosen-subset-zebra-recommends-making-any-necessary-corrections-in-the-automated-process-and-applying-it-to-a-new-chosen-subset-of-target-devices-selected-from-the-same-group-until-the-expected-result-is-achieved-on-all-target-devices-in-the-chosen-subset-if-desired-steps-1-6-above-can-be-repeated-for-other-device-personas-if-any-address-any-failure-in-the-migration-process-as-described-in-the-failure-recovery-section-the-migration-process-might-proceed-fully-unattended-automatically-rebooting-multiple-times-until-the-device-is-in-the-final-state-on-android-13-or-higher-otherwise-depending-on-the-starting-state-of-the-device-and-depending-on-whether-any-configurations-are-changed-during-preparation-the-process-might-not-proceed-fully-unattended-and-manual-interventions-eg-enter-a-pinpasscode-might-be-required-for-a-device-to-reach-the-final-state-on-android-13-or-higher-aside-from-required-interventions-users-should-be-instructed-not-to-interfere-with-devices-during-the-migration-process-optional-assessment-tests-optional-assessment-tests-are-recommended-only-if-all-target-devices-in-the-selected-persona-are-not-identical-or-if-the-precondition-state-or-storage-capacity-of-some-devices-in-a-given-persona-are-not-fully-known-assessment-tests-allow-the-golden-configuration-gc-file-created-previously-to-be-used-to-test-devices-similar-to-the-golden-device-to-help-determine-whether-those-devices-will-migrate-successfully-using-that-gc-or-if-further-actions-would-be-required-for-migration-test-results-assessment-test-results-estimate-whether-remediation-of-affected-devices-might-increase-the-chance-of-successful-migration-click-image-to-enlarge-esc-to-exit-to-perform-an-assessment-push-the-original-golden-configuration-gc-backup_restore_configxml-to-the-following-device-location-enterpriseusrpersist-download-the-zebra-file-guardian-utility-for-the-target-device-from-the-conversion-package-section-of-its-lifeguard-update-page-install-file-guardian-on-the-device-using-the-chosen-method-emm-stagenow--appmgr-etc-if-using-stagenow-or-an-emm-send-the-broadcast-intent-action-comzebraintentactionstart_coarse_estimate-and-specify-the-component-comzebrafileutilitycomzebrafileutilitystandardoscalculation-upon-receiving-the-intent-file-guardian-will-consume-the-gc-file-and-perform-the-assessment-in-two-phases-assessment-of-backup-data-size-assessment-of-preconditions-required-for-backuprestore-process-the-assessment-result-is-placed-in-one-of-the-following-device-folders-lifeguard-ota-enterpriseusrpersistbackup_readiness_statusxml-emm-airwatchsoti-enterpriseusrattributescomzebrafileutilityxml-parse-the-assessment-status-file-to-help-identify-the-course-of-action-for-remediation-the-emm-agent-must-pull-the-comzebrafileutilityxml-status-file-from-the-device-using-mx-filemanager-some-emms-can-be-configured-through-rules-to-monitor-a-file-on-the-device-and-display-test-results-in-the-emm-console-remediate-after-assessment-after-parsing-the-test-output-file-administrators-might-pursue-the-following-remedial-actions-data-is-more-than-available-remove-apps-andor-data-from-target-and-re-assess-ignore-the-warning-and-proceed-with-migration-allowing-file-prioritization-stored-with-the-gc-to-control-which-files-are-preserved-could-result-in-data-loss-make-a-new-gc-from-devices-not-identical-to-the-first-golden-device-and-apply-to-all-similar-devices-precondition-not-met-analyze-and-correct-condition-manually-back-up-data-migrate-to-android-13-or-higher-which-requires-wiping-device-and-manually-restore-data-part-4-mass-deploy-after-successfully-verifying-a-small-chosen-subset-of-target-devices-in-a-group-the-migration-process-can-be-applied-to-all-remaining-target-devices-in-the-group-these-remaining-devices-might-be-broken-down-into-subsets-for-logistical-reasons-follow-the-same-steps-described-in-part-3-for-the-remainder-of-the-target-devices-in-the-group-or-subsets-of-devices-until-the-migration-process-is-complete-for-the-group-part-5-repeat-process-if-there-are-multiple-device-groups-repeat-the-migration-procedure-for-every-group-failure-recovery-if-the-android-migration-process-fails-to-complete-on-a-golden-device-or-on-a-target-device-it-could-leave-the-device-running-the-zebra-conversion-package-zcp-since-devices-running-zcp-are-not-suitable-for-production-use-some-manual-intervention-is-generally-required-in-this-situation-if-any-of-the-following-symptoms-of-failure-is-detected-on-any-device-take-the-recommended-actions-to-recover-that-device-device-runs-android-13-or-higher-and-appears-stable-if-the-device-does-not-crash-and-all-expected-apps-data-and-settings-are-present-and-working-as-expected-re-apply-any-restrictions-that-were-relaxed-on-a-golden-device-to-allow-the-use-of-adb-re-enable-any-policies-that-were-disabled-to-return-the-device-to-production-state-test-the-device-to-be-sure-it-is-ready-for-production-deployment-device-remains-in-boot-mode-or-repeatedly-boots-zcp-if-the-device-is-caught-in-a-boot-loop-or-only-runs-the-zebra-conversion-package-reboot-the-device-into-recovery-mode-instructions-vary-by-device-refer-to-the-device-update-guide-or-product-documentation-once-in-recovery-mode-select-apply-upgrade-from-adb-to-start-listening-for-the-android-13-or-higher-os-image-to-be-sent-from-pc-on-the-pc-send-the-android-13-or-higher-os-image-from-pc-to-the-golden-device-where-a13-is-the-path-and-file-name-of-the-location-where-the-android-13-or-higher-os-image-was-previously-downloaded-on-the-pc-xml-adb-sideload-a13-from-the-recovery-mode-ui-on-the-golden-device-select-reboot-system-now-if-the-device-boots-successfully-into-zcp-resume-the-migration-process-device-is-stuck-in-the-middle-of-the-upgrade-try-rebooting-the-device-zcp-should-automatically-re-attempt-the-upgrade-again-to-android-13-or-higher-if-the-device-keeps-getting-stuck-in-the-upgrade-return-to-step-1-in-device-remains-in-boot-mode-section-above-device-not-running-android-13-or-higher-or-is-unstable-if-the-device-crashes-or-the-expected-apps-data-and-settings-are-not-present-or-not-working-as-expected-contact-zebra-support-for-assistance-quick-upgrade-lifeguard-ota-automatic-and-custom-updates-to-android-13-or-higher-organizations-using-zebra-lifeguard-over-the-air-ota-to-manage-devices-can-use-the-golden-config-file-created-using-the-process-above-to-automatically-upgrade-to-android-13-or-higher-potentially-without-data-loss-the-lifeguard-ota-automatically-restores-the-data-preserved-during-the-golden-config-process-after-a-few-additional-steps-below-the-following-manual-steps-are-required-deploy-the-golden-config-backup_restore_configxml-file-to-the-device-using-any-desired-method-emm-stagenow-etc-download-and-install-the-zebra-file-guardian-utility-for-the-target-device-from-the-conversion-package-section-of-any-supported-lifeguard-update-page-devices-not-upgraded-in-this-way-receive-only-android-11-updates--many-factors-can-effect-successful-data-restoration-including-contents-of-the-backup-file-available-space-on-target-devices-and-whether-optional-precondition-assessment-testing-was-performed-lifeguard-ota-will-not-attempt-migration-on-devices-with-any-failed-assessment-caution--the-processes-described-below-might-result-in-data-loss-follow-these-procedures-only-when-certain-that-data-loss-is-not-a-concern-if-unsure-read-the-earlier-portions-of-this-document-to-determine-whether-using-one-of-these-simplified-procedures-is-appropriate-for-the-situation-simplified-a13-migration-possible-data-loss-the-methods-used-to-perform-upgrades-to-android-13-or-higher-are-the-same-as-those-for-other-oses-the-following-are-common-methods-for-android-upgrades-based-on-the-tool-used-zebra-stagenow-use-the-my-lifeguard-updates-feature-of-the-zebra-stagenow-workstation-tool-to-automate-the-creation-of-a-staging-profile-to-perform-the-upgrade-from-the-current-pre-android-13-os-to-the-desired-android-13-or-higher-os-use-stagenow-to-manually-build-a-staging-profile-that-automates-the-upgrade-from-the-current-pre-android-13-os-to-the-desired-android-13-or-higher-os-emm-system-use-an-emm-that-supports-zebra-oemconfig-to-perform-the-upgrade-from-the-current-pre-android-13-os-to-the-desired-android-13-or-higher-os-use-an-emm-with-integrated-support-for-performing-os-upgrades-of-zebra-devices-to-perform-the-upgrade-from-the-current-pre-android-13-os-to-the-desired-android-13-or-higher-os-use-an-emm-that-supports-submitting-xml-to-zebra-mx-to-perform-the-upgrade-from-the-current-pre-android-13-os-to-the-desired-android-13-or-higher-os-"><span></span></a><!--</h2>

<h3 id="lifeguarda13incrementalupdates">LifeGuard-A13 Incremental Updates</h3>

<p>removed 5/28/24 per TUT-97899</p>

<blockquote>
  <p><i class="fa fa-exclamation-triangle" style="color:#FFA500;"></i> Customers that have already upgraded with persistence <u><strong>must</strong></u> apply only full-system images.
  --><p></p>


<!-- 5/16/24- the following two grafs removed per PdM (see em)
* **For customers planning to upgrade using the persistence method, Zebra recommends waiting** for migration package currently under development.<br>
 This will allow incremental over-the-air LifeGuard updates to be applied on SDM660 devices after the initial migration to Android 13 or higher is complete (the current process supports only full-system images).

> <i class="fa fa-calendar" style="color:#27AE60;"></i> **Support for incremental over-the-air updates** for Android 13 or higher on SDM660 devices is **expected in early 2Q24**.
 -->

<!--
**The first section of this document covers the migration process to handle scenarios in which special action to achieve <u>data preservation is required.</u>** If data preservation is ***NOT*** required, or if **special action is _NOT_ required to preserve data**, then [skip to the A13 Quick Upgrade (data loss)](#a13quickupgradedataloss) section of this document for Zebra's alternative simpler upgrade process.-->

<!--
> <i class="fa fa-exclamation-circle" style="color:#FF0000;"></i> **This process is NOT NECESSARY for devices that comply with [Common Criteria Certification](https://www.zebra.com/us/en/cpn/common-criteria-certification.html)**.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Such devices should be upgraded to Android 13 or higher using the normal process to avoid unwanted behavior.<br>-->

<hr>

</h2><h2 id="migrationprocess" class="anchor"><a class="heading-anchor" href="#migrationprocess"><span></span></a>Migration Process</h2>

<p><strong>This migration process allows for the preservation of select apps, data and settings on the device through data backup and restore</strong>. To simplify this migration process, Zebra developed <strong>Zebra File Guardian</strong>, a utility that administrators must use to select the apps, data and settings to be preserved.</p>

<p>The <strong>File Guardian</strong> is a Zebra utility contained within the <strong>Zebra Conversion Package (ZCP)*</strong> that allows administrators to choose which non-system apps, data and settings to back up and restore during the migration process. By creating a single "Golden Configuration" for use on all the devices in a device-persona group, administrators have a means to <strong>preserve the <em>MOST</em> important apps, data and settings</strong>, allowing the migration process to proceed even if some of the devices in a group contain data in excess of the maximum size that can be preserved.</p>

<blockquote>
  <p><i class="fa fa-clock-o" style="color:#27AE60;"></i> The average time to perform this process on a device is approximately 25 minutes.</p>
</blockquote>

<h3 id="requirements" class="anchor"><a class="heading-anchor" href="#requirements"><span></span></a>Requirements</h3>

<ul>
<li><strong>Zebra <a href="https://supportcommunity.zebra.com/s/article/000022440?language=en_US">SDM660-platform device</a></strong> with a <strong>supported Android version</strong> and/or LG update<br>
<strong>Android versions that support this migration process</strong>:


<ul>
<li><strong>Android 8</strong>: Must have LG version <code>01-23-18.00-OG-U15-STD</code> (or later)†</li>

<li><strong>Android 9</strong>: Must be upgraded to Android 10 or 11</li>

<li><strong>Android 10</strong>: All versions supported for migration to A13</li>

<li><strong>Android 11</strong>: All versions supported for migration to A13</li></ul>
</li>

<li><strong>An administrative host PC</strong> ("the PC") suitable for running <a href="https://developer.android.com/tools/adb">Android Debug Bridge (adb)</a></li>

<li>A cable to connect a device to the PC via USB (cables vary by device model)</li>
</ul>

<p>* <i><font size="2" color="DimGrey"> ZCP is a specialized tool created by Zebra that is required for—and usable only by—this migration process. See <a href="#processoverviewpreparation">Process Overview &amp; Preparation</a>.</font></i></p>

<p>† <i><font size="2" color="DimGrey">Android 8 device(s) with an LG version earlier than the above can be updated to that (or a newer) LG version <strong>~OR~</strong> upgraded to Android 10 or 11.</font></i></p>

<blockquote>
  <p><i class="fa fa-exclamation-circle" style="color:#FF0000;"></i> <span style="color:red"><b>ATTENTION!!</b></span><br> &gt; <strong><u>Please read the following section CAREFULLY</u> before proceeding with migration, and follow all provided guidelines</strong>. Failure to do so could lead to data loss and/or failure that requires manual device recovery. Any device that started but did not fully complete the migration process should be considered unsuitable for production use until it is successfully recovered as described in the <a href="#failurerecovery">Failure Recovery</a> section.<br></p>
</blockquote>

<h3 id="processconsiderations" class="anchor"><a class="heading-anchor" href="#processconsiderations"><span></span></a>Process Considerations</h3>

<h4 id="limitations" class="anchor"><a class="heading-anchor" href="#limitations"><span></span></a>Limitations</h4>

<ul>
<li><strong>The "My LifeGuard Updates" feature of the <a href="/stagenow/latest/smartprofile">Zebra StageNow</a> workstation tool cannot be used to automate the creation of a staging Profile to perform this migration process</strong>. This is because any staging Profile made using My LifeGuard Updates might result in data loss. To avoid data loss, a staging Profile can be manually created to automate migration based on the guidance in this document.</li>

<li><strong>This migration process applies <em>ONLY</em> to devices that are currently using Full Disk Encryption</strong>. Without using this migration process, such devices would encounter data loss when upgraded to Android 13 or higher.


<ul>
<li>This generally includes devices in the <a href="https://supportcommunity.zebra.com/s/article/000022440?language=en_US">SDM660 device list</a>.</li>

<li>If a device is already using File-Based Encryption (e.g., the device underwent Common Criteria Conversion) there is no risk of data loss and therefore this migration process is not required.</li></ul>
</li>

<li><strong>This migration process should <em>NOT</em> be used on devices that use the SD Card in <a href="https://source.android.com/devices/storage/adoptable">Android Adoptable Storage mode</a></strong>. It does not support the backup and restoration of apps, data or settings stored on the SD Card. Applying this migration process to such devices will result in the loss of all data on the SD Card and might require manual intervention as described in the <a href="#failurerecovery">Failure Recovery</a> section of this document.</li>

<li><strong>This migration process should <em>NOT</em> be used on devices with multiple profiles or users</strong>. The migration process cannot backup and restore data for secondary profiles or users (e.g., COPE mode, BYOD mode, multi-user mode) and therefore would result in loss of data and/or unstable device functionality.</li>

<li><strong>Device batteries must have 30% charge (or more) or the device must be connected to AC power in order to perform the OS update part of the migration</strong>.</li>

<li><strong>Normally, data stored in the <code>/enterprise</code> partition is not subject to data loss. However, the normal persistence process is suspended during the migration process</strong>. Therefore, applications, data and settings persisted via the <code>/enterprise</code> partition will not be operative after the migration process <em>unless they are specified to be backed up and restored from Step 13 in the procedure below to Prepare Golden Configuration.</em>


<ul>
<li><strong>After the migration process is complete and the device is upgraded to Android 13 or higher, the normal persistence process applies again</strong> (e.g. files persist after subsequent data wipes).</li></ul>
</li>

<li><strong>The migration process is capable of preserving (through backup and restore) a maximum of ~3GB of apps, data and settings</strong>. If additional storage is required, the admin can prioritize which items to be backed up first. However, if there is insufficient space, some items might not be preserved.</li>

<li><strong>On non-GMS devices migrating to Android 13 or higher, this process does <em>NOT</em> persist data from the Android Messaging app</strong>.</li>
</ul>

<h4 id="backupandrestore" class="anchor"><a class="heading-anchor" href="#backupandrestore"><span></span></a>Backup and Restore</h4>

<ul>
<li><strong>Apps, data and settings originally applied by an EMM can be reapplied by the EMM after migration; selecting such files for back-up and restoration as part of the migration process is not required</strong>. However, this requires that the EMM agent app, its data and settings <strong><em>are</em></strong> selected to be backed up and that the EMM is configured to restore the original files.</li>

<li><strong>Data and settings for system apps are automatically and unconditionally backed up and restored before any non-system apps are backed up and restored</strong>.</li>

<li><strong>GMS apps are system apps, so their data and settings are automatically and unconditionally backed up and restored</strong>.


<ul>
<li>Since GMS apps can be updated to newer versions through Zebra LifeGuard Over The Air (OTA), migration to Android 13 or higher could result in a temporary downgrade to an older version. In such cases, LG OTA might update the device again when the migration is completed.</li></ul>
</li>

<li><strong>A device administrator is expected to select a representative device from deployment and consider it as a <em>Golden Device</em></strong>, against which the Golden Configuration is created.</li>

<li><strong>Non-system apps and their data and settings are <em>NOT</em> backed up and restored</strong> unless explicitly selected via a Golden Configuration created using the File Guardian utility.</li>
</ul>

<h4 id="otherconsiderations" class="anchor"><a class="heading-anchor" href="#otherconsiderations"><span></span></a>Other Considerations</h4>

<ul>
<li><strong>The migration process might not configure all devices identically</strong>.


<ul>
<li>Since the migration process relies on backup and restore to preserve data, it might require separate execution on devices with significantly different application sets. Organizing the devices into groups might be necessary to allow for a customized migration process tailored to the specific needs of each group.</li></ul>
</li>

<li><strong>Device prep is sometimes required</strong> before executing certain parts of the migration process.</li>

<li>The execution of the migration process might require adjustments based on the specific devices and timing of its application.</li>

<li>After executing certain stages of the migration process, additional finalization steps might be required to ensure that devices reach an appropriate final production state.</li>

<li>Verification should be performed to ensure that the results of the migration process meet expectations and that the devices are ready to return to production use.</li>
</ul>

<hr>

<h3 id="processoverviewpreparation" class="anchor"><a class="heading-anchor" href="#processoverviewpreparation"><span></span></a>Process Overview &amp; Preparation</h3>

<h4 id="performinitialpreparation" class="anchor"><a class="heading-anchor" href="#performinitialpreparation"><span></span></a>Perform initial preparation</h4>

<ul>
<li><strong>Install Android Debug Bridge</strong> (adb) on the PC. <a href="/enterprise-browser/latest/guide/setup/#connections">How to set up adb</a>.</li>

<li><strong>Download the Zebra Conversion Package</strong> (ZCP) from the Zebra Support Portal's <a href="https://www.zebra.com/us/en/support-downloads/lifeguard-security.html">LifeGuard for Android Updates page</a> corresponding to device(s) being upgraded.<br>
<i class="fa fa-exclamation-triangle" style="color:#FFA500;"></i> <strong>ZCP download link (as seen below) appears only for relevant and supported devices</strong>:
<img alt="image" style="height:350px" src="tc52_lg_updates.jpg">
<em>Click image to enlarge; ESC to exit.</em>
<br></li>

<li>From the same page on the <a href="https://www.zebra.com/us/en/support-downloads/lifeguard-security.html">Zebra Support Portal</a>, <strong>download the Android 13 or higher "<u>Full Update</u>" OS package</strong> to the PC.<br>
<i class="fa fa-check-circle" style="color:#27AE60;"></i> <strong>Zebra recommends renaming the downloaded Android 13 or higher OS image file</strong> to <code>FBE_FOTA.zip</code> and storing it in a folder from which adb will be executed. This simplifies subsequent steps that use adb.</li>

<li><strong>Sufficient storage space is required</strong> in the data partition of devices to store this image file and successfully perform the migration process.</li>

<li><strong>Optionally, disable EMM policies that might interfere</strong> with or complicate the migration process.</li>

<li><strong>Organize devices into groups based on usage persona:</strong></li>

<li><strong>Identify each group of devices that is representative of a typical usage persona</strong>. Organize devices into multiple groups if there are different applications installed and/or significant differences in the amount of data stored.</li>

<li><strong>Choose a device in each group that is representative of the devices in that group</strong>. Throughout this document, the chosen device for a group will be referred to as the "Golden Device” for that group and all devices in a group that are not the Golden Device will be referred to as "Target devices" for simplicity.</li>

<li><strong>If all devices are configured similarly, there is only one usage persona</strong>, resulting in a single group and a single Golden Device.</li>

<li><strong>Execute the <a href="#migrationprocedure">Migration Procedure</a> for each group of devices</strong>.</li>

<li><strong>If applicable, perform any final steps required after all groups of devices have completed the upgrade</strong>. This might include a reversal or stricter enforcement of certain steps performed during preparation. For example, it might be desirable to re-enable some EMM policies that were disabled as part of preparation.</li>

<li><strong>Optionally, verification can be performed to ensure that the resulting outcome meets expectations</strong>. For example, a report could be generated from an EMM to verify whether all devices that underwent the migration process are correctly reporting Android 13 or higher as their operating system and functioning as expected.</li>
</ul>

<!-- The tool also permits file prioritization, allowing for a single "Golden Configuration" to be created for each device persona, or "Golden Device," so that a single instruction set **for preserving the *MOST* important data** can be deployed to devices that might contain data in excess of the maximum. -->

<hr>

<h2 id="migrationprocedure" class="anchor"><a class="heading-anchor" href="#migrationprocedure"><span></span></a>Migration Procedure</h2>

<p>Follow this procedure for each group of devices required for the migration. See <a href="#processoverviewpreparation">Process Overview &amp; Preparation</a> to identify individual device groups.</p>

<h3 id="part1adjustpasswordpolicy" class="anchor"><a class="heading-anchor" href="#part1adjustpasswordpolicy"><span></span></a>Part 1: Adjust Password Policy</h3>

<ol>
<li><strong>IF NECESSARY, remove password policies from all devices in the group</strong> to ensure that migration operations can be completed.


<ul>
<li>The migration process <em>ALWAYS</em> results in the loss of any existing PIN/password that was present on the device prior to the migration process. If a password policy is applied using an EMM, it could result in an EMM-specific interruption in the migration process flow. Removing such a policy could result to a smoother migration process. Such policies should be restored during finalization as needed.</li>

<li><strong><u>On devices with <a href="/devicetracker/latest/guide/config/#enterpriseloginscreenels">Zebra Enterprise Login Screen (ELS)</a> installed</u>, Zebra recommends using "bypass credentials" to proceed</strong>.</li></ul>
</li>

<li><strong>IF DESIRED: Remove PINs/passwords from devices to make the migration process fully unattended</strong>.


<ul>
<li>If Android Secure Startup is enabled on the devices, the user is REQUIRED to enter a PIN/password after every reboot. Since the migration process includes multiple reboots, leaving Secure Startup enabled prevents the migration process from being fully unattended.</li>

<li>If Android Secure Startup is disabled on the devices and a PIN/password is set, the user is REQUESTED to enter a PIN/password after each reboot. The migration process is designed to proceed even without such entry and therefore can proceed fully unattended.</li></ul>
</li>
</ol>

<hr>

<h3 id="part2creategoldenconfig" class="anchor"><a class="heading-anchor" href="#part2creategoldenconfig"><span></span></a>Part 2: Create Golden Config</h3>

<p>To create a <em>Golden Configuration</em> to apply to <em>Target devices</em>, perform the following steps MANUALLY on the <em>Golden Device</em> (identified from a group of devices for a given usage persona):</p>

<ol>
<li><p><strong>IF NECESSARY, relax any restrictions applied to the Golden Device</strong> that might prevent the use of adb on the PC to push and pull files to and from the Golden Device. Such restrictions might include one or more of the following:</p>

<ul>
<li><strong>MX UsbMgr USB Module Usage set to Disable</strong>, thus preventing all use of USB on the Golden Device.</li>

<li><strong>MX UsbMgr adb Enable/Disable set to Disable</strong>, thus preventing use of adb on the Golden Device.</li>

<li><strong>MX AccessMgr System Settings Access set to anything other than Full</strong>, thus preventing the user from launching the Settings UI to enable adb.</li>

<li><strong>MX UiMgr Gear Icon Show/Hide set to Hide</strong>, thus preventing the user from launching the Settings UI from the Gear Icon in the Notification Panel.</li>

<li><strong>MX UiMgr Notification Pulldown Enable/Disable set to Disable</strong>, thus preventing the user from pulling down the Notification Panel and thus preventing the user from launching the Settings UI from the Gear Icon in the Notification Panel.</li>

<li><strong>If an EMM is preventing the use of adb</strong>, enable adb usage on the Golden Device by configuring the EMM settings.</li>

<li><strong>Using a launcher to lock down the device</strong> and prevent the user from launching the Settings UI.</li></ul></li>

<li><p><strong>Set up adb on the Golden Device</strong> by following these steps:<br>
<strong><u>On the Golden Device</u></strong>:</p>

<ul>
<li><p><strong>Launch Android Settings</strong> panel</p></li>

<li><p>Scroll down and <strong>select About phone</strong></p></li>

<li><p>Scroll down to <strong>Build number</strong></p></li>

<li><p><strong>Tap on Build number seven times</strong> to “become a developer”</p></li>

<li><p>Tap BACK to <strong>return to Settings</strong> main page</p></li>

<li><p>Scroll down and <strong>select System</strong></p></li>

<li><p><strong>Select Advanced</strong></p></li>

<li><p><strong>Select Developer options</strong></p></li>

<li><p>Scroll down and <strong>enable USB debugging</strong></p></li>

<li><p><strong>Connect the Golden Device to the PC</strong> using the appropriate cable
<strong>Set up adb for use from the PC</strong> by following these steps:<br>
<strong><u>On the PC</u></strong>:</p></li>

<li><p><strong>Open a command prompt</strong> and change to a directory where adb can be executed. <a href="/enterprise-browser/latest/guide/setup/#connections">How to set up adb</a>.</p></li>

<li><p><strong>Connect the PC to the Golden Device</strong> via adb using the "devices" command:</p>

<pre class="prettyprint"><code>
adb devices
</code></pre></li>

<li><p><strong>If USB debugging had not previously been allowed on the Golden Device</strong>, adb might display the device ID and the “unauthorized” on the PC and the popup: “Allow USB debugging?" on the Golden Device.<br> <strong>Tap Allow</strong> button on the device; ignore the PC message.</p></li>

<li><p>If necessary, <strong>use the "devices" command again</strong> to connect the PC to the Golden Device via adb:<br></p>

<pre class="prettyprint"><code>
adb devices
</code></pre></li>

<li><p><strong>Now adb should display the device ID and the word “device,"</strong> indicating that adb is working properly and USB debugging is allowed.</p></li></ul></li>

<li><p><strong>RECOMMENDED: Determine the type of encryption in use on the Golden Device to determine whether data preservation is required</strong> and would therefore need to be applied to Target devices in the same group.</p>

<ul>
<li><p>From the PC, use the command:</p>

<pre class="prettyprint"><code>
adb shell getprop ro.crypto.type
</code></pre></li>

<li><p><strong>If the value “block” is returned</strong>, the device is using Full Disk Encryption and <strong>the migration process is required</strong> to prevent data loss.</p></li>

<li><p><strong>If the value “file” is returned</strong>, the device is using File Based Encryption and no data loss will occur as part of the upgrade to Android 13 or higher. <strong>Skip to the <a href="#quickupgrade">Android 13 or higher Upgrade section</a></strong> of this document.</p></li></ul></li>

<li><p><strong>Push the Android 13 OS image to the Golden Device</strong> in the required folder and with the required file name using adb:</p>

<pre class="prettyprint"><code>
adb push FBE_FOTA.zip /data/tmp/public/FBE_FOTA.zip
</code></pre>

<ul>
<li>The adb command above assumes that the Android 13 or higher OS image is downloaded to the PC and placed in the folder from which adb is run with the required name. If that is not the case, modify the first (source file) argument to the adb command must specify the path to where the file is located with the correct file name.</li>

<li>The second (destination) argument to the adb command must not be changed, since the exact specified folder and file name of the file on the device must be used in order for the migration process to work correctly.</li></ul>

<blockquote>
  <p><i class="fa fa-exclamation-circle" style="color:#FF0000;"></i> <span style="color:red">ATTENTION!!</span><br> &gt; <b><i>DO NOT</i> proceed with the subsequent steps if the adb command for this step fails,</b> for example due to insufficient available storage space. If this occurs, the Golden Device must be recovered as described in the <b><a href="#failurerecovery">Failure Recovery</a></b> section.</p>
</blockquote></li>

<li><p><strong>Confirm that the pushed file is world-readable/writable</strong>:</p>

<pre class="prettyprint"><code>
adb shell chmod 666 /data/tmp/public/FBE_FOTA.zip
</code></pre></li>

<li><p><strong>Put the Golden Device in Recovery Mode</strong>:</p>

<pre class="prettyprint"><code>
adb reboot recovery
</code></pre></li>

<li><p>From the Recovery Mode UI on Golden Device, <strong>select “Apply upgrade from adb”</strong> to start listening for ZCP to be sent from PC.</p></li>

<li><p><strong>Send ZCP from PC to the Golden Device</strong>, where zcp is the path and file name of where ZCP was previously downloaded to the PC:</p>

<pre class="prettyprint"><code>
adb sideload ZCP
</code></pre></li>

<li><p>From the Recovery Mode UI on the Golden Device, <strong>select “Reboot system now”</strong> to boot the device to Android 13 or higher.</p></li>

<li><p>ZCP presents a screen on the Golden Device from which the File Guardian utility can be launched.<br>
<strong>If the icon seen in the image below is visible on the Golden Device, proceed to Step 12</strong>.
<img alt="image" style="height:350px" src="zcp-launch-zfg.png">
<em>Click image to enlarge; ESC to exit.</em>
<br></p></li>

<li><p>If the EMM has been enrolled and configured to “disable system apps," the File Guardian utility might be disabled.<br>
If the Golden Device displays a screen like the image below, use the EMM to enable the File Guardian utility (package name: <code>com.zebra.fileutility</code>) on the Golden Device and reboot the Golden Device. The screen shown in Step 10 (allowing the File Guardian utility) should appear on the Golden Device after it reboots.
<img alt="image" style="height:350px" src="zcp-zfg-disabled.png">
<em>Click image to enlarge; ESC to exit.</em>
<br></p></li>

<li><p><strong>Tap the icon (as seen in Step 10) to launch Zebra File Guardian</strong>.</p></li>

<li><p><strong>Select and prioritize the apps, data and settings to be preserved</strong> following the steps below. Save backup information as the “Golden Configuration” file for the group of devices represented by the Golden Device.</p></li>

<li><p>Tap <strong>Get Started</strong> to proceed:
<img alt="image" style="height:350px" src="begin_1.jpg">
<em>Click image to enlarge; ESC to exit.</em>
<br></p></li>

<li><p>After a few moments, the tool presents a list of all apps and data on the device with an interface for making selections:
<img alt="image" style="height:350px" src="begin_7.jpg">
<em>Click image to enlarge; ESC to exit.</em>
<br></p></li>

<li><p><strong>Tap to select apps and files</strong> to preserve. <br>
<i class="fa fa-exclamation-triangle" style="color:#FFA500;"></i> If the size limit is reached, it might be necessary to de-select some items or move them lower in the priority (see next step).
<img alt="image" style="height:350px" src="begin_12.jpg">
<em>Click image to enlarge; ESC to exit.</em>
<br></p></li>

<li><p>After selecting files to be preserved, <strong>drag the most important files toward the top</strong>.<br>
When finished, <strong>tap "Proceed" and then "Save XML"</strong> to store the Golden Config:
<img alt="image" style="height:350px" src="begin_13.jpg">
<em>Click image to enlarge; ESC to exit.</em>
<br>
<a id="step18"></a></p></li>

<li><p><i class="fa fa-exclamation-triangle" style="color:#FFA500;"></i> <strong>SKIP THIS STEP <u>ONLY IF ALL TARGET DEVICES ARE IDENTICAL</u>.<br></strong>The options on this screen allow for the testing of devices <strong><em>similar</em></strong> to the Golden Device to help determine whether those devices will migrate successfully using the Golden Configuration (GC) being created now. <strong>Learn more about these <a href="#optionalassessmenttests">optional assessment tests</a></strong>.<br>
<i class="fa fa-check-circle" style="color:#27AE60;"></i> <strong>Zebra recommends selecting <em>BOTH</em> the Storage Size Check and Precondition Check</strong>.<br>
<strong>Tap "Proceed"</strong> to continue.
<img alt="image" style="height:350px" src="begin_14a.jpg">
<em>Click image to enlarge; ESC to exit.</em>
<br></p></li>

<li><p><strong>When the message below is displayed, it's safe to proceed</strong> to the next step.<br>
&nbsp;<i class="fa fa-exclamation-triangle" style="color:#FFA500;"></i> <strong>Take note of the backup file location</strong> on the device:
<img alt="image" style="height:350px" src="begin_15.jpg">
<em>Click image to enlarge; ESC to exit.</em>
<br></p></li>

<li><p>Tap <strong>Ok</strong>.
<br></p></li>

<li><p><strong>Extract the Golden Configuration file from the Golden Device</strong> and onto the PC:</p>

<pre class="prettyprint"><code>    
    adb pull /enterprise/usr/persist/backup_restore_config.xml backup_restore_config.xml
</code></pre></li>
</ol>

<ul>
<li><strong>The second (destination) argument can be changed to give the file a different name</strong> on the PC than is on the Golden Device. This might be desirable for keeping track of multiple Golden Configuration files for multiple groups.<br>
<i class="fa fa-exclamation-triangle" style="color:#FFA500;"></i> <strong>However, when pushing a Golden Configuration file to devices, it must be pushed with the name</strong> 'backup_restore_config.xml', which is hard-coded in the restoration-process scripts.</li>
</ul>

<p>22. Tap "<strong>Proceed with Device Update</strong>" button.
<img alt="image" style="height:350px" src="zcp-proceed.png">
<em>Click image to enlarge; ESC to exit.</em>
<br></p>

<p>23. <strong>When the Golden Device boots into Android 13 or higher, reapply any restrictions</strong> that were relaxed in Step 1 (if applicable) to finalize the state of the Golden Device.
<br></p>

<p>24. <strong>Test the Golden Device</strong> to ensure that:
_ It has been updated properly and is in an acceptable production state
_ The preserved apps, data and settings are present and accounted for * <strong>If either of these conditions is not met, it is not advisable to move on to the next part of the migration process</strong>. To proceed, make any necessary corrections to the manual process and apply the revised process to a new Golden Device selected from the same group until the Golden Device finishes the process in an acceptable state.
<br></p>

<blockquote>
  <p><i class="fa fa-exclamation-triangle" style="color:#FFA500;"></i> <strong>Any migration failure on a Golden Device should be handled as described in the <a href="#failurerecovery">Failure Recovery</a> section</strong> of this document.</p>
</blockquote>

<hr>

<h3 id="part3testgoldenconfig" class="anchor"><a class="heading-anchor" href="#part3testgoldenconfig"><span></span></a>Part 3: Test Golden Config</h3>

<p>To test the Golden Configuration, <strong>perform the following steps on a selected subset of Target devices</strong>:</p>

<ol>
<li>Determine the method to use for automating migration (EMM, StageNow, etc.). Use that method as needed to perform Steps 2–8, below. Be sure to <strong>verify that the selected method ensures</strong> permissions on pushed files allow <strong>global read/write permissions</strong> (e.g. 666 or 777). Zebra MX FileMgr (through StageNow or OEMConfig) does this automatically; an EMM might require an extra step.</li>

<li><strong>Use the selected automation method</strong> (from Step 1) <strong>to push the Golden Configuration file</strong> <code>backup_restore_config.xml</code> (extracted from the Golden Device for the group) <strong>to the file path</strong> <code>/enterprise/usr/persist/backup_restore_config.xml</code> <strong>on all Target devices in the chosen subset</strong>.</li>

<li><strong>If using LifeGuard OTA via <a href="/zebradna">Zebra DNA Cloud (ZDNA)</a> or an integrated EMM system</strong>:


<ul>
<li><strong>Execute the upgrade</strong> from the ZDNA or EMM portal <strong>as normal</strong>.</li>

<li><strong>Skip to Step 5</strong>.</li></ul>
</li>

<li><strong>If NOT using LifeGuard OTA via <a href="/zebradna">Zebra DNA Cloud (ZDNA)</a> or an integrated EMM system</strong>:


<ul>
<li><strong>Push the Android 13 or higher OS image to the file path</strong> <code>/data/tmp/public/FBE_FOTA.zip</code> on the Target device in the chosen subset using the chosen method.</li>

<li><strong>Perform an OS upgrade to the ZCP</strong> on the Target device(s) in the chosen subset using the chosen method.</li></ul>
</li>

<li><strong>If the automated process cannot proceed unattended</strong>, monitor Target devices and enter the PIN/password (and/or perform other actions as needed) to ensure that all Target devices complete the process.</li>

<li><strong>Verify the Target devices to ensure that they are properly updated</strong> from the automated process and they are all in an acceptable production state (including the expected preservation of required applications and data).


<ul>
<li><strong>If not satisfied with the state of any of the any devices</strong> in the chosen subset, <strong>Zebra recommends making any necessary corrections in the automated process</strong> and applying it to a new chosen subset of Target devices selected from the same group until the expected result is achieved on all Target devices in the chosen subset.</li></ul>
</li>

<li><strong>If desired, Steps 1-6 above can be repeated for other device personas</strong> (if any).</li>

<li><strong>Address any failure in the migration process as described in the <a href="#failurerecovery">Failure Recovery</a> section</strong>.</li>
</ol>

<p>The migration process might proceed fully unattended, automatically rebooting multiple times until the device is in the final state on Android 13 or higher. Otherwise, depending on the starting state of the device and depending on whether any configurations are changed during preparation, the process might not proceed fully unattended and manual interventions (e.g. enter a PIN/passcode) might be required for a device to reach the final state on Android 13 or higher.</p>

<!-- 10/4/23- when ready, make size bigger and embed ZDNA videos where relevant:
<br> **How to push files using Zebra DNA Cloud**:<br> <iframe width="140" height="79" src="https://www.youtube.com/embed/azeNDRAJZS8?si=cT79tqeisPYstAZD" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
 -->

<p><i class="fa fa-exclamation-triangle" style="color:#FFA500;"></i> <strong>Aside from required interventions, users should be instructed not to interfere with devices during the migration process</strong>.</p>

<hr>

<p><a id="optional"></a></p>

<h3 id="optionalassessmenttests" class="anchor"><a class="heading-anchor" href="#optionalassessmenttests"><span></span></a>Optional Assessment Tests</h3>

<p>Optional assessment tests are <strong>RECOMMENDED ONLY IF ALL TARGET DEVICES IN THE SELECTED PERSONA ARE <u>NOT IDENTICAL</u></strong>, or if the precondition state or storage capacity of some devices in a given persona are not fully known. Assessment tests allow the Golden Configuration (GC) file created previously to be used to test devices <strong><em>similar</em></strong> to the Golden Device to help determine whether those devices will migrate successfully using that GC, or if further actions would be required for migration.</p>

<h4 id="testresults" class="anchor"><a class="heading-anchor" href="#testresults"><span></span></a>Test Results</h4>

<p>Assessment test results <strong><em>estimate</em></strong> whether remediation of affected devices <strong><em>might</em></strong> increase the chance of successful migration.
<img alt="image" style="height:150px" src="assessment_results.jpg">
<em>Click image to enlarge; ESC to exit.</em>
<br></p>

<h4 id="toperformanassessment" class="anchor"><a class="heading-anchor" href="#toperformanassessment"><span></span></a>To perform an assessment:</h4>

<ol>
<li><strong>Push the original Golden Configuration</strong> (GC) (<code>backup_restore_config.xml</code>) to the following device location:<br>


<ul>
<li><code>/enterprise/usr/persist/</code></li></ul>
</li>

<li><strong>Download the Zebra File Guardian</strong> utility for the target device from the Conversion Package section of its <a href="https://www.zebra.com/us/en/support-downloads/lifeguard-security.html">LifeGuard Update page</a>.</li>

<li><strong>Install File Guardian</strong> on the device using the chosen method (EMM, StageNow + AppMgr, etc.).</li>

<li><strong>If using StageNow or an EMM</strong>, send the broadcast intent action:


<ul>
<li><code>com.zebra.intent.action.START_COARSE_ESTIMATE</code><br>
and specify the component:</li>

<li><code>com.zebra.fileutility/com.zebra.fileutility.StandardOsCalculation</code></li></ul>
</li>

<li>Upon receiving the intent, File Guardian will consume the GC file and perform the assessment in two phases:


<ul>
<li>Assessment of backup data size</li>

<li>Assessment of preconditions required for backup/restore process</li></ul>
</li>

<li><strong>The assessment result is placed in one of the following device folders</strong>:


<ul>
<li><strong>LifeGuard OTA</strong>: <code>/enterprise/usr/persist/backup_readiness_status.xml</code></li>

<li><strong>EMM AirWatch/SOTI</strong>: <code>/enterprise/usr/attributes/com.zebra.fileutility.xml</code></li></ul>
</li>

<li><strong>Parse the assessment status file</strong> to help identify the course of action for remediation. The EMM agent must pull the <code>com.zebra.fileutility.xml</code> status file from the device using MX FileManager.<br>
<i class="fa fa-check-circle" style="color:#27AE60;"></i> Some EMMs can be configured through rules to monitor a file on the device and display test results in the EMM console.</li>
</ol>

<!-- 1/11/24- removed from step 4, above per eng.
**Launch File Guardian** and use the tool to perform an assessment on the device (as in [Step 18](#step18), above).

MORE INFO TO COME from ENG

DO NOT CLICK THE ICON (an error results, with the message: "This app is not meant to be opened")

4- IF EMM: install app and broadcast intent
If SN, install with appmgr and use intent CSP to broadcast intent

TIME REQ'D approx. (could take as long as 30 min)

During assessment test, no progress indicator is presented and there's no way to determine progress. Screen could time out.

THERE IS NO UI DURING THIS PERIOD

COMPLETION:
Poll the device for the presence of a file.

EMM admin is starting FOTA from their EMM console. FOTA logic instructs admin to perform steps 1 an 2 and automatically
 -->

<h4 id="remediateafterassessment" class="anchor"><a class="heading-anchor" href="#remediateafterassessment"><span></span></a>Remediate after assessment:</h4>

<p>After parsing the test output file, administrators might pursue the following remedial actions:</p>

<ul>
<li><strong>DATA IS MORE THAN AVAILABLE</strong>:


<ul>
<li><strong>Remove apps and/or data</strong> from target and re-assess</li>

<li><strong>Ignore the warning and proceed with migration</strong>, allowing file prioritization stored with the GC to control which files are preserved (could result in data loss)</li>

<li><strong>Make a new GC</strong> from device(s) not identical to the first Golden Device and apply to all similar devices</li></ul>
</li>

<li><strong>PRECONDITION NOT MET</strong>:</li>

<li><strong>Analyze and correct condition</strong></li>

<li><strong>Manually back up data</strong>, migrate to Android 13 or higher (which requires wiping device) and <strong>manually restore data</strong></li>
</ul>

<!-- MEANING UNCLEAR. MORE INFO NEEDED FROM ENG

 * Advanced management and deployment techniques executed through your EMM, such as conditional redeployment
-->

<hr>

<h3 id="part4massdeploy" class="anchor"><a class="heading-anchor" href="#part4massdeploy"><span></span></a>Part 4: Mass Deploy</h3>

<p>After successfully verifying a small chosen subset of Target devices in a group, the migration process can be applied to ALL remaining Target devices in the group. These remaining devices might be broken down into subsets for logistical reasons. Follow the same steps described in Part 3 for the remainder of the Target devices in the group or subsets of devices until the migration process is complete for the group.</p>

<hr>

<h3 id="part5repeatprocess" class="anchor"><a class="heading-anchor" href="#part5repeatprocess"><span></span></a>Part 5: Repeat Process</h3>

<p>If there are multiple device groups, repeat the Migration Procedure for every group.</p>

<hr>

<h2 id="failurerecovery" class="anchor"><a class="heading-anchor" href="#failurerecovery"><span></span></a>Failure Recovery</h2>

<p>If the <a href="#migrationprocess">Android Migration</a> process fails to complete on a Golden Device or on a Target device, it could leave the device running the Zebra Conversion Package (ZCP). Since devices running ZCP are NOT suitable for production use, some manual intervention is generally required in this situation. If any of the following symptoms of failure is detected on any device, take the recommended actions to recover that device.</p>

<h4 id="devicerunsandroid13orhigherandappearsstable" class="anchor"><a class="heading-anchor" href="#devicerunsandroid13orhigherandappearsstable"><span></span></a>Device runs Android 13 or higher and appears stable</h4>

<p>If the device does not crash and all expected apps, data and settings are present and working as expected:</p>

<ol>
<li>Re-apply any restrictions that were relaxed on a Golden Device to allow the use of adb.</li>

<li>Re-enable any policies that were disabled to return the device to production state.</li>

<li>Test the device to be sure it is ready for production deployment.</li>
</ol>

<h4 id="deviceremainsinbootmodeorrepeatedlybootszcp" class="anchor"><a class="heading-anchor" href="#deviceremainsinbootmodeorrepeatedlybootszcp"><span></span></a>Device remains in boot mode or repeatedly boots ZCP</h4>

<p>If the device is caught in a boot loop or only runs the Zebra Conversion Package:</p>

<ol>
<li><p><strong>Reboot the device into Recovery Mode</strong>. Instructions vary by device; refer to the device update guide or product documentation.</p></li>

<li><p>Once in Recovery Mode, <strong>select “Apply upgrade from adb”</strong> to start listening for the Android 13 or higher OS image to be sent from PC.</p></li>

<li><p>On the PC, <strong>send the Android 13 or higher OS image from PC to the Golden Device</strong>, where "a13" is the path and file name of the location where the Android 13 or higher OS image was previously downloaded on the PC:</p>

<pre class="prettyprint"><code>    
    `adb sideload a13`
</code></pre></li>

<li><p>From the Recovery Mode UI on the Golden Device, <strong>select “Reboot system now”</strong>.</p></li>

<li><p>If the device boots successfully into ZCP, <strong>resume the migration process</strong>.</p></li>
</ol>

<h4 id="deviceisstuckinthemiddleoftheupgrade" class="anchor"><a class="heading-anchor" href="#deviceisstuckinthemiddleoftheupgrade"><span></span></a>Device is stuck in the middle of the upgrade</h4>

<ol>
<li><strong>Try rebooting the device</strong>; ZCP should automatically re-attempt the upgrade again to Android 13 or higher.</li>

<li>If the device keeps getting stuck in the upgrade, return to Step 1 in "Device remains in boot mode" section, above.</li>
</ol>

<h4 id="devicenotrunningandroid13orhigherorisunstable" class="anchor"><a class="heading-anchor" href="#devicenotrunningandroid13orhigherorisunstable"><span></span></a>Device not running Android 13 or higher or is unstable</h4>

<p>If the device crashes or the expected apps, data and settings are not present or not working as expected, contact <a href="https://www.zebra.com/us/en/about-zebra/contact-zebra/contact-tech-support.html">Zebra Support</a> for assistance.</p>

<hr>

<!-- <a id="#a13quickupgradedataloss"></a>-->

<h2 id="quickupgrade" class="anchor"><a class="heading-anchor" href="#quickupgrade"><span></span></a>Quick Upgrade</h2>

<p><br></p>

<h4 id="lifeguardotaautomaticandcustomupdatestoandroid13orhigher" class="anchor"><a class="heading-anchor" href="#lifeguardotaautomaticandcustomupdatestoandroid13orhigher"><span></span></a>LifeGuard OTA: Automatic and Custom Updates to Android 13 or higher</h4>

<p>Organizations using Zebra LifeGuard Over The Air (OTA) to manage devices can use the "Golden Config" file created using the <a href="#migrationprocedure">process above</a> to automatically upgrade to Android 13 or higher, potentially without data loss.* The LifeGuard OTA automatically restores the data preserved during the Golden Config process after a few additional steps (below).</p>

<ul>
<li><strong>The following manual steps are required</strong>:</li>

<li><strong>Deploy the Golden Config</strong> (<code>backup_restore_config.xml</code>) file to the device using any desired method (EMM, StageNow, etc.).</li>

<li><strong>Download and install the Zebra File Guardian</strong> utility for the target device from the Conversion Package section of any supported <a href="https://www.zebra.com/us/en/support-downloads/lifeguard-security.html">LifeGuard Update page</a>.<br>
<i class="fa fa-exclamation-triangle" style="color:#FFA500;"></i> Devices not upgraded in this way receive ONLY Android 11 updates.</li>
</ul>

<p><i><font size="2" color="DimGrey"> * Many factors can effect successful data restoration, including contents of the backup file, available space on target device(s), and whether optional <a href="#optionalassessmenttests">precondition assessment testing</a> was performed; LifeGuard OTA will not attempt migration on devices with any failed assessment.</font></i></p>

<blockquote>
  <p><i style="color:#FF0000;"></i><font size="5" color="red"><b>CAUTION!!</b></font><br> &gt; <b><u>The processes described below might result in data loss</u></b>. Follow these procedures ONLY when certain that data loss is NOT a concern. If unsure, read the earlier portions of this document to determine whether using one of these simplified procedures is appropriate for the situation.
  <br></p>
</blockquote>

<h4 id="simplifieda13migrationpossibledataloss" class="anchor"><a class="heading-anchor" href="#simplifieda13migrationpossibledataloss"><span></span></a>Simplified A13 Migration: Possible Data Loss</h4>

<p>The methods used to perform upgrades to Android 13 or higher are the same as those for other OSes. The following are common methods for Android upgrades based on the tool used.</p>

<ul>
<li><strong>Zebra StageNow:</strong>


<ul>
<li>Use the <a href="/stagenow/latest/smartprofile">My LifeGuard Updates</a> feature of the Zebra StageNow workstation tool to automate the creation of a Staging Profile to perform the upgrade from the current (pre-Android 13) OS to the desired Android 13 or higher OS.</li>

<li>Use StageNow to manually build a Staging Profile that automates the upgrade from the current (pre-Android 13) OS to the desired Android 13 or higher OS.</li></ul>
</li>

<li><strong>EMM system:</strong>


<ul>
<li>Use an EMM that supports Zebra <a href="/oemconfig">OEMConfig</a> to perform the upgrade from the current (pre-Android 13) OS to the desired Android 13 or higher OS.</li>

<li>Use an EMM with integrated support for performing OS upgrades of Zebra devices to perform the upgrade from the current (pre-Android 13) OS to the desired Android 13 or higher OS.</li>

<li>Use an EMM that supports submitting XML to Zebra MX to perform the upgrade from the current (pre-Android 13) OS to the desired Android 13 or higher OS.</li></ul>
</li>
</ul>

<!-- 10/5/23- removed from EMM system section per eng (PS via IM):
    * Use an EMM with integrated support for Zebra Firmware Over The Air (FOTA) to perform the upgrade from the current (pre-Android 13) OS to the desired Android 13 or higher OS.

9/13/23 removed per eng. TUT-86969
* **Zebra DNA Cloud:**
 * Use the [Zebra DNA Cloud](/zebradna) console to perform the upgrade from the current (pre-Android 13) OS to the desired Android 13 or higher OS.

 --><p></p>
                                        


                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                </div><!--/.col-sm-6-->
            </div>
            </section>
        </div>
    </section>    

<div class="modal fade" id="basicModal" tabindex="-1" role="dialog" aria-labelledby="basicModal" aria-hidden="true" data-backdrop="true">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal" aria-hidden="true">X</button>
					</div>
					<div class="modal-body">
						<div id="modalImg">
						
						</div>
					</div>
			</div>
		  </div>
		</div> </div>
         <footer id="footer">
            <div class="container-fluid">
                <div class="row">
                    <div class="col-sm-10">
                        ZEBRA and the stylized Zebra head are trademarks of Zebra Technologies Corp., registered in many jurisdictions worldwide. All other trademarks are the property of their respective owners. ©2024 Zebra Technologies Corp. and/or its affiliates.<br> <a href="https://www.zebra.com/us/en/about-zebra/company-information/legal.html">Legal</a> | <a href="https://www.zebra.com/us/en/about-zebra/company-information/compliance/information-privacy/terms-of-use.html">Terms of Use</a> | <a href="https://www.zebra.com/us/en/about-zebra/company-information/legal/privacy-statement.html">Privacy Policy</a> 
                    </div>
                     <!--
                     <div class="col-sm-2">
                        <ul class="social-icons">
                            <li><a href="http://www.facebook.com/pages/Zebra-Technologies/107703715989073"><i class="fa fa-facebook"></i></a></li>
                            <li><a href="https://twitter.com/ZebraDevs"><i class="fa fa-twitter"></i></a></li>
                            <li><a href="http://www.youtube.com/zebratechnologies/"><i class="fa fa-youtube"></i></a></li>
                            <li><a href="https://www.linkedin.com/groups?home=&gid=3220074&trk=anet_ug_hm&goback=%2Egmr_3220074"><i class="fa fa-linkedin"></i></a></li>
                            <li><a href="https://github.com/developer-zebra"><i class="fa fa-github"></i></a></li>
                        </ul>
                    </div> -->
                 </div>
            </div>
        </footer>
    
    <!--/#footer 
        10/25/18 removed <footer id="footer" class="navbar-fixed-bottom">
    -->
    <script src="/js/bootstrap.min.js"></script>
    <script src="/js/owl.carousel.min.js"></script>
    <script src="/js/mousescroll.js"></script>
    <script src="/js/smoothscroll.js"></script>
    <script src="/js/jquery.prettyPhoto.js"></script>
    <script src="/js/jquery.isotope.min.js"></script>
    <script src="/js/jquery.inview.min.js"></script>
    <script src="/js/wow.min.js"></script>
    <script src="/js/bootstrap-treenav.min.js"></script>
    <script src="/js/prettify.js"></script>
    <script src="/js/zepto.js"></script>
    <script src="/js/jquery.waterfall.js"></script>   
    <script src="/js/main.js"></script>

<script type="text/javascript">
  (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
  (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
  e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
  })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

  _st('install','zRzEsAUhWTTkrdEN2YfA','2.0.0');
</script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-72584442-1', 'auto');
  ga('send', 'pageview');

</script> 

<script>
    ChatraID = 'QDvZ76min4DhLW5vJ';
    (function(d, w, c) {
        var n = d.getElementsByTagName('script')[0],
            s = d.createElement('script');
        w[c] = w[c] || function() {
            (w[c].q = w[c].q || []).push(arguments);
        };
        s.async = true;
        s.src = (d.location.protocol === 'https:' ? 'https:': 'http:')
            + '//call.chatra.io/chatra.js';
        n.parentNode.insertBefore(s, n);
    })(document, window, 'Chatra');
</script>         


</body></html>