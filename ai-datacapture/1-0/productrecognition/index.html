
<!DOCTYPE html>
<html lang="en"><head>

    <meta charset="utf-8">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="-1">
    <meta http-equiv="CACHE-CONTROL" content="NO-CACHE">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Online Documentation for Zebra Technologies developer tools and utilties, including EMDK for Android, EMDK for Xamarin, StageNow and Enterprise Browser.">
    <meta name="author" content="Zebra Technologies">
    <meta name="google-site-verification" content="i4B78BrWnNy8ShJwe5feRW3jO3HE6gfYlYqYbxfl8yY">
    <meta name="msvalidate.01" content="6B651B00161BCE79B8950AC09D5C4C75">
    <meta title="Product Recognition">
    <title>Product Recognition - TechDocs</title>
    <!-- core CSS -->
    <link href="/css/bootstrap.min.css" rel="stylesheet">
<!--     
    <link href="/css/font-awesome.min.css" rel="stylesheet">
 -->    
    <link href="/css/all.css" rel="stylesheet">
    <link href="/css/v4-shims.css" rel="stylesheet">
    <link href="/css/animate.min.css" rel="stylesheet">
    <link href="/css/owl.carousel.css" rel="stylesheet">
    <link href="/css/owl.transitions.css" rel="stylesheet">
    <link href="/css/prettyPhoto.css" rel="stylesheet">
    <link href="/css/main.css" rel="stylesheet">
    <link href="/css/responsive.css" rel="stylesheet">
    <link href="/css/prettify.css" rel="stylesheet">
    <link href="/css/bootstrap-treenav.min.css" rel="stylesheet">
    <!--[if lt IE 9]>
    <script src="js/html5shiv.js"></script>
    <script src="js/respond.min.js"></script>
    <![endif]--> 

    <!-- 6/13/24- a "crown" icon randomly appeared in the MX matrix today. Rob said it looked like sumo. 
        <script src="//load.sumome.com/" data-sumo-site-id="699cb66cf4dc59352efb45705526d15cbe314e1cd43f7761b94d96f3cf7338e8" async="async"></script> -->
    <link rel="shortcut icon" href="/favicon.ico">
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-01QJCMQM9N"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-01QJCMQM9N');
</script><script src="/js/jquery.js"></script></head><!--/head-->

<!-- Google tag -->





<body id="home" class="homepage" data-spy="scroll" data-offset="100" data-target="#toc">

    <header id="header">
        <nav id="main-menu" class="navbar navbar-default navbar-fixed-top" role="banner">
            <div class="container-fluid">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="/"><img src="/images/logo.png" alt="logo" style="max-height:66px;float: inherit;
    padding-right: 3px;"></a> 
                    
                   
                </div>
                <div class="collapse navbar-collapse navbar-left">
                    <ul class="nav navbar-nav">
                        <li class="navbar-text pull-left"><strong>TechDocs</strong></li>
                        <p class="navbar-text">
                                            AI Data Capture SDK
                                            1.0
                        </p>

                    </ul>
                </div>
                <div class="collapse navbar-collapse navbar-right">
                    <ul class="nav navbar-nav">
                        


                        <li>
                            <a href="/ai-datacapture/1-0/about">
                                    About
                            </a>
                        </li>
                        <li>
                            <a href="/ai-datacapture/1-0/localizer">
                                    Localizer
                            </a>
                        </li>
                        <li>
                            <a href="/ai-datacapture/1-0/productrecognition">
                                    Product Recognition
                            </a>
                        </li>
                        <li>
                            <a href="/ai-datacapture/1-0/barcodedecoder">
                                    Barcode Decoder
                            </a>
                        </li>
                        <li>
                            <a href="/ai-datacapture/1-0/textocr">
                                    Text OCR
                            </a>
                        </li>
                        <li>
                            <a href="/ai-datacapture/1-0/search">
                                    <i class="fa fa-search"></i>
                            </a>
                        </li>
                        
                        <!-- <li ><a href="/products">SDKs</a></li>
                        <li ><a href="/samples">Samples</a></li>
                        <li ><a href="/guides">Guides</a></li>
                        <li ><a href="/tutorials">Tutorials</a></li>
                        <li ><a href="/apis">APIs</a></li> -->
                        <!-- <li><a href="#"><input type="text" class="st-default-search-input"></a></li> -->
                    </ul>
                </div>
            </div><!--/.container-->
        </nav><!--/nav-->
    </header><!--/header-->
<div class="container-fluid">
    <section id="blog">
        <div class="">
            <section class="content-with-sidebar">
            <div class="row">
                <div class="col-sm-3 hidden-sm hidden-xs" id="sidebar">
                    
                    
                    <nav id="toc" data-toggle="toc" data-spy="affix" style="height: 75%; max-width: 225px; overflow-y: auto; ">
                        
                        <ul class="nav">
                            <li><strong>Product Recognition</strong></li>
                        </ul>
                    </nav>
                    <div class="modal fade" id="modal-smartdocs" tabindex="-1" role="dialog" aria-labelledby="basicModal" aria-hidden="true" data-backdrop="true">
                    	<div class="modal-dialog">
                    		<div class="modal-content">
                    			<div class="modal-header">
                    				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">X</button>
                    			</div>
                    			<div class="modal-body">
                    				<form>
                    				  <div class="form-group">
                    				    <label for="exampleInputEmail1">MX Version On Device:</label>
                    				    <select class="form-control">
                    					  <option value="4.0">4.0</option>
                    					  <option value="4.1">4.1</option>
                    					  <option value="4.2">4.2</option>
                    					  <option value="4.3">4.3</option>
                    					  <option value="5.0">5.0</option>
                    					</select>
                    				  </div>						
                    				  <div class="form-group">
                    				    <label for="exampleInputEmail1">OSX Version On Device:</label>
                    				    <select class="form-control">
                    					  <option value="1.0">1.0</option>
                    					  <option value="1.2">1.2</option>
                    					  <option value="1.3.4-56">1.3.4-56</option>
                    					  <option value="3.4">3.4</option>
                    					  <option value="3.5">3.5</option>
                    					  <option value="3.6">3.6</option>
                    					  <option value="4.1">4.1</option>
                    					  <option value="4.2">4.2</option>
                    					  <option value="4.3">4.3</option>
                    					  <option value="4.4">4.4</option>
                    					</select>
                    				  </div>						
                    				  <div class="form-group">
                    				    <label for="exampleInputEmail1">Android Version On Device:</label>
                    				    <select class="form-control">
                    					  <option value="23">6.0 Marshmallow</option>
                    					  <option value="22">5.1 Lollipop</option>
                    					  <option value="21">5.0 Lollipop</option>
                    					  <option value="19">4.4 Kitkat</option>
                    					  <option value="18">4.3 Jellybean</option>
                    					  <option value="17">4.2.x Jellybean</option>
                    					  <option value="16">4.1.x Jellybean</option>
                    					  <option value="15">4.0.3-4.0.4 Ice Cream Sandwich</option>
                    					  <option value="14">4.0-4.0.2 Ice Cream Sandwich</option>
                    					  <option value="10">2.3.3-2.3.4 Gingerbread</option>
                    					</select>
                    				  </div>
                    				  <div class="form-group">
                    				  	<button class="primary" id="btn_SaveSmartDocOptions">Save Changes</button><button class="primary" id="btn_ClearSmartDocOptions">Clear Changes</button>
                    				  </div>
                    				</form>
                    			</div>
                    	</div>
                      </div>
                    </div>
                    
                    <script type="text/javascript">
                        $(document).ready(function() {
                        	$( "#btn_SaveSmartDocOptions" ).click(function() {
                      			console.log('Saving Options');
                      			$("#modal-smartdocs").modal({show: false});
                    		});
                        	$( "#btn_SaveSmartDocOptions" ).click(function() {
                      			console.log('Clearing Options');
                      			$("#modal-smartdocs").modal({show: false});
                    		});
                        });
                    </script><link rel="stylesheet" href="https://cdn.rawgit.com/afeld/bootstrap-toc/v0.3.0/dist/bootstrap-toc.min.css">
                    <script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v0.3.0/dist/bootstrap-toc.min.js"></script>
                    <script type="text/javascript">
                        $(document).ready(function() {
                    
                        });
                    
                    
                    </script>
                </div>                
                <div class="col-sm-9 ">
                    <div class="row">
                        <div class="col-sm-12">
                            <section id="cta" class="wow fadeIn">
                                <div class="">
                                    <h1 id="product-recognition" class="anchor"><a class="heading-anchor" href="#product-recognition"><span></span></a>Product Recognition</h1>
                                    <p>
                                            AI Data Capture SDK
                                            1.0
                                    </p>
                                </div>
                            </section>                    
                        </div>
                    </div>
                    <div id="mainContent" class="row">
                        <div class="col-sm-12">
                            <div class="blog-post blog-large wow fadeInLeft" data-wow-duration="300ms" data-wow-delay="0ms">
                            <!-- Start of guide -->
                                <div class="service-box wow fadeInRight">
                                    <div class="">

                                        <p></p><h2 id="overview" class="anchor"><a class="heading-anchor" href="#overview"><span></span></a>Overview</h2>

<p><strong>Product Recognition</strong> utilizes the <strong>Feature Extractor, Feature Storage,</strong> and <strong>Recognizer</strong> classes to identify products in images. Typically used alongside the <a href="../localizer/">Localizer</a> class, this approach builds a comprehensive knowledge base that enhances inventory tracking and facilitates automated checkouts.</p>

<ul>
<li><strong><a href="#featureextractor">Feature Extractor</a> -</strong> Extracts key features from images to produce ‘descriptors.’ </li>

<li><strong><a href="#featurestorage">Feature Storage</a> -</strong> Stores these descriptors in a vector database, allowing users to build a comprehensive product recognition database.</li>

<li><strong><a href="#recognizer">Recognizer</a> -</strong> Initializes the database to perform semantic searches, identifying the most similar embeddings in the knowledge base and predicting the identity of detected products. </li>
</ul>

<p>When combined with the <a href="../localizer/">Shelf and Product Localizer</a>, products within an image are first detected, then ‘cropped’ and individually submitted for recognition, streamlining the process for efficient and accurate identification. This system is particularly optimized for retail product recognition.</p>

<hr>

<h2 id="featureextractor" class="anchor"><a class="heading-anchor" href="#featureextractor"><span></span></a>Feature Extractor</h2>

<p>The <code>FeatureExtractor</code> class generates a set of <strong>descriptors,</strong> which is a vector of float numbers that describe the features of an item identified within an image. It provides functionalities to process both entire images and specific regions defined by <a href="../class/bbox/">bounding boxes</a>, accommodating various input formats and orientations.</p>

<p>Common Applications:</p>

<ul>
<li><strong>Image Classification:</strong> Use descriptors that help classify images into categories, enhancing systems that sort or tag images based on visual content. </li>

<li><strong>Object Detection and Recognition:</strong> Extract features and generate descriptors from a whole image or specific regions of an image to help identify objects. This could be useful for surveillance, automated inspections or facial recognition within a crowd.</li>

<li><strong>Image Search and Retrieval:</strong> Implement image search functionality allowing to match objects to similar known entities from a database based on their descriptors, allowing for efficient and accurate visual searches. This could be useful to analyze specific areas of product images to detect defects or inconsistencies in manufacturing, ensuring high-quality standards.</li>

<li><strong>Oriented Object Detection:</strong> Extract features from specific image regions at known angles to improve object detection accuracy across various camera orientations. This is particularly useful in security systems.</li>
</ul>

<p>Configuration options for Feature Extractor are offered through <a href="#featureextractorsettings">FeatureExtractor.Settings</a>.</p>

<hr>

<h3 id="developerguide" class="anchor"><a class="heading-anchor" href="#developerguide"><span></span></a>Developer Guide</h3>

<p>This guide demonstrates how to create descriptors for entire images or specific regions, with the option to adjust for orientation if necessary.</p>

<h4 id="step1initialization" class="anchor"><a class="heading-anchor" href="#step1initialization"><span></span></a>Step 1: Initialization</h4>

<ol>
<li><strong>Import the FeatureExtractor class:</strong> Use <code>com.zebra.ai.vision.FeatureExtractor</code>.</li>

<li><strong>Initialize the SDK:</strong> Use your application's context object.</li>

<li><strong>Specify fully qualified file path for the detection model:</strong> Include the directory and filename, e.g. <code>/model_file_path/xyz.tar.crypt</code>.</li>

<li><strong>Retrieve the model name:</strong> Invoke <a href="#staticstringgetmodelnameintmodel_type">getModelName</a> with the appropriate model type. This configures the feature extraction process.</li>

<li><strong>Initialize Settings:</strong> Create a <code>Settings</code> object with the model file path and model name. </li>

<li><strong>Instantiate FeatureExtractor:</strong> Use the <code>Settings</code> object to create an instance of <code>FeatureExtractor</code> with a <a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html">CompletableFuture</a>. The <code>thenAccept()</code> method allows handling of the instantiated <code>FeatureExtractor</code> for further operations. </li>
</ol>

<p>Sample Code:</p>

<pre class="prettyprint"><code>    import com.zebra.ai.vision.FeatureExtractor; 

    // Developer must Initialize SDK by calling below API: 
    AIVisionSDK.getInstance(Context).init(); //Context refers to application context object. 

    //Initialize FeatureExtractor settings object 
    String modelPath = "path/to/model.crypt"; 
    String modelName = FeatureExtractor.Settings. 

    getModelName(FeatureExtractor.Settings.MODEL_TYPE_FEATURE_EXTRACTOR);      

    FeatureExtractor.Settings settings = new FeatureExtractor.Settings (modelPath, modelName); 

    // Initialize FeatureExtractor object  
    FeatureExtractor featureExtractor = null;  

    // Initialize featureExtractor 
    // settings = featureExtractor.Settings object created        
    CompletableFuture&lt;FeatureExtractor&gt; futureObject = getFeatureExtractor (settings, executor);  

    // Use the futureObject to implement thenAccept() callback of CompletableFuture
    futureObject.thenAccept (featureExtractorInstance -&gt; {  
        // Use the featureExtractor object returned here for the detection of products  
        featureExtractor = featureExtractorInstance;  
    } ); 
</code></pre>

<h4 id="step2generatedescriptors" class="anchor"><a class="heading-anchor" href="#step2generatedescriptors"><span></span></a>Step 2: Generate Descriptors</h4>

<p>Generate descriptors for either whole images or specific image regions, with the option to adjust orientation if required.</p>

<h5 id="forawholeimage" class="anchor"><a class="heading-anchor" href="#forawholeimage"><span></span></a>For a Whole Image</h5>

<ol>
<li><p><strong>Initialization:</strong> Ensure that the <code>FeatureExtractor</code> is properly initialized with the necessary settings. Prepare the bitmap image and executor for processing. </p></li>

<li><p><strong>Descriptor Generation:</strong> Call <code>generateSingleDescriptor</code> with the bitmap and executor. This method returns a <a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html">CompletableFuture</a> that contains the image's descriptors. </p>

<ul>
<li><p><strong>Without orientation adjustment:</strong></p>

<pre class="prettyprint"><code>CompletableFuture&lt;Descriptor&gt; futureObject = featureExtractor.generateSingleDescriptor (bitmap, executor);   
</code></pre></li>

<li><p><strong>With orientation adjustment:</strong> Include the orientation angle at which the image was captured:</p>

<pre class="prettyprint"><code>CompletableFuture&lt;Descriptor&gt; futureObject = featureExtractor.generateSingleDescriptor(bitmap, orientation, executor);  
</code></pre></li></ul></li>

<li><p><strong>Asynchronous Processing:</strong> Use the <code>thenAccept</code> method of <code>CompletableFuture</code> to handle the result once the descriptor generation is complete. This allows the descriptors for processing without blocking the main thread. </p></li>

<li><p><strong>Resource Management:</strong> After processing is complete, call <code>dispose()</code> on the <code>FeatureExtractor</code> object to free resources and memory used during feature extraction. </p>

<pre class="prettyprint"><code>// Input params: bitmap image and an executor thread object for running the feature extractor functionality
CompletableFuture&lt;Descriptor&gt; futureObject = featureExtractor.generateSingleDescriptor (bitmap, executor);    

// If orientation adjustment is required, pass the orientation angle from which the image was taken 
// Comment out the code line above and use this line instead:
// CompletableFuture&lt;Descriptor&gt; futureObject = featureExtractor.generateSingleDescriptor(bitmap, orientation, executor);  

futureObject.thenAccept (results -&gt; {   
    // Process the returned descriptor object   
}); 

// Once done using the featureExtractor object, dispose the object to release the resources and memory used for feature extraction
featureExtractor.dispose(); 
</code></pre></li>
</ol>

<h5 id="forspecificimageregions" class="anchor"><a class="heading-anchor" href="#forspecificimageregions"><span></span></a>For Specific Image Regions</h5>

<ol>
<li><p><strong>Initialization:</strong> Ensure that the <code>FeatureExtractor</code> is initialized. Prepare the bitmap image and define the array of bounding boxes (detections) that indicate the specific regions of interest. <em>If applicable,</em> determine the orientation angle of the image. Set up an executor to manage asynchronous task execution. </p></li>

<li><p><strong>Descriptor Generation for Regions:</strong> Call <code>generateDescriptors</code>, passing the <a href="../class/bbox/">bounding boxes</a>, bitmap, and executor. This returns a <a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html">CompletableFuture</a> that outputs a descriptor object for each item specified by the bounding boxes.</p>

<ul>
<li><p><strong>Without orientation adjustment:</strong></p>

<pre class="prettyprint"><code>CompletableFuture&lt;Descriptor&gt; futureObject = featureExtractor.generateDescriptors(detections, bitmap, executor);  
</code></pre></li>

<li><p><strong>With orientation adjustment:</strong> Include the orientation angle at which the image was captured:</p>

<pre class="prettyprint"><code>CompletableFuture&lt;Descriptor&gt; futureObject = featureExtractor.generateDescriptors(detections, bitmap, orientation, executor);   
</code></pre></li></ul></li>

<li><p><strong>Asynchronous Processing:</strong> Use the <code>thenAccept</code> method of <code>CompletableFuture</code> process the descriptors as they are generated, avoiding blocking the main execution thread. </p></li>

<li><p><strong>Resource Management:</strong> After processing is complete, call <code>dispose()</code> on the <code>FeatureExtractor</code> to release resources and memory used during extraction. This is essential for optimal performance and preventing memory leaks. </p></li>
</ol>

<p>Sample Code:</p>

<pre class="prettyprint"><code>    // Input params: bitmap image; array of bounding boxes; an executor thread object thread object for running the feature extractor functionality
    CompletableFuture&lt;Descriptor&gt; futureObject = featureExtractor.generateDescriptors(detections, bitmap, executor);  

    // If orientation adjustment is required, pass the orientation angle from which the image was taken 
    // Comment out the code line above and use this line instead:
    // CompletableFuture&lt;Descriptor&gt; futureObject = featureExtractor.generateDescriptors(detections, bitmap, orientation, executor);     

    futureObject.thenAccept (results -&gt; {    
        // Process the Descriptor object
    } );    

    // Once done using the featureExtractor object dispose the object to release the resources and memory used for feature extraction

    featureExtractor.dispose(); 
</code></pre>

<hr>

<h3 id="methods" class="anchor"><a class="heading-anchor" href="#methods"><span></span></a>Methods</h3>

<h4 id="featureextractorsettingssettings" class="anchor"><a class="heading-anchor" href="#featureextractorsettingssettings"><span></span></a>FeatureExtractor (Settings settings)</h4>

<pre class="prettyprint"><code>    FeatureExtractor (Settings settings) throws IOException 
</code></pre>

<p><strong>Description:</strong> Constructs a new <code>FeatureExtractor</code> object. </p>

<p><strong>Parameters:</strong></p>

<ul>
<li><strong>settings -</strong> Configuration settings to construct a <code>FeatureExtractor</code> object. </li>
</ul>

<p><strong>Exceptions:</strong></p>

<ul>
<li><strong>IOException -</strong> Thrown if there is an issue accessing the archive (e.g., file not found). </li>
</ul>

<hr>

<h4 id="voiddispose" class="anchor"><a class="heading-anchor" href="#voiddispose"><span></span></a>void Dispose()</h4>

<pre class="prettyprint"><code>    Dispose()
</code></pre>

<p><strong>Description:</strong> Releases all internal resources used by the feature extractor object. This method should be called manually to free resources.</p>

<ul>
<li><strong>Method:</strong> void FeatureExtractor.dispose()</li>
</ul>

<hr>

<h4 id="generatesingledescriptorbitmapbmpintorientationexecutorexecutor" class="anchor"><a class="heading-anchor" href="#generatesingledescriptorbitmapbmpintorientationexecutorexecutor"><span></span></a>generateSingleDescriptor (Bitmap bmp, int orientation, Executor executor)</h4>

<pre class="prettyprint"><code>    CompletableFuture&lt;Descriptor&gt; generateSingleDescriptor(Bitmap bmp, int orientation, Executor executor) throws InvalidInputException, IllegalStateException 
</code></pre>

<p><strong>Description:</strong> Generates a descriptor for a whole image with a specified orientation, using a provided executor for asynchronous execution. </p>

<p><strong>Parameters:</strong></p>

<ul>
<li><strong>bmp -</strong> The image to process. </li>

<li><strong>orientation -</strong> This refers to the orientation angle, which is of the Integer type: <br>


<ul>
<li><strong>0 -</strong> 0 degrees </li>

<li><strong>1 -</strong> 90 degrees </li>

<li><strong>2 -</strong> 180 degrees </li>

<li><strong>3 -</strong> 270 degrees  </li></ul>
</li>

<li><strong>executor -</strong> An <code>Executor</code> for asynchronous task execution. </li>
</ul>

<p><strong>Return Value:</strong> A CompletableFuture with a Descriptor object as the output for a given input image.</p>

<p><strong>Exceptions:</strong></p>

<ul>
<li><strong>InvalidInputException -</strong> Thrown if bmp is null or orientation is invalid. </li>

<li><strong>IllegalStateException -</strong> Thrown if the feature extractor is not in a valid state to perform the operation. </li>
</ul>

<hr>

<h4 id="generatesingledescriptorbitmapbmpexecutorexecutor" class="anchor"><a class="heading-anchor" href="#generatesingledescriptorbitmapbmpexecutorexecutor"><span></span></a>generateSingleDescriptor (Bitmap bmp, Executor executor)</h4>

<pre class="prettyprint"><code>    CompletableFuture&lt;Descriptor&gt; generateSingleDescriptor(Bitmap bmp, Executor executor) throws InvalidInputException, IllegalStateException
</code></pre>

<p><strong>Description:</strong> Generates a descriptor for a whole image without specifying orientation, using a provided executor for asynchronous execution.</p>

<p><strong>Parameters:</strong></p>

<ul>
<li><strong>bmp -</strong> The image to process. </li>

<li><strong>executor -</strong> An <code>Executor</code> for asynchronous task execution. </li>
</ul>

<p><strong>Return Value:</strong> A CompletableFuture with a Descriptor object as the output for a given input image.</p>

<p><strong>Exceptions:</strong></p>

<ul>
<li><strong>InvalidInputException -</strong> Thrown if bmp is null or orientation is invalid. </li>

<li><strong>IllegalStateException -</strong> Thrown if the feature extractor is not in a valid state to perform the operation. </li>
</ul>

<hr>

<h4 id="generatedescriptorsbboxdetectionsbitmapbmpintorientationexecutorexecutor" class="anchor"><a class="heading-anchor" href="#generatedescriptorsbboxdetectionsbitmapbmpintorientationexecutorexecutor"><span></span></a>generateDescriptors (BBox[ ] detections, Bitmap bmp, int orientation, Executor executor)</h4>

<pre class="prettyprint"><code>    CompletableFuture&lt;Descriptor&gt; generateDescriptors(BBox[] detections, Bitmap bmp, int orientation, Executor executor) throws InvalidInputException, IllegalStateException          
</code></pre>

<p><strong>Description:</strong> Generates a set of descriptors for each item in an image determined by an array of bounding boxes with a specified orientation, using a provided executor for asynchronous execution.</p>

<p><strong>Parameters:</strong></p>

<ul>
<li><strong>detections -</strong> Array of bounding boxes determining the location of items.</li>

<li><strong>bmp -</strong> The image to process. </li>

<li><strong>orientation -</strong> This refers to the orientation angle, which is of Integer type: <br>


<ul>
<li><strong>0 -</strong> 0 degrees </li>

<li><strong>1 -</strong> 90 degrees </li>

<li><strong>2 -</strong> 180 degrees </li>

<li><strong>3 -</strong> 270 degrees  </li></ul>
</li>

<li><strong>executor -</strong> An <code>Executor</code> for asynchronous task execution. </li>
</ul>

<p><strong>Return Value:</strong> A CompletableFuture with a Descriptor object as the output for each of the items defined by the bounding boxes adjusted for the specified orientation.</p>

<p><strong>Exceptions:</strong></p>

<ul>
<li><strong>InvalidInputException -</strong> Thrown if <code>bmp</code> or <code>detections</code> is null or <code>orientation</code> is invalid. </li>

<li><strong>IllegalStateException -</strong> Thrown if a previous descriptor generation is still in progress.</li>
</ul>

<hr>

<h4 id="generatedescriptorsbboxdetectionsbitmapbmpexecutorexecutor" class="anchor"><a class="heading-anchor" href="#generatedescriptorsbboxdetectionsbitmapbmpexecutorexecutor"><span></span></a>generateDescriptors (BBox[ ] detections, Bitmap bmp, Executor executor)</h4>

<pre class="prettyprint"><code>    CompletableFuture&lt;Descriptor&gt; generateDescriptors(BBox[] detections, Bitmap bmp, Executor executor) throws InvalidInputException, IllegalStateException        
</code></pre>

<p><strong>Description:</strong> Generates a set of descriptors for each item in an image determined by an array of bounding boxes without specifying orientation, using a provided executor for asynchronous execution.</p>

<p><strong>Parameters:</strong></p>

<ul>
<li><strong>detections -</strong> Array of bounding boxes determining the location of items.</li>

<li><strong>bmp -</strong> The image to process. </li>

<li><strong>executor -</strong> An <code>Executor</code> for asynchronous task execution. </li>
</ul>

<p><strong>Return Value:</strong> A CompletableFuture with a Descriptor object as the output for each of the items defined by the bounding boxes adjusted for the specified orientation.</p>

<p><strong>Exceptions:</strong></p>

<ul>
<li><strong>InvalidInputException -</strong> Thrown if <code>bmp</code> or <code>detections</code> is null. </li>

<li><strong>IllegalStateException -</strong> Thrown if a previous descriptor generation is still in progress.</li>
</ul>

<hr>

<h4 id="getfeatureextractorsettingssettingsexecutorexecutor" class="anchor"><a class="heading-anchor" href="#getfeatureextractorsettingssettingsexecutorexecutor"><span></span></a>getFeatureExtractor (Settings settings, Executor executor)</h4>

<pre class="prettyprint"><code>    CompletableFuture&lt;FeatureExtractor&gt; getFeatureExtractor(Settings settings, Executor executor) throws InvalidInputException, RuntimeException     
</code></pre>

<p><strong>Description:</strong> Asynchronously loads the model and returns a <code>FeatureExtractor</code> object.</p>

<p><strong>Parameters:</strong></p>

<ul>
<li><strong>settings -</strong> Settings to construct a <code>FeatureExtractor</code> object.</li>

<li><strong>executor -</strong> An <code>Executor</code> for asynchronous task execution. </li>
</ul>

<p><strong>Return Value:</strong> A <code>CompletableFuture</code> containing the initialized <code>FeatureExtractor</code> object.</p>

<p><strong>Exceptions:</strong></p>

<ul>
<li><strong>InvalidInputException -</strong> Thrown if <code>setting</code> is null. </li>

<li><strong>RuntimeException -</strong> Thrown if the SDK is not initialized.</li>
</ul>

<hr>

<h3 id="featureextractorsettings" class="anchor"><a class="heading-anchor" href="#featureextractorsettings"><span></span></a>FeatureExtractor.Settings</h3>

<p>The <code>FeatureExtractor.Settings</code> class is a nested class within the <code>FeatureExtractor</code> class. It provides configuration options for the feature extractor, offering multiple constructors to initialize the settings with varying levels. This flexibility allows developers to tailor configurations according to their specific requirements.</p>

<hr>

<h4 id="settings" class="anchor"><a class="heading-anchor" href="#settings"><span></span></a>Settings()</h4>

<p><strong>Description:</strong> Constructs a new <code>Settings</code> object with default values, suitable for scenarios when the default configuration is adequate.</p>

<p><strong>Exceptions:</strong></p>

<ul>
<li><strong>RuntimeException -</strong> Thrown if the SDK is not initialized.</li>
</ul>

<hr>

<h4 id="settingsstringresource_filenamestringmodel_name" class="anchor"><a class="heading-anchor" href="#settingsstringresource_filenamestringmodel_name"><span></span></a>Settings (String resource_filename, String model_name)</h4>

<p><strong>Description:</strong> Constructs a new <code>Settings</code> object with a specified file location and model name, specification of the resource file and model name.</p>

<p><strong>Parameters:</strong></p>

<ul>
<li><strong>resource_filename -</strong> Location of the resource file for the feature extractor (i.e., model).</li>

<li><strong>model_name -</strong> Name of the model within the compressed file. For Feature Extractor, this is “descriptor”.</li>
</ul>

<p><strong>Exceptions:</strong></p>

<ul>
<li><strong>InvalidInputException -</strong> Thrown if any parameter is null or invalid.</li>

<li><strong>RuntimeException -</strong> Thrown if the SDK is not initialized.</li>
</ul>

<hr>

<h4 id="staticstringgetmodelnameintmodel_type" class="anchor"><a class="heading-anchor" href="#staticstringgetmodelnameintmodel_type"><span></span></a>Static String getModelName (int model_type)</h4>

<p><strong>Description:</strong> Returns the model name for the specified model type, used to load the feature extractor model for generating feature descriptors.</p>

<p><strong>Parameters:</strong></p>

<ul>
<li><strong>int model_type -</strong> Model type to be passed. For Feature Extractor, this should be <code>MODEL_TYPE_FEATURE_EXTRACTOR</code>.</li>
</ul>

<p><strong>Return value:</strong></p>

<ul>
<li>String representing the model name</li>
</ul>

<p><strong>Exceptions:</strong></p>

<ul>
<li><strong>InvalidInputException -</strong> Thrown if an invalid model type is passed</li>
</ul>

<hr>

<h4 id="attributes" class="anchor"><a class="heading-anchor" href="#attributes"><span></span></a>Attributes</h4>

<h5 id="stringresourcename" class="anchor"><a class="heading-anchor" href="#stringresourcename"><span></span></a>String resourceName</h5>

<p><strong>Description:</strong> Location of the resource file (i.e., model) for the feature extractor, indicating where the necessary file is located.</p>

<h5 id="stringmodelname" class="anchor"><a class="heading-anchor" href="#stringmodelname"><span></span></a>String modelName</h5>

<p><strong>Description:</strong> Name of the model in the compressed file, identifying which model to use from the provided resources.</p>

<h5 id="inferenceroptionsnewinferenceroptions" class="anchor"><a class="heading-anchor" href="#inferenceroptionsnewinferenceroptions"><span></span></a>InferencerOptions = new InferencerOptions()</h5>

<p><strong>Description:</strong> An instance of <a href="../class/inferenceroptions/">InferencerOptions</a>, providing additional configuration options for the inferencer’s behavior.</p>

<h5 id="staticfinalintmodel_type_feature_extractor" class="anchor"><a class="heading-anchor" href="#staticfinalintmodel_type_feature_extractor"><span></span></a>static final int MODEL_TYPE_FEATURE_EXTRACTOR</h5>

<p><strong>Description:</strong> The model type passed to <a href="#staticstringgetmodelnameintmodel_type">getModelName</a>. For Feature Extractor, the value is 1.</p>

<hr>

<h2 id="featurestorage" class="anchor"><a class="heading-anchor" href="#featurestorage"><span></span></a>Feature Storage</h2>

<p>The <code>FeatureStorage</code> class is primarily used for updating the items the Recognizer can detect. It receives descriptors from the FeatureExtractor class and stores them in a database, adhering to a specific update strategy. The database can then be utilized to initialize a Recognizer with new detection capabilities.</p>

<p>Input: <a href="../types/#descriptor">Descriptor</a> &amp; Class Label</p>

<p>Output: <a href="../types/#database">Database</a></p>

<p>Feature Storage (Learning block) has the main application of updating the set of items the <a href="#recognizer">Recognizer</a> is able to detect.
Descriptors generated by the <a href="#featureextractor">Feature Extractor</a> can be fed into this class, which will store them in a DB, alongside the class name they represent, following a predefined update strategy. The resulting DB can then be used to initialize a <a href="#recognizer">Recognizer</a> instance with new detection capabilities.</p>

<h3 id="initialization" class="anchor"><a class="heading-anchor" href="#initialization"><span></span></a>Initialization</h3>

<p>The Feature Storage object is initialized via its configuration structure.
There are 2 mandatory fields that need to be set. </p>

<pre class="prettyprint"><code>    import com.zebra.AI.Vision.FeatureStorage;

    FeatureStorage.Settings settings = new FeatureStorage.Settings();
    settings.resourceName = MODEL_ARCHIVE_FILEPATH;
    settings.dbSource = DATABASE;

    // Initialize FeatureStorage object
    FeatureStorage featureStorage = new FeatureStorage(settings);
</code></pre>

<h3 id="usage" class="anchor"><a class="heading-anchor" href="#usage"><span></span></a>Usage</h3>

<pre class="prettyprint"><code>    String[] classNames = featureStorage.getAvailableClassNames();
</code></pre>

<p>Add descriptors to the database:</p>

<p><em>DESCRIPTORS</em> = list of <a href="../types/#descriptor">descriptors</a> (typically a result of <a href="#featureextractor/">Feature Extractor</a> generate <a href="../types/#descriptor">descriptors</a> call)</p>

<p><em>LABEL</em> = identifier for the className that is being stored, for example it could be the SKU of a retail product</p>

<pre class="prettyprint"><code>    featureStorage.addDescriptors(LABEL, DESCRIPTORS);
</code></pre>

<p>For a complete list of samples, please look <a href="../about/">here</a>.</p>

<h3 id="featurestorage-1" class="anchor"><a class="heading-anchor" href="#featurestorage-1"><span></span></a>FeatureStorage()</h3>

<p>FeatureStorage.FeatureStorage (Settings settings) throws FileNotFoundException, IOException</p>

<h4 id="description" class="anchor"><a class="heading-anchor" href="#description"><span></span></a>Description</h4>

<p>Construct a new <code>Feature Storage</code> object.</p>

<h4 id="parameters" class="anchor"><a class="heading-anchor" href="#parameters"><span></span></a>Parameters</h4>

<ul>
<li><code>settings</code> - (Settings) The configuration settings used to initialize the feature storage.</li>
</ul>

<h4 id="exception" class="anchor"><a class="heading-anchor" href="#exception"><span></span></a>Exception</h4>

<ul>
<li><code>FileNotFoundException</code></li>
</ul>

<p>Throws exception <code>FileNotFoundException</code> if the configuration file specified in the settings is not found.</p>

<ul>
<li><code>IOException</code></li>
</ul>

<p>Throws exception <code>FileNotFoundException</code> if there is an issue reading or writing to the underlying storage.</p>

<h3 id="dispose" class="anchor"><a class="heading-anchor" href="#dispose"><span></span></a>Dispose()</h3>

<p>void  FeatureExtractor.dispose ()</p>

<h4 id="description-1" class="anchor"><a class="heading-anchor" href="#description-1"><span></span></a>Description</h4>

<p>Releases all internal resources used by the <code>FeatureStorage</code> object. This method should be called manually to free resources.</p>

<h3 id="adddescriptorsstringlabelfloatdescriptors" class="anchor"><a class="heading-anchor" href="#adddescriptorsstringlabelfloatdescriptors"><span></span></a>addDescriptors (String label, float[ ][ ] descriptors)</h3>

<p>void  FeatureStorage.addDescriptors (String label, float[ ][ ] descriptors)</p>

<h4 id="description-2" class="anchor"><a class="heading-anchor" href="#description-2"><span></span></a>Description</h4>

<p>Adds descriptors to the storage for a specified label.</p>

<h4 id="parameters-1" class="anchor"><a class="heading-anchor" href="#parameters-1"><span></span></a>Parameters</h4>

<ul>
<li><code>label</code> - Identifier of the product represented by the descriptors.</li>

<li><code>descriptors</code> - List of descriptors to add.</li>
</ul>

<h3 id="adddescriptorsstringlabelfloatdescriptorsbooleanforcesupport" class="anchor"><a class="heading-anchor" href="#adddescriptorsstringlabelfloatdescriptorsbooleanforcesupport"><span></span></a>addDescriptors (String  label, float descriptors[ ][ ], boolean forceSupport)</h3>

<p>void FeatureStorage.addDescriptors (String  label, float descriptors[ ][ ], boolean forceSupport)</p>

<h4 id="description-3" class="anchor"><a class="heading-anchor" href="#description-3"><span></span></a>Description</h4>

<p>Adds descriptors to the storage for a specified label, with an option to force support generation.</p>

<h4 id="parameters-2" class="anchor"><a class="heading-anchor" href="#parameters-2"><span></span></a>Parameters</h4>

<ul>
<li><code>label</code> - The identifier for the class or category to which the descriptors belong.</li>

<li><code>descriptors</code> - A 2D array of feature descriptors.</li>

<li><code>forceSupport</code> - If true, ensures that support descriptors are added even if the label already exists.</li>
</ul>

<h3 id="adddescriptorsstringlabelfloatdescriptorsbooleanforcesupportbooleanrandomtrim" class="anchor"><a class="heading-anchor" href="#adddescriptorsstringlabelfloatdescriptorsbooleanforcesupportbooleanrandomtrim"><span></span></a>addDescriptors (String label, float descriptors[ ][ ], boolean forceSupport, boolean randomTrim)</h3>

<p>void  FeatureStorage.addDescriptors (String label, float descriptors[ ][ ], boolean    forceSupport, boolean   randomTrim)</p>

<h4 id="description-4" class="anchor"><a class="heading-anchor" href="#description-4"><span></span></a>Description</h4>

<p>Add descriptors for a product.</p>

<h4 id="parameters-3" class="anchor"><a class="heading-anchor" href="#parameters-3"><span></span></a>Parameters</h4>

<ul>
<li><code>label</code> - The identifier for the class or category to which the descriptors belong.</li>

<li><code>descriptors</code> - List of descriptors to add.</li>

<li><code>forceSupport</code> - If true, flags the descriptors as support descriptors.</li>

<li><code>randomTrim</code> - If set to true, when attempting to add more descriptors than <code>maxUpdateN</code>, random descriptors will be removed. Otherwise, descriptors at the end of the list will be removed.</li>
</ul>

<h3 id="adddescriptorswithimagesstringlabelfloatdescriptorsbyteimagesbooleanforcesupport" class="anchor"><a class="heading-anchor" href="#adddescriptorswithimagesstringlabelfloatdescriptorsbyteimagesbooleanforcesupport"><span></span></a>addDescriptorsWithImages (String label, float descriptors[ ][ ], byte images[ ][ ], boolean forceSupport)</h3>

<p>void  FeatureStorage.addDescriptorsWithImages (String label, float descriptors[ ][ ], byte images[ ][ ], boolean forceSupport)</p>

<h4 id="description-5" class="anchor"><a class="heading-anchor" href="#description-5"><span></span></a>Description</h4>

<p>Adds descriptors and associated images to the storage, with an option to force support generation.</p>

<h4 id="parameters-4" class="anchor"><a class="heading-anchor" href="#parameters-4"><span></span></a>Parameters</h4>

<ul>
<li><code>label</code> - The identifier for the class or category to which the descriptors and images belong.</li>

<li><code>descriptors</code> -  A 2D array of feature descriptors.</li>

<li><code>images</code> - A 2D array of images in byte format associated with the descriptors.</li>

<li><code>forceSupport</code> - If true, ensures that support descriptors are added even if the label already exists.</li>
</ul>

<h3 id="adddescriptorswithimagesstringlabelfloatdescriptorsbyteimages" class="anchor"><a class="heading-anchor" href="#adddescriptorswithimagesstringlabelfloatdescriptorsbyteimages"><span></span></a>addDescriptorsWithImages (String label, float descriptors[ ][ ], byte images [ ][ ])</h3>

<p>void  FeatureStorage.addDescriptorsWithImages (String label, float descriptors[ ][ ], byte images [ ][ ])</p>

<h4 id="description-6" class="anchor"><a class="heading-anchor" href="#description-6"><span></span></a>Description</h4>

<p>Adds descriptors and associated images to the storage.</p>

<h4 id="parameters-5" class="anchor"><a class="heading-anchor" href="#parameters-5"><span></span></a>Parameters</h4>

<ul>
<li><code>label</code> - The identifier for the class or category to which the descriptors and images belong.</li>

<li><code>descriptors</code> - A 2D array of feature descriptors.</li>

<li><code>images</code> - A 2D array of images in byte format associated with the descriptors.</li>
</ul>

<h3 id="incrementdescriptorhitcountstringlabelfloatdescriptor" class="anchor"><a class="heading-anchor" href="#incrementdescriptorhitcountstringlabelfloatdescriptor"><span></span></a>incrementDescriptorHitCount (String    label, float[ ] descriptor)</h3>

<p>void FeatureStorage.incrementDescriptorHitCount (String    label, float[ ] descriptor)</p>

<h4 id="description-7" class="anchor"><a class="heading-anchor" href="#description-7"><span></span></a>Description</h4>

<p>Increments the hit count for a specific descriptor associated with a label.</p>

<h4 id="parameters-6" class="anchor"><a class="heading-anchor" href="#parameters-6"><span></span></a>Parameters</h4>

<ul>
<li><code>label</code> - The identifier for the class or category containing the descriptor.</li>

<li><code>descriptors</code> - The descriptor for which the hit count should be incremented.</li>
</ul>

<h3 id="getsupportdescriptorsforproductstringlabel" class="anchor"><a class="heading-anchor" href="#getsupportdescriptorsforproductstringlabel"><span></span></a>getSupportDescriptorsForProduct (String    label)</h3>

<p>float[ ][ ]  FeatureStorage.getSupportDescriptorsForProduct (String label)</p>

<h4 id="description-8" class="anchor"><a class="heading-anchor" href="#description-8"><span></span></a>Description</h4>

<p>Retrieves the support descriptors for a specified label.</p>

<h4 id="parameters-7" class="anchor"><a class="heading-anchor" href="#parameters-7"><span></span></a>Parameters</h4>

<ul>
<li><code>label</code> - The identifier for the class or category.</li>
</ul>

<h4 id="returnvalue" class="anchor"><a class="heading-anchor" href="#returnvalue"><span></span></a>Return Value</h4>

<p>A 2D array of support descriptors associated with the label.</p>

<h3 id="getavailableclassnames" class="anchor"><a class="heading-anchor" href="#getavailableclassnames"><span></span></a>getAvailableClassNames()</h3>

<p>String[ ] FeatureStorage.getAvailableClassNames ()</p>

<h4 id="description-9" class="anchor"><a class="heading-anchor" href="#description-9"><span></span></a>Description</h4>

<p>Returns a list of all available class or category labels stored in the feature storage.</p>

<h4 id="returnvalue-1" class="anchor"><a class="heading-anchor" href="#returnvalue-1"><span></span></a>Return Value</h4>

<ul>
<li>An array of class or category labels.</li>
</ul>

<h3 id="connectclusteringcallback" class="anchor"><a class="heading-anchor" href="#connectclusteringcallback"><span></span></a>connectClusteringCallback()</h3>

<p>void  FeatureStorage.connectClusteringCallback (ClusteringEvent    eventHandler)</p>

<h4 id="description-10" class="anchor"><a class="heading-anchor" href="#description-10"><span></span></a>Description</h4>

<p>Connects a callback function for clustering events.</p>

<h4 id="parameters-8" class="anchor"><a class="heading-anchor" href="#parameters-8"><span></span></a>Parameters</h4>

<ul>
<li><code>eventHandler</code> - The event handler to be invoked for clustering-related events.</li>
</ul>

<hr>

<h2 id="recognizer" class="anchor"><a class="heading-anchor" href="#recognizer"><span></span></a>Recognizer</h2>

<p>The <code>Recognizer</code> class offers methods to recognize patterns from descriptors generated by the <a href="#feature-extractor">Feature Extractor</a>. It identifies the top matches for a given set of descriptors and manages the loading and saving of indices and labels for persistent storage. The class supports both synchronous and asynchronous retrieval of results. </p>

<p>This guide begins with initial instructions for basic Recognizer setup. Subsequent sections offer a comprehensive list of Recognizer settings that can be fine-tuned for specific needs:</p>

<ul>
<li><a href="#recognizerrecognition">Recognition</a></li>

<li><a href="#settingsdb">SettingsDb</a></li>

<li><a href="#settingsindex">SettingsIndex</a></li>
</ul>

<hr>

<h3 id="developerguide-1" class="anchor"><a class="heading-anchor" href="#developerguide-1"><span></span></a>Developer Guide</h3>

<p>This guide demonstrates how use the <code>Recognizer</code> to find recognitions based on the descriptors generated.</p>

<h4 id="step1initialization-1" class="anchor"><a class="heading-anchor" href="#step1initialization-1"><span></span></a>Step 1: Initialization</h4>

<ol>
<li><strong>Import Necessary Classes:</strong> Import the <code>Recognizer</code> class and other necessary concurrent utilities such as CompletableFuture and Executor. </li>

<li><strong>Create SettingsDb Instance:</strong> Initialize a Recognizer.SettingsDb object to configure the database settings for the recognizer. </li>

<li><strong>Initialize Executor:</strong> Use Executors.newFixedThreadPool(1) to create an Executor for managing asynchronous tasks efficiently. </li>

<li><strong>Instantiate Recognizer:</strong> Call Recognizer.getRecognizer(settingsDb, executor) to get a CompletableFuture<recognizer>. This initializes the recognizer with the specified settings. </recognizer></li>

<li><strong>Handle Recognizer Instance:</strong> Use thenAccept() to access the Recognizer instance. This allows you to perform recognition tasks once the recognizer is ready. </li>
</ol>

<h4 id="step2performrecognition" class="anchor"><a class="heading-anchor" href="#step2performrecognition"><span></span></a>Step 2: Perform Recognition</h4>

<ol>
<li><strong>Generate Descriptors:</strong> Use FeatureExtractor.generateDescriptors() to obtain descriptors required for the recognition process. </li>

<li><strong>Perform Recognition:</strong> Invoke recognizer.findRecognitions(descriptors, 5, executor) to find the top 5 recognition matches for the descriptors. The results are handled asynchronously using thenAccept(). </li>

<li><strong>Process Results:</strong> Iterate through the returned Recognition[] to process each recognition result. </li>

<li><strong>Dispose Recognizer:</strong> After completing the recognition tasks, call recognizer.dispose() to release resources and memory utilized during the process. </li>
</ol>

<p>Sample code:</p>

<pre class="prettyprint"><code>    import java.io.IOException; 
    import java.util.concurrent.CompletableFuture; 
    import java.util.concurrent.ExecutionException; 

    // Create an instance of SettingsDb 
    Recognizer.SettingsDb settingsDb = new Recognizer.SettingsDb(); 

    // Instantiate the Recognizer 
    //settings – Recognizer.SettingsDb object created above  

    // Initialize executor 
    Executor executor = Executors.newFixedThreadPool(1); 

    CompletableFuture&lt;Recognizer&gt; futureObject = Recognizer.getRecognizer(settings,executor);  

    //Use the futureObject to implement thenAccept() callback of CompletableFuture.   
    futureObject.thenAccept (recognizerInstance -&gt; {   
        //Use the recognizer object returned here for the detection of barcodes/Shelves/products   
        recognizer = recognizerInstance;   
    }); 

    //get the Descriptors from FeatureExtractor.generateDescriptors() API       
    // Perform Recognition 
    CompletableFuture&lt;Recognition[]&gt; futureObject =  recognizer.findRecognitions(descriptors, k, executor); 

    futureObject.thenAccept (results -&gt; {     
            //Process the returned array of recognitions.     
    } ); 

    // Dispose resources 
    //Once the recognizer object usage is done, developer must dispose the object using //below API. This API call release the resources and memory used for recognition.   
    recognizer.dispose() 
</code></pre>

<hr>

<h3 id="methods-1" class="anchor"><a class="heading-anchor" href="#methods-1"><span></span></a>Methods</h3>

<h4 id="getrecognizersettingsdbsettingsexecutorexecutor" class="anchor"><a class="heading-anchor" href="#getrecognizersettingsdbsettingsexecutorexecutor"><span></span></a>getRecognizer (SettingsDb settings, Executor executor)</h4>

<pre class="prettyprint"><code>    CompletableFuture&lt;Recognizer&gt; getRecognizer(SettingsDb settings, Executor executor) throws InvalidInputException, RuntimeException 
</code></pre>

<p><strong>Description:</strong> Asynchronously retrieves a Recognizer using database settings. </p>

<p><strong>Parameters:</strong></p>

<ul>
<li><strong>SettingsDb settings -</strong> Settings for initialization from a database.  </li>

<li><strong>Executor executor -</strong> The executor to use for asynchronous operations. </li>
</ul>

<p><strong>Return Value:</strong> A future holding the Recognizer object. </p>

<p><strong>Exceptions:</strong></p>

<ul>
<li><strong>InvalidInputException -</strong> Thrown if the input settings are invalid. </li>

<li><strong>RuntimeException -</strong> Thrown if an unexpected error occurs. </li>
</ul>

<hr>

<h4 id="getrecognizersettingsindexsettingsexecutorexecutor" class="anchor"><a class="heading-anchor" href="#getrecognizersettingsindexsettingsexecutorexecutor"><span></span></a>getRecognizer (SettingsIndex settings, Executor executor)</h4>

<pre class="prettyprint"><code>    CompletableFuture&lt;Recognizer&gt; getRecognizer (SettingsIndex settings, Executor executor) throws RuntimeException, InvalidInputException 
</code></pre>

<p><strong>Description:</strong> Asynchronously retrieves a <code>Recognizer</code> object using index file settings. </p>

<p><strong>Parameters:</strong></p>

<ul>
<li><strong>SettingsIndex settings -</strong> Settings for initialization from an index file.  </li>

<li><strong>Executor executor -</strong> The executor to use for asynchronous operations. </li>
</ul>

<p><strong>Return Value:</strong> A future holding the Recognizer object. </p>

<p><strong>Exceptions:</strong></p>

<ul>
<li><strong>RuntimeException -</strong> Thrown if an unexpected error occurs.  </li>

<li><strong>InvalidInputException -</strong> Thrown if the input settings are invalid. </li>
</ul>

<hr>

<h4 id="dispose-1" class="anchor"><a class="heading-anchor" href="#dispose-1"><span></span></a>Dispose()</h4>

<pre class="prettyprint"><code>    void Recognizer.dispose()
</code></pre>

<p><strong>Description:</strong> Frees or releases resources by the <code>Recognizer</code>; must be when the <code>Recognizer</code> is no longer needed.</p>

<hr>

<h4 id="findrecognitionsfloatdescriptorsintkexecutorexecutor" class="anchor"><a class="heading-anchor" href="#findrecognitionsfloatdescriptorsintkexecutorexecutor"><span></span></a>findRecognitions(float[ ][ ] descriptors, int k, Executor executor)</h4>

<pre class="prettyprint"><code>    CompletableFuture&lt;Recognition[]&gt; findRecognitions(float[][] descriptors, int k, Executor executor) 
</code></pre>

<p><strong>Description:</strong> Finds the top-k recognitions for the given descriptors asynchronously. </p>

<p><strong>Parameters:</strong></p>

<ul>
<li><strong>float[][] descriptors -</strong> Array of descriptors for recognition.  </li>

<li><strong>int k -</strong> Number of top recognitions to find.  </li>

<li><strong>Executor executor -</strong> The executor for asynchronous operations. </li>
</ul>

<p><strong>Return Value:</strong> A future containing an array of <code>Recognition</code> objects. </p>

<p><strong>Exceptions:</strong></p>

<ul>
<li><strong>IllegalStateException -</strong> Thrown if the recognizer is not properly initialized. </li>

<li><strong>InvalidInputException -</strong> Thrown if descriptors are invalid. </li>
</ul>

<hr>

<h4 id="findrecognitionsfloatdescriptors" class="anchor"><a class="heading-anchor" href="#findrecognitionsfloatdescriptors"><span></span></a>findRecognitions(float    descriptors[ ][ ])</h4>

<pre class="prettyprint"><code>    CompletableFuture&lt;Recognition[]&gt; findRecognitions(float[][] descriptors, Executor executor) 
</code></pre>

<p><strong>Description:</strong> Finds the top 5 classes for each item represented by a descriptor. A class is the product category of an item.</p>

<p><strong>Parameters:</strong></p>

<ul>
<li><strong>float[ ][ ] descriptors -</strong> An array of descriptors to use for recognitions. </li>

<li><strong>Executor executor -</strong> The executor for asynchronous operations. </li>
</ul>

<p><strong>Return Value:</strong> A <a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html">CompletableFuture</a> containing an array of <code>Recognition</code> objects. </p>

<p><strong>Exceptions:</strong></p>

<ul>
<li><strong>IllegalStateException -</strong> Thrown if the recognizer is not properly initialized. </li>

<li><strong>InvalidInputException -</strong> Thrown if descriptors are invalid. </li>
</ul>

<hr>

<h4 id="findrecommendationsdescriptordescriptorobjintk" class="anchor"><a class="heading-anchor" href="#findrecommendationsdescriptordescriptorobjintk"><span></span></a>findRecommendations (Descriptor descriptorObj, int k)</h4>

<pre class="prettyprint"><code>    Recognizer.findRecommendations (Descriptor descriptorObj, int k) throws InvalidInputException 
</code></pre>

<p><strong>Description:</strong> This method identifies the top-k labels that match a set of descriptors as a whole. </p>

<p><strong>Parameters:</strong></p>

<ul>
<li><strong>descriptorObj -</strong> The descriptor object used for recognition. </li>

<li><strong>k -</strong> The maximum number of top matches to return. </li>
</ul>

<p><strong>Return Value:</strong> An array of Recommendation objects. </p>

<p><strong>Exceptions:</strong></p>

<ul>
<li><strong>InvalidInputException -</strong> Thrown if the descriptor array is null. </li>
</ul>

<hr>

<h4 id="saveindex" class="anchor"><a class="heading-anchor" href="#saveindex"><span></span></a>saveIndex()</h4>

<pre class="prettyprint"><code>    void Recognizer.saveIndex (String labelFilename, String indexFilename) 
</code></pre>

<p><strong>Description:</strong> Write the index state and labels to a file. </p>

<p><strong>Parameters:</strong></p>

<ul>
<li><strong>labelFilename -</strong> Filename to write labels to. </li>

<li><strong>indexFilename -</strong> Filename to write indices to. </li>
</ul>

<hr>

<h4 id="loadindex" class="anchor"><a class="heading-anchor" href="#loadindex"><span></span></a>loadIndex()</h4>

<pre class="prettyprint"><code>    void Recognizer.loadIndex (String labelFilename, String indexFilename) 
</code></pre>

<p><strong>Description:</strong> Read the index state and labels from a file. </p>

<p><strong>Parameters:</strong></p>

<ul>
<li><strong>labelFilename -</strong> The filename to read labels from. </li>

<li><strong>indexFilename -</strong> The filename to read indices from. </li>
</ul>

<hr>

<h3 id="recognizerrecognition" class="anchor"><a class="heading-anchor" href="#recognizerrecognition"><span></span></a>Recognizer.Recognition</h3>

<p>The <code>Recognition</code> class serves as a container for results from a product recognition process. Each instance of this class contains three parallel arrays: <code>similarity</code>, <code>normalizedSimilarity</code>, and <code>sku</code>. These arrays provide a comprehensive overview of the recognition results, including both the raw and normalized similarity scores, as well as the unique SKUs of the recognized products. </p>

<h4 id="similarity" class="anchor"><a class="heading-anchor" href="#similarity"><span></span></a>similarity</h4>

<pre class="prettyprint"><code>    Recognizer.Recognition.similarity[] 
</code></pre>

<p><strong>Description:</strong> This attribute stores the raw similarity scores, indicating the degree of similarity between the input data and each recognized product. </p>

<h4 id="normalizedsimilarity" class="anchor"><a class="heading-anchor" href="#normalizedsimilarity"><span></span></a>normalizedSimilarity</h4>

<pre class="prettyprint"><code>    Recognizer.Recognition.normalizedSimilarity[] 
</code></pre>

<p><strong>Description:</strong> This array contains the normalized similarity scores for each recognized product, allowing for a more uniform comparison across different recognition tasks. </p>

<h4 id="sku" class="anchor"><a class="heading-anchor" href="#sku"><span></span></a>sku</h4>

<pre class="prettyprint"><code>    Recognizer.Recognition.sku[] 
</code></pre>

<p><strong>Description:</strong> This attribute contains the SKU identifiers for each recognized product, facilitating product identification and inventory management. </p>

<hr>

<h3 id="recognizersettingsdb" class="anchor"><a class="heading-anchor" href="#recognizersettingsdb"><span></span></a>Recognizer.SettingsDb</h3>

<p>The <code>Recognizer.SettingsDb</code> class encapsulates the settings required for initializing a recognizer using a database. It provides mechanisms to define the database source, specify Faiss index parameters, and filter labels, among other configurations. </p>

<hr>

<h4 id="settingsdb" class="anchor"><a class="heading-anchor" href="#settingsdb"><span></span></a>SettingsDb()</h4>

<pre class="prettyprint"><code>    Recognizer.SettingsDb.SettingsDb() 
</code></pre>

<p><strong>Description:</strong> Constructs a new <code>SettingsDb</code> object with default settings, initializing the object without any file-specific overrides. </p>

<hr>

<h4 id="settingsdbstringfilename" class="anchor"><a class="heading-anchor" href="#settingsdbstringfilename"><span></span></a>SettingsDb(String filename)</h4>

<pre class="prettyprint"><code>    Recognizer.SettingsDb.SettingsDb (String filename) 
</code></pre>

<p><strong>Description:</strong> Constructs a new <code>SettingsDb</code> object using the specified file for resource overrides. </p>

<p><strong>Parameters:</strong></p>

<ul>
<li><strong>filename -</strong> The file location containing resources for the recognizer, such as a meta file with configuration values. </li>
</ul>

<hr>

<h4 id="resourcename" class="anchor"><a class="heading-anchor" href="#resourcename"><span></span></a>resourceName</h4>

<pre class="prettyprint"><code>    Recognizer.SettingsDb.resourceName 
</code></pre>

<p><strong>Description:</strong> An optional parameter specifying the location of the file containing resources for the recognizer (i.e., meta files with configuration values). This allows for configuration overrides. </p>

<hr>

<h4 id="dbsource" class="anchor"><a class="heading-anchor" href="#dbsource"><span></span></a>dbSource</h4>

<pre class="prettyprint"><code>    Recognizer.SettingsDb.dbSource 
</code></pre>

<p><strong>Description:</strong> Specifies the location of the database. This attribute is crucial for determining where the recognizer should source its data. </p>

<hr>

<h4 id="faissindexstring" class="anchor"><a class="heading-anchor" href="#faissindexstring"><span></span></a>faissIndexString</h4>

<pre class="prettyprint"><code>    Recognizer.SettingsDb.faissIndexString 
</code></pre>

<p><strong>Description:</strong> Defines the type of the Faiss index, used to select the appropriate indexing strategy for the database. </p>

<hr>

<h4 id="faissparamsstring" class="anchor"><a class="heading-anchor" href="#faissparamsstring"><span></span></a>faissParamsString</h4>

<pre class="prettyprint"><code>Recognizer.SettingsDb.faissParamsString 
</code></pre>

<p><strong>Description:</strong> Additional parameters for the Faiss index, allowing for fine-tuning the index settings beyond the default configuration. </p>

<hr>

<h4 id="labelfilter" class="anchor"><a class="heading-anchor" href="#labelfilter"><span></span></a>labelFilter</h4>

<pre class="prettyprint"><code>    Recognizer.SettingsDb.labelFilter 
</code></pre>

<p><strong>Description:</strong> A list of labels to ignore from the database, helping in filtering out unwanted data during the recognition process. </p>

<hr>

<h4 id="indexdimensions" class="anchor"><a class="heading-anchor" href="#indexdimensions"><span></span></a>indexDimensions</h4>

<pre class="prettyprint"><code>    Recognizer.SettingsDb.indexDimensions 
</code></pre>

<p><strong>Description:</strong> Specifies the dimension of the vectors stored in the search index, ensuring compatibility between the data and the indexing method. </p>

<hr>

<h3 id="recognizersettingsindex" class="anchor"><a class="heading-anchor" href="#recognizersettingsindex"><span></span></a>Recognizer.SettingsIndex</h3>

<p>The <code>Recognizer.SettingsIndex</code> class manages settings for initializing a system from an index file. It provides constructors to create instances with default settings or with specified index and label file locations, making it useful for applications that require structured input data and label information for AI vision processing tasks. </p>

<hr>

<h4 id="settingsindex" class="anchor"><a class="heading-anchor" href="#settingsindex"><span></span></a>SettingsIndex()</h4>

<pre class="prettyprint"><code>    Recognizer.SettingsIndex.SettingsIndex() 
</code></pre>

<p><strong>Description:</strong> This is the default constructor for the <code>SettingsIndex</code> class, creating a new object without a predefined index or label file paths. </p>

<hr>

<h4 id="settingsindexstringindexfilenamestringlabelfilename" class="anchor"><a class="heading-anchor" href="#settingsindexstringindexfilenamestringlabelfilename"><span></span></a>SettingsIndex(String index filename, String labelFilename)</h4>

<pre class="prettyprint"><code>    Recognizer.SettingsIndex.SettingsIndex (String index filename, String labelFilename) 
</code></pre>

<p><strong>Description:</strong> This constructor creates a new <code>SettingsIndex</code> object with specified file locations for both the index and label files. This is useful when specific files are needed to initialize the system. </p>

<hr>

<h4 id="indexfilename" class="anchor"><a class="heading-anchor" href="#indexfilename"><span></span></a>indexFilename</h4>

<pre class="prettyprint"><code>    Recognizer.SettingsIndex.indexFilename 
</code></pre>

<p><strong>Description:</strong> A string attribute that specifies the location of the path to the index file, facilitating the system's initialization with structured input data. </p>

<hr>

<h4 id="labelfilename" class="anchor"><a class="heading-anchor" href="#labelfilename"><span></span></a>labelFilename</h4>

<pre class="prettyprint"><code>    Recognizer.SettingsIndex.labelFilename 
</code></pre>

<p><strong>Description:</strong> A string attribute that specifies the path to the label file, enabling the system to effectively associate labels with the indexed data. </p>

<hr>

<h2 id="relatedguides" class="anchor"><a class="heading-anchor" href="#relatedguides"><span></span></a>Related Guides</h2>

<ul>
<li><a href="../about/">About</a></li>

<li><a href="../localizer/">Localizer</a></li>

<li><a href="../barcodedecoder/">Barcode Decoder</a></li>

<li><a href="../textocr/">Text OCR</a></li>
</ul><p></p>
                                        


                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                </div><!--/.col-sm-6-->
            </div>
            </section>
        </div>
    </section>    

<div class="modal fade" id="basicModal" tabindex="-1" role="dialog" aria-labelledby="basicModal" aria-hidden="true" data-backdrop="true">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal" aria-hidden="true">X</button>
					</div>
					<div class="modal-body">
						<div id="modalImg">
						
						</div>
					</div>
			</div>
		  </div>
		</div> </div>
         <footer id="footer">
            <div class="container-fluid">
                <div class="row">
                    <div class="col-sm-10">
                        ZEBRA and the stylized Zebra head are trademarks of Zebra Technologies Corp., registered in many jurisdictions worldwide. All other trademarks are the property of their respective owners. ©2025 Zebra Technologies Corp. and/or its affiliates.<br> <a href="https://www.zebra.com/us/en/about-zebra/company-information/legal.html">Legal</a> | <a href="https://www.zebra.com/us/en/about-zebra/company-information/compliance/information-privacy/terms-of-use.html">Terms of Use</a> | <a href="https://www.zebra.com/us/en/about-zebra/company-information/legal/privacy-statement.html">Privacy Policy</a> 
                    </div>
                     <!--
                     <div class="col-sm-2">
                        <ul class="social-icons">
                            <li><a href="http://www.facebook.com/pages/Zebra-Technologies/107703715989073"><i class="fa fa-facebook"></i></a></li>
                            <li><a href="https://twitter.com/ZebraDevs"><i class="fa fa-twitter"></i></a></li>
                            <li><a href="http://www.youtube.com/zebratechnologies/"><i class="fa fa-youtube"></i></a></li>
                            <li><a href="https://www.linkedin.com/groups?home=&gid=3220074&trk=anet_ug_hm&goback=%2Egmr_3220074"><i class="fa fa-linkedin"></i></a></li>
                            <li><a href="https://github.com/developer-zebra"><i class="fa fa-github"></i></a></li>
                        </ul>
                    </div> -->
                 </div>
            </div>
        </footer>
    
    <!--/#footer 
        10/25/18 removed <footer id="footer" class="navbar-fixed-bottom">
    -->
    <script src="/js/bootstrap.min.js"></script>
    <script src="/js/owl.carousel.min.js"></script>
    <script src="/js/mousescroll.js"></script>
    <script src="/js/smoothscroll.js"></script>
    <script src="/js/jquery.prettyPhoto.js"></script>
    <script src="/js/jquery.isotope.min.js"></script>
    <script src="/js/jquery.inview.min.js"></script>
    <script src="/js/wow.min.js"></script>
    <script src="/js/bootstrap-treenav.min.js"></script>
    <script src="/js/prettify.js"></script>
    <script src="/js/zepto.js"></script>
    <script src="/js/jquery.waterfall.js"></script>   
    <script src="/js/main.js"></script>

<script type="text/javascript">
  (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
  (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
  e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
  })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

  _st('install','zRzEsAUhWTTkrdEN2YfA','2.0.0');
</script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-72584442-1', 'auto');
  ga('send', 'pageview');

</script> 

<script>
    ChatraID = 'QDvZ76min4DhLW5vJ';
    (function(d, w, c) {
        var n = d.getElementsByTagName('script')[0],
            s = d.createElement('script');
        w[c] = w[c] || function() {
            (w[c].q = w[c].q || []).push(arguments);
        };
        s.async = true;
        s.src = (d.location.protocol === 'https:' ? 'https:': 'http:')
            + '//call.chatra.io/chatra.js';
        n.parentNode.insertBefore(s, n);
    })(document, window, 'Chatra');
</script>         


</body></html>