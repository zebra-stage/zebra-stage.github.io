
<!DOCTYPE html>
<html lang="en"><head>

    <meta charset="utf-8">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="-1">
    <meta http-equiv="CACHE-CONTROL" content="NO-CACHE">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Online Documentation for Zebra Technologies developer tools and utilties, including EMDK for Android, EMDK for Xamarin, StageNow and Enterprise Browser.">
    <meta name="author" content="Zebra Technologies">
    <meta name="google-site-verification" content="i4B78BrWnNy8ShJwe5feRW3jO3HE6gfYlYqYbxfl8yY">
    <meta name="msvalidate.01" content="6B651B00161BCE79B8950AC09D5C4C75">
    <meta title="CameraX">
    <title>CameraX - TechDocs</title>
    <!-- core CSS -->
    <link href="/css/bootstrap.min.css" rel="stylesheet">
<!--     
    <link href="/css/font-awesome.min.css" rel="stylesheet">
 -->    
    <link href="/css/all.css" rel="stylesheet">
    <link href="/css/v4-shims.css" rel="stylesheet">
    <link href="/css/animate.min.css" rel="stylesheet">
    <link href="/css/owl.carousel.css" rel="stylesheet">
    <link href="/css/owl.transitions.css" rel="stylesheet">
    <link href="/css/prettyPhoto.css" rel="stylesheet">
    <link href="/css/main.css" rel="stylesheet">
    <link href="/css/responsive.css" rel="stylesheet">
    <link href="/css/prettify.css" rel="stylesheet">
    <link href="/css/bootstrap-treenav.min.css" rel="stylesheet">
    <!--[if lt IE 9]>
    <script src="js/html5shiv.js"></script>
    <script src="js/respond.min.js"></script>
    <![endif]--> 

    <!-- 6/13/24- a "crown" icon randomly appeared in the MX matrix today. Rob said it looked like sumo. 
        <script src="//load.sumome.com/" data-sumo-site-id="699cb66cf4dc59352efb45705526d15cbe314e1cd43f7761b94d96f3cf7338e8" async="async"></script> -->
    <link rel="shortcut icon" href="/favicon.ico">
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-01QJCMQM9N"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-01QJCMQM9N');
</script><script src="/js/jquery.js"></script></head><!--/head-->

<!-- Google tag -->





<body id="home" class="homepage" data-spy="scroll" data-offset="100" data-target="#toc">

    <header id="header">
        <nav id="main-menu" class="navbar navbar-default navbar-fixed-top" role="banner">
            <div class="container-fluid">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="/"><img src="/images/logo.png" alt="logo" style="max-height:66px;float: inherit;
    padding-right: 3px;"></a> 
                    
                   
                </div>
                <div class="collapse navbar-collapse navbar-left">
                    <ul class="nav navbar-nav">
                        <li class="navbar-text pull-left"><strong>TechDocs</strong></li>
                        <p class="navbar-text">
                                            AI Data Capture SDK
                        </p>

                    </ul>
                </div>
                <div class="collapse navbar-collapse navbar-right">
                    <ul class="nav navbar-nav">
                        


                        <li>
                            <a href="/ai-datacapture/3-0/about">
                                    About
                            </a>
                        </li>
                        <li>
                            <a href="/ai-datacapture/3-0/setup">
                                    Setup
                            </a>
                        </li>
                        <li>
                            <a href="/ai-datacapture/3-0/localizer">
                                    Localizer
                            </a>
                        </li>
                        <li>
                            <a href="/ai-datacapture/3-0/productrecognition">
                                    Product Recognition
                            </a>
                        </li>
                        <li>
                            <a href="/ai-datacapture/3-0/barcodedecoder">
                                    Barcode Decoder
                            </a>
                        </li>
                        <li>
                            <a href="/ai-datacapture/3-0/textocr">
                                    Text OCR
                            </a>
                        </li>
                        <li>
                            <a href="/ai-datacapture/3-0/camerax">
                                    CameraX
                            </a>
                        </li>
                        <li>
                            <a href="/ai-datacapture/3-0/search">
                                    <i class="fa fa-search"></i>
                            </a>
                        </li>
                        
                        <!-- <li ><a href="/products">SDKs</a></li>
                        <li ><a href="/samples">Samples</a></li>
                        <li ><a href="/guides">Guides</a></li>
                        <li ><a href="/tutorials">Tutorials</a></li>
                        <li ><a href="/apis">APIs</a></li> -->
                        <!-- <li><a href="#"><input type="text" class="st-default-search-input"></a></li> -->
                    </ul>
                </div>
            </div><!--/.container-->
        </nav><!--/nav-->
    </header><!--/header-->
<div class="container-fluid">
    <section id="blog">
        <div class="">
            <section class="content-with-sidebar">
            <div class="row">
                <div class="col-sm-3 hidden-sm hidden-xs" id="sidebar">
                    
                    
                    <nav id="toc" data-toggle="toc" data-spy="affix" style="height: 75%; max-width: 225px; overflow-y: auto; ">
                        
                        <ul class="nav">
                            <li><strong>CameraX</strong></li>
                        </ul>
                    </nav>
                    <div class="modal fade" id="modal-smartdocs" tabindex="-1" role="dialog" aria-labelledby="basicModal" aria-hidden="true" data-backdrop="true">
                    	<div class="modal-dialog">
                    		<div class="modal-content">
                    			<div class="modal-header">
                    				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">X</button>
                    			</div>
                    			<div class="modal-body">
                    				<form>
                    				  <div class="form-group">
                    				    <label for="exampleInputEmail1">MX Version On Device:</label>
                    				    <select class="form-control">
                    					  <option value="4.0">4.0</option>
                    					  <option value="4.1">4.1</option>
                    					  <option value="4.2">4.2</option>
                    					  <option value="4.3">4.3</option>
                    					  <option value="5.0">5.0</option>
                    					</select>
                    				  </div>						
                    				  <div class="form-group">
                    				    <label for="exampleInputEmail1">OSX Version On Device:</label>
                    				    <select class="form-control">
                    					  <option value="1.0">1.0</option>
                    					  <option value="1.2">1.2</option>
                    					  <option value="1.3.4-56">1.3.4-56</option>
                    					  <option value="3.4">3.4</option>
                    					  <option value="3.5">3.5</option>
                    					  <option value="3.6">3.6</option>
                    					  <option value="4.1">4.1</option>
                    					  <option value="4.2">4.2</option>
                    					  <option value="4.3">4.3</option>
                    					  <option value="4.4">4.4</option>
                    					</select>
                    				  </div>						
                    				  <div class="form-group">
                    				    <label for="exampleInputEmail1">Android Version On Device:</label>
                    				    <select class="form-control">
                    					  <option value="23">6.0 Marshmallow</option>
                    					  <option value="22">5.1 Lollipop</option>
                    					  <option value="21">5.0 Lollipop</option>
                    					  <option value="19">4.4 Kitkat</option>
                    					  <option value="18">4.3 Jellybean</option>
                    					  <option value="17">4.2.x Jellybean</option>
                    					  <option value="16">4.1.x Jellybean</option>
                    					  <option value="15">4.0.3-4.0.4 Ice Cream Sandwich</option>
                    					  <option value="14">4.0-4.0.2 Ice Cream Sandwich</option>
                    					  <option value="10">2.3.3-2.3.4 Gingerbread</option>
                    					</select>
                    				  </div>
                    				  <div class="form-group">
                    				  	<button class="primary" id="btn_SaveSmartDocOptions">Save Changes</button><button class="primary" id="btn_ClearSmartDocOptions">Clear Changes</button>
                    				  </div>
                    				</form>
                    			</div>
                    	</div>
                      </div>
                    </div>
                    
                    <script type="text/javascript">
                        $(document).ready(function() {
                        	$( "#btn_SaveSmartDocOptions" ).click(function() {
                      			console.log('Saving Options');
                      			$("#modal-smartdocs").modal({show: false});
                    		});
                        	$( "#btn_SaveSmartDocOptions" ).click(function() {
                      			console.log('Clearing Options');
                      			$("#modal-smartdocs").modal({show: false});
                    		});
                        });
                    </script><link rel="stylesheet" href="https://cdn.rawgit.com/afeld/bootstrap-toc/v0.3.0/dist/bootstrap-toc.min.css">
                    <script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v0.3.0/dist/bootstrap-toc.min.js"></script>
                    <script type="text/javascript">
                        $(document).ready(function() {
                    
                        });
                    
                    
                    </script>
                </div>                
                <div class="col-sm-9 ">
                    <div class="row">
                        <div class="col-sm-12">
                            <section id="cta" class="wow fadeIn">
                                <div class="">
                                    <h1 id="camerax" class="anchor"><a class="heading-anchor" href="#camerax"><span></span></a>CameraX</h1>
                                    <p>
                                            AI Data Capture SDK
                                    </p>
                                </div>
                            </section>                    
                        </div>
                    </div>
                    <div id="mainContent" class="row">
                        <div class="col-sm-12">
                            <div class="blog-post blog-large wow fadeInLeft" data-wow-duration="300ms" data-wow-delay="0ms">
                            <!-- Start of guide -->
                                <div class="service-box wow fadeInRight">
                                    <div class="">

                                        <p></p><h2 id="overview" class="anchor"><a class="heading-anchor" href="#overview"><span></span></a>Overview</h2>

<p><a href="https://developer.android.com/media/camera/camerax">CameraX</a> is a Jetpack support library for Android that simplifies camera app development by providing a consistent, easy-to-use API across various Android devices. It offers backward compatibility, facilitates smoother camera operations, and integrates seamlessly with existing camera APIs. CameraX enhances the developer experience with features such as automatic lifecycle management and easy access to use cases such as preview, image capture, and image analysis. </p>

<p>AI Data Capture SDK supports integration with CameraX-based applications by providing: </p>

<ul>
<li><strong>EntityTrackerAnalyzer –</strong> A CameraX <code>ImageAnalysis.Analyzer</code> that detects, decodes and tracks <code>Entities</code>.</li>

<li><strong>Detectors for BarcodeDecoder and TextOCR –</strong> Developers can utilize these detectors to create custom Analyzers.</li>

<li><strong>EntityViewfinder –</strong> An integrated viewfinder designed to work alongside <code>EntityTrackerAnalyzer</code>. </li>
</ul>

<p>For details on compatibility, refer to the <a href="https://developer.android.com/media/camera/camerax/architecture#requirements">CameraX requirements</a>. </p>

<hr>

<h2 id="entitytrackeranalyzer" class="anchor"><a class="heading-anchor" href="#entitytrackeranalyzer"><span></span></a>EntityTrackerAnalyzer</h2>

<p><code>EntityTrackerAnalyzer</code> implements the <code>ImageAnalysis.Analyzer</code> interface for real-time detection and tracking of <a href="../entity/">entities</a>. It integrates seamlessly with CameraX, processing image frames using a list of detectors to deliver aggregated entity tracking results. The analyzer efficiently manages image buffers and executes detectors asynchronously, ensuring optimal performance. It also handles coordinate system transformations based on the coordinate system value passed to the constructor. </p>

<p>Currently, <a href="../barcodedecoder/">BarcodeDecoder</a> is supported as a detector in <code>EntityTrackerAnalyzer</code>, which uses the <strong>barcode-localizer</strong> model. For more information and to download the model, refer to <a href="../model/barcode-localizer/">Barcode Localizer Model</a>.</p>

<p><strong>Use Cases:</strong></p>

<ol>
<li><strong>Real-Time Entity Tracking -</strong> Develop applications that require real-time entity tracking using camera feeds.</li>

<li><strong>Augmented Reality Experiences -</strong> Leverage entity tracking for dynamic augmented reality (AR) experiences that respond to entity movements and interactions.</li>

<li><strong>Security and Surveillance Systems -</strong> Integrate into security systems that monitor and track entities in real-time.</li>
</ol>

<p><strong>Notes:</strong></p>

<ul>
<li><strong>Extensibility -</strong> The analyzer is designed to be extended with additional detectors and consumer logic. However, <em>currently only <a href="../barcodedecoder/">BarcodeDecoder</a> is supported as a detector.</em> Only a single instance of each detector type should be passed in to the constructor.</li>

<li><strong>Lifecycle handling -</strong> Developers are responsible for managing the session throughout the Android application lifecycle. The application must manage the session, since <code>EntityTrackerAnalyzer</code> does not handle this internally.   </li>

<li><strong>Threading -</strong> The processing of image frames is efficiently managed using threads within the <code>EntityTrackerAnalyzer</code>.</li>
</ul>

<hr>

<h3 id="developerguide" class="anchor"><a class="heading-anchor" href="#developerguide"><span></span></a>Developer Guide</h3>

<p>This section provides a step-by-step guide to setting up a barcode detection system using the <a href="../barcodedecoder/">Barcode Decoder</a> and <a href="#entitytrackeranalyzer">EntityTrackerAnalyzer</a>. </p>

<ol>
<li><p><strong>Initialize AI Data Capture SDK -</strong> Initialize the AI Data Capture SDK to enable Zebra-specific features in the application. This initialization should be performed in <code>MainActivity</code>. <em>Ensure this initialization step is completed before making any other calls to the AI Data Capture SDK.</em> If the initialization fails, it indicates a critical problem, and the application should not proceed further.</p>

<pre class="prettyprint">try {
    aiVisionSDK = AIVisionSDK.getInstance(application)
    if (aiVisionSDK!!.init()) {
        // Initialize Barcode Decoder with default settings
        initializeBarcodeDecoder()
    } else {
        Log.e(TAG, "SDK initialization failed")
    }
}   
catch (e: Exception) {
    Log.e(TAG, "SDK initialization exception: ${e.message}", e)
}
</pre></li>

<li><p><strong>Initialize Barcode Decoder -</strong> Configure the barcode decoder settings and obtain an instance:</p>

<pre class="prettyprint">try {
    val barcodeSettings = BarcodeDecoder.Settings("barcode-localizer")
    BarcodeDecoder.getBarcodeDecoder(barcodeSettings, cameraExecutor)
        .thenAccept { decoderInstance -&gt;
            barcodeDecoder = decoderInstance
        }
        .exceptionally { ex -&gt;
            Log.e(TAG, "BarcodeDecoder initialization failed : ${ex.message}", ex)
            null
        }
} 

catch (e: Exception) {
    e.printStackTrace()
}
</pre></li>

<li><p><strong>Create <code>EntityTrackerAnalyzer</code> -</strong> This is used for processing image frames.</p>

<pre class="prettyprint">entityTrackerAnalyzer = EntityTrackerAnalyzer(listOf(barcodeDecoder), ImageAnalysis.COORDINATE_SYSTEM_VIEW_REFERENCED, entityExecutor) 
{ result -&gt; 
    // User Logic 
    result.getValue(barcodeDecoder)?.forEach {entity -&gt; 
        if (entity is BarcodeEntity) { 
            Log.d(TAG, "Detected barcode: ${entity.value} with id: ${entity.hashCode()} at ${entity.boundingBox}")
        } 
    }  
} 
</pre></li>

<li><p><strong>Set <code>EntityTrackerAnalyzer</code> as the <code>ImageAnalysis.Analyzer</code>:</strong></p>

<pre class="prettyprint">// EntityTrackerAnalyzer Usecase 
val resolutionSelector = ResolutionSelector.Builder() 
    .setAspectRatioStrategy( 
        AspectRatioStrategy( 
            AspectRatio.RATIO_16_9, 
            AspectRatioStrategy.FALLBACK_RULE_NONE 
        ) 
    ) 
    .setResolutionStrategy( 
        ResolutionStrategy( 
            Size(1920, 1080), 
            ResolutionStrategy.FALLBACK_RULE_CLOSEST_HIGHER_THEN_LOWER 
        ) 
    ) 
    .build() 

// Image analysis use case 
imageAnalysis = ImageAnalysis.Builder() 
    .setResolutionSelector(resolutionSelector) 
    .setBackpressureStrategy(ImageAnalysis.STRATEGY_KEEP_ONLY_LATEST) 
    .build() 

// Set the analyzer 
imageAnalysis?.setAnalyzer( 
    cameraExecutor, 
    entityTrackerAnalyzer as ImageAnalysis.Analyzer 
) 
</pre></li>

<li><p><strong>Configure the Camera Lifecycle -</strong> Integrate CameraX with the activity’s lifecycle.</p>

<pre class="prettyprint">val cameraProviderFuture = ProcessCameraProvider.getInstance(application) 
cameraProviderFuture.addListener({ 
    try { 
        cameraProvider = cameraProviderFuture.get() 
    } 
    catch (e: Exception) { 
        Log.e(TAG, "Camera initialization failed", e) 
    } 
}, ContextCompat.getMainExecutor(application)). 

// Initialize Preview use case 
preview = Preview.Builder() 
    .build() 

// Connect the preview to the PreviewView 
preview?.surfaceProvider = previewView.surfaceProvider;

// Update EntityTrackerAnalyzer transform when PreviewView is ready 
previewView.previewStreamState.observe(lifecycleOwner) { streamState -&gt; 
    if (streamState == PreviewView.StreamState.STREAMING) { 
        entityTrackerAnalyzer?.updateTransform(previewView.sensorToViewTransform) 
    } 
} 

// Bind use cases to camera 
provider.bindToLifecycle( 
    lifecycleOwner, 
    CameraSelector.DEFAULT_BACK_CAMERA, 
    preview, 
    imageAnalysis 
) 
</pre></li>

<li><p><strong>Resource Cleanup After Usage -</strong> Properly dispose of resources after use to prevent memory leaks and ensure that all resources are released after use:</p>

<pre class="prettyprint">protected void dispose() {
    // Shutdown executors to release threads
    if (decorderExecutor!= null &amp;&amp; ! decoderExecutor) {
        decorderExecutor.shutdown();
        decorderExecutor = null;
    }

<pre><code>if (resultsExecutor != null &amp;&amp; !resultsExecutor.isShutdown()) {
    resultsExecutor.shutdown();
    ResultsExecutor = null;
}

// Close any clients or scanners to free up resources
if (barcodeDecoder != null) {
    barcodeDecoder.dispose();
    barcodeDecoder = null;
}
</code></pre>

}
</pre></li>
</ol>

<hr>

<h3 id="methods" class="anchor"><a class="heading-anchor" href="#methods"><span></span></a>Methods</h3>

<h4 id="constructorpublicentitytrackeranalyzer" class="anchor"><a class="heading-anchor" href="#constructorpublicentitytrackeranalyzer"><span></span></a>Constructor: public EntityTrackerAnalyzer()</h4>

<pre class="prettyprint"><code>    public EntityTrackerAnalyzer(
            @NonNull List&lt;Detector&lt;? extends List&lt;? extends Entity&gt;&gt;&gt; detectors,
            int targetCoordinateSystem,
            @NonNull Executor executor,
            @NonNull Consumer&lt;EntityTrackerAnalyzer.Result&gt; consumer
    )
</code></pre>

<p>Constructs an <code>EntityTrackerAnalyzer</code> using specified entity detectors, target coordinate system, an executor, and an <a href="../entity/">Entity</a> consumer. It initializes components for entity tracking, including a buffer manager and an entity tracker, using specified detectors. The analyzer configures entity processing and sets the coordinate system for analysis. The executor is used to execute the consumer. </p>

<p>Currently, only <a href="../barcodedecoder/">BarcodeDecoder</a> is supported as a detector. Only one instance of BarcodeDecoder detector is accepted. Providing multiple detectors of the same type results in undefined behavior.</p>

<p>The <code>EntityTrackerAnalyzer</code> calculates the output bounding box coordinates based on the <code>targetCoordinateSystem</code> set by the user:</p>

<ul>
<li><code>COORDINATE_SYSTEM_ORIGINAL</code> - Bounding boxes are delivered in the Analyzer's coordinate system.</li>

<li><code>COORDINATE_SYSTEM_SENSOR</code> (default) - Bounding boxes are delivered in the Sensor's coordinate system.</li>

<li><code>COORDINATE_SYSTEM_VIEW_REFERENCE</code> - Bounding boxes are delivered in the PreviewView coordinate system. </li>
</ul>

<p>During transformations, the Analyzer manages image rotation. All transformations then take the image rotations from the <code>ImageInfo.getRotationDegrees().ImageAnalysis.Analyzer</code> interface. </p>

<!-- 
**Parameters:**
- **Detectors -** A list of entity detectors to be utilized for detection and tracking.
- **TargetCoordinateSystem -** The coordinate system used for image analysis: `COORDINATE_SYSTEM_ORIGINAL`, `COORDINATE_SYSTEM_SENSOR` or `COORDINATE_SYSTEM_VIEW_REFERENCED`; see Android Developers [ImageAnalysis API reference](https://developer.android.com/reference/androidx/camera/core/ImageAnalysis).
- **executor -** The executor responsible for executing the consumer.
- **consumer -** A consumer function to handle the processing of detected entities.
-->

<h4 id="analyzeimageproxyimage" class="anchor"><a class="heading-anchor" href="#analyzeimageproxyimage"><span></span></a>analyze(ImageProxy image)</h4>

<pre class="prettyprint"><code>    public void analyze(@NonNull ImageProxy image) 
</code></pre>

<p>Analyzes the image with the Detectors. This method delivers the image to the detector. Typically, this method is called by ImageAnalysis when a new frame becomes available. </p>

<p><strong>Parameters:</strong></p>

<ul>
<li><strong>image -</strong> An <code>ImageProxy</code> object representing the image to be analyzed. </li>
</ul>

<h4 id="getdefaulttargetresolution" class="anchor"><a class="heading-anchor" href="#getdefaulttargetresolution"><span></span></a>getDefaultTargetResolution()</h4>

<pre class="prettyprint"><code>    public Size getDefaultTargetResolution() 
</code></pre>

<p>Returns the default target resolution for image analysis in the <code>EntityTrackerAnalyzer</code>. </p>

<p><strong>Return Value:</strong> A Size object representing the default resolution for target images. </p>

<h4 id="gettargetcoordinatesystem" class="anchor"><a class="heading-anchor" href="#gettargetcoordinatesystem"><span></span></a>getTargetCoordinateSystem</h4>

<pre class="prettyprint"><code>    public int getTargetCoordinateSystem() 
</code></pre>

<p>Returns the current coordinate system used inside the Analyzer. This is passed to the analyzer when it is created via the constructor.     </p>

<p><strong>Returns:</strong> An integer representing the coordinate system type. </p>

<h4 id="updatetransformmatrixmatrix" class="anchor"><a class="heading-anchor" href="#updatetransformmatrixmatrix"><span></span></a>updateTransform(Matrix matrix)</h4>

<pre class="prettyprint"><code>    public final void updateTransform(@Nullable Matrix matrix) 
</code></pre>

<p>Receive a transformation matrix, which converts coordinates from the camera sensor’s system to the target system which was passed  as targetCoordinateSystem in the constructor.  </p>

<p><strong>Parameters:</strong></p>

<ul>
<li><strong>matrix -</strong> A Matrix object for transformation adjustments. </li>
</ul>

<h4 id="setcroprectrectfcroprect" class="anchor"><a class="heading-anchor" href="#setcroprectrectfcroprect"><span></span></a>setCropRect(RectF cropRect)</h4>

<pre class="prettyprint"><code>    public void setCropRect(RectF cropRect) 
</code></pre>

<p>Sets the crop rectangle. The crop rectangle specifies the region of the image that the analyzer process for entities.</p>

<p><strong>Parameters:</strong></p>

<ul>
<li><strong>cropRect -</strong> A <code>RectF</code> object with crop rectangle. </li>
</ul>

<!--
---

### ImageAnalysis.Analyzer Interface

#### void analyze(ImageProxy image)

        public void analyze(@NonNull ImageProxy image)

Analyzes the image with the Detectors. This method forwards the image to the detectors. Typically, this method is called by ImageAnalysis when a new frame becomes available:

        void camerax.EntityTrackerAnalyzer.analyze(ImageProxy image)    

**Parameters:**
- **image -** An `ImageProxy` object representing the image to be analyzed.

<br />

#### GetDefaultTargetResolution()

        public Size getDefaultTargetResolution()

Returns the default target resolution for image analysis in the `EntityTrackerAnalyzer`.

**Return Value:**
A Size object representing the default resolution for target images.

<br />

#### getTargetCoordinateSystem()

        public int getTargetCoordinateSystem()

Returns the current coordinate system used inside the Analyzer. This is passed to the analyzer when it is created via the constructor.    

**Returns:**
An integer representing the coordinate system type.

<br />

#### final void    updateTransform()

        final EntityTrackerAnalyzer.updateTransform()    

This method should be implemented to receive a transformation matrix that converts coordinates from the camera sensor’s system to the target system defined in `getTargetCoordinateSystem()`. It is used for transforming detected coordinates, such as those of a detected face. If the matrix is `null`, it indicates no valid transformation is available. This can occur if the target system is set to `COORDINATE_SYSTEM_ORIGINAL` or if the target system is unavailable, such as when the viewfinder is not visible. The method is invoked whenever a new transformation is ready, for example, when the viewfinder is launched or resized.

**Returns:**
A `Matrix` object for transformation adjustments.

<br />

#### updateTransform()

        public final void updateTransform(@Nullable Matrix matrix)

Receives a transformation matrix that converts coordinates from the camera sensor’s system to the target system, which was passed as `targetCoordinateSystem` in the constructor. 

**Parameters:**
- **matrix -** A `Matrix` object for transformation adjustments.

<br />

#### setCropRect(RectF cropRect)

        public void setCropRect(RectF cropRect)

Sets the crop rectangle, which specifies the region of the image that the analyzer process for entities. It should be specified in `COORDINATE_SYSTEM_SENSOR` from `ImageAnalysis`.

Parameters:
- **cropRect -** A `RectF` object with crop rectangle.
-->

<hr>

<h3 id="entitytrackeranalyzerresult" class="anchor"><a class="heading-anchor" href="#entitytrackeranalyzerresult"><span></span></a>EntityTrackerAnalyzer.Result</h3>

<pre class="prettyprint"><code>    public static final class EntityTrackerAnalyzer.Result 
</code></pre>

<p>The <code>Result</code> class is a static nested class within <code>EntityTrackerAnalyzer</code> that encapsulates the output of entity detection and tracking operations. It serves as a container for detected entities, error information, and timing metadata from the analysis process. </p>

<p><strong>Sample Code:</strong></p>

<pre class="prettyprint">Result result = // obtained from EntityTrackerAnalyzer 
for (Detector detector : detectors) { 
    List<!--? extends Entity--> entities = result.getValue(detector); 
    if (entities != null) { 
        // Process detected entities 
        for (Entity entity : entities) { 
            // Handle individual entity 
        } 
    } 

Throwable error = result.getThrowable(detector); 
    if (error != null) { 
        // Handle detection error 
    } 
} 
</pre>

<p><strong>Error Handling:</strong></p>

<pre class="prettyprint">Result result = // obtained from EntityTrackerAnalyzer 
if (result.getThrowable(barcodeDetector) != null) { 
    Log.e(TAG, "Barcode detection failed", result.getThrowable(barcodeDetector)); 
} 
</pre>

<h4 id="methods-1" class="anchor"><a class="heading-anchor" href="#methods-1"><span></span></a>Methods</h4>

<h5 id="constructor-NaN" class="anchor"><a class="heading-anchor" href="#constructor-NaN"><span></span></a>Constructor</h5>

<pre class="prettyprint"><code>    public Result(@NonNull Map&lt;Detector&lt;? extends List&lt;? extends Entity&gt;&gt;, List&lt;? extends Entity&gt;&gt; values, long timestamp, @NonNull Map&lt;Detector&lt;? extends List&lt;? extends Entity&gt;&gt;, Throwable&gt; throwables) 
</code></pre>

<p><strong>Parameters:</strong></p>

<ul>
<li><strong>values -</strong> Map of detectors to their detected entities.</li>

<li><strong>timestamp -</strong> Time when the result was generated.</li>

<li><strong>throwables -</strong> Map of detectors to any errors that occurred.</li>
</ul>

<h5 id="getvaluedetectorltextendslistltextendsentitygtgtdetector" class="anchor"><a class="heading-anchor" href="#getvaluedetectorltextendslistltextendsentitygtgtdetector"><span></span></a>getValue(Detector&lt;? extends List&lt;? extends Entity&gt;&gt; detector)</h5>

<pre class="prettyprint"><code>    @Nullable 
    public List&lt;? extends Entity&gt; getValue(@NonNull Detector&lt;? extends List&lt;? extends Entity&gt;&gt; detector) 
</code></pre>

<p>Retrieves the list of entities detected by a specific detector </p>

<p><strong>Parameters:</strong> </p>

<ul>
<li><strong>detector -</strong> The detector for which the results are to be retrieved.</li>
</ul>

<p><strong>Returns:</strong> 
List of detected entities if results are received, otherwise <code>null</code>. </p>

<h5 id="getthrowabledetectorltextendslistltextendsentitygtgtdetector" class="anchor"><a class="heading-anchor" href="#getthrowabledetectorltextendslistltextendsentitygtgtdetector"><span></span></a>getThrowable(Detector &lt;? extends List &lt;? extends Entity&gt;&gt; detector)</h5>

<pre class="prettyprint"><code>    @Nullable 
    public Throwable getThrowable(@NonNull Detector&lt;? extends List&lt;? extends Entity&gt;&gt; detector) 
</code></pre>

<p>Retrieves any exception that occurred for a specific detector.</p>

<p><strong>Parameters:</strong></p>

<ul>
<li><strong>detector -</strong> The detector used to check for errors.</li>
</ul>

<p><strong>Returns:</strong> 
The exception that occurred if any error occurred, otherwise <code>null</code> if there are no errors.</p>

<h5 id="publiclonggettimestamp" class="anchor"><a class="heading-anchor" href="#publiclonggettimestamp"><span></span></a>public long getTimestamp()</h5>

<pre class="prettyprint"><code>    public long getTimestamp() 
</code></pre>

<p>Retrieves the timestamp when this result was created.</p>

<p><strong>Returns:</strong> 
The timestamp in milliseconds since the epoch.</p>

<h5 id="publicresultcopy" class="anchor"><a class="heading-anchor" href="#publicresultcopy"><span></span></a>public Result copy()</h5>

<pre class="prettyprint"><code>    @NonNull 
    public Result copy() 
</code></pre>

<p>Creates a shallow copy of the Result object </p>

<p><strong>Returns:</strong> 
A new <code>Result</code> instance with copied data.</p>

<ul>
<li><p>Sample Code for <code>Result</code> Iteration:</p>

<pre class="prettify prettyprint"><code>
        Result result = /* obtained from EntityTrackerAnalyzer */

        for (Detector detector : detectors) { 
            List<!--? extends Entity--> entities = result.getValue(detector); 
            if (entities != null) { 
                // Process detected entities 
                for (Entity entity : entities) { 
                    // Handle individual entity 
                } 
            } 

            Throwable error = result.getThrowable(detector); 
            if (error != null) { 
                // Handle detection error 
            } 
        } 
    </code>
</pre></li>
</ul>

<hr>

<h2 id="detectors" class="anchor"><a class="heading-anchor" href="#detectors"><span></span></a>Detectors</h2>

<p>The <code>BarcodeDecoder</code> and <code>TextOCR</code> classes implement a CameraX <code>Detector</code> interface allowing users to use CameraX as the frame source and build custom analyzers to detect and decode barcodes or recognize text in the frame delivered to the analyze() interface: This is particularly useful for applications that require to combining multiple detectors within the CameraX analyzer. </p>

<p>Available detectors:</p>

<ul>
<li><p><a href="../barcodedecoder/">BarcodeDecoder</a> – Processes <code>ImageData</code> and generates a list of <code>BarcodeEntity</code> objects. It uses the <a href="../barcodedecoder/#processimagedataimagedataexecutorexecutor">process()</a> method from <strong>BarcodeDecoder:</strong></p>

<pre class="prettyprint"><code>process (ImageData imageData) 
</code></pre></li>

<li><p><a href="../textocr/">TextOCR</a> - Processes <code>ImageData</code> and generates a list of <code>ParagraphEntity</code> objects. It uses the <a href="../textocr/#processimagedataimagedataexecutorexecutor">process()</a> method from TextOCR:</p>

<pre class="prettyprint"><code>process (ImageData imageData) 
</code></pre></li>
</ul>

<hr>

<h3 id="developerguide-1" class="anchor"><a class="heading-anchor" href="#developerguide-1"><span></span></a>Developer Guide</h3>

<p>Follow the steps below to build a custom CameraX Analyzer using the <strong>BarcodeDecoder's Detector interface:</strong></p>

<h4 id="step1createacustomanalyzer" class="anchor"><a class="heading-anchor" href="#step1createacustomanalyzer"><span></span></a>Step 1: Create a Custom Analyzer</h4>

<ol>
<li><strong>Implement ImageAnalysis.Analyzer -</strong> Implement the <code>ImageAnalysis.Analyzer</code> interface and override the <code>analyze()</code> method.</li>
</ol>

<h4 id="step2setupdecoderandlocalizersettings" class="anchor"><a class="heading-anchor" href="#step2setupdecoderandlocalizersettings"><span></span></a>Step 2: Set Up Decoder and Localizer Settings</h4>

<ol>
<li><strong>Create BarcodeDecoder Settings:</strong> Instantiate a <code>Settings</code> object for the BarcodeDecoder and enable the desired symbologies.</li>

<li><strong>Initialize BarcodeDecoder:</strong> Obtain a BarcodeDecoder instance asynchronously using <code>CompletableFuture</code>.</li>
</ol>

<h4 id="step3processframes" class="anchor"><a class="heading-anchor" href="#step3processframes"><span></span></a>Step 3: Process Frames</h4>

<ol>
<li><strong>Override analyze() -</strong> CameraX continuously feeds frames to the Analyzers bound to it. Override the <code>analyzer()</code> interface for their specific functionalities.</li>

<li><strong>Convert ImageProxy to ImageData -</strong> The <code>process()</code> interface requires <code>ImageData</code>. Use the <code>fromImageProxy()</code> method to convert from <code>ImageProxy</code>.</li>

<li><strong>Call process() -</strong> Invoke the <code>process()</code> method on the <code>ImageData</code> object to initiate barcode detection.</li>

<li><strong>Success Handling -</strong> Upon successful detection, <code>addOnSuccessListener</code> is activated, retrieving the barcode value and symbology type.</li>

<li><strong>Failure Handling -</strong> If detection fails, <code>addOnFailureListener</code> logs the error and closes the image.</li>

<li><strong>Exception Handling -</strong> Handle exceptions such as <code>InvalidInputException</code> and <code>AIVisionSDKException</code> by logging issues during processing and properly closing the image.</li>
</ol>

<p><strong>Sample Code:</strong></p>

<pre class="prettyprint"><code>    //import necessary packages

    public class CompositeAnalyzer implements ImageAnalysis.Analyzer {
        @Override
        public void analyze(@NonNull ImageProxy image) {
            try {
                barcodeDecoder.process(ImageData.fromImageProxy(image)).addOnSuccessListener(result -&gt;{

                    for(Entity&lt;?&gt; bb:result){
                        // Access bounding box and confidence
                        BoundingBox boundingBox = bb.getBoundingBox();
                        float confidence = bb.accuracy();

                        // Type cast Entity to BarcodeEntity for specific operations
                        BarcodeEntity barcodeEntity = (BarcodeEntity) bb;

                        // Access barcode-specific data
                        String barcodeValue = barcodeEntity.getValue();
                        String barcodeType = barcodeEntity.getSymbology();
                    }
                    image.close();
                })

                .addOnFailureListener(e -&gt;{
                    image.close();
                });
            } 
            catch (Exception e) {
                Log.e(TAG, "Analysis failed: " + e.getMessage());
            }
        }
    }
</code></pre>

<hr>

<h2 id="entityviewfinder" class="anchor"><a class="heading-anchor" href="#entityviewfinder"><span></span></a>EntityViewfinder</h2>

<p><code>EntityViewfinder</code> is a built-in viewfinder designed for seamless integration with CameraX as a preview component. It enhances the default PreviewView by offering advanced features, such as rendering and interacting with <a href="../entity/">Entities</a>, making it a suitable choice for developers seeking to deliver a high-performance, intuitive user experience.</p>

<p>This viewfinder is utilized in applications requiring a visual interface for camera operations and entity detection, such as augmented reality applications, barcode scanners, and image recognition systems. It offers user interaction capabilities with camera controls, including zoom levels, flash settings, and draggable viewfinder functionality.</p>

<p><img alt="image" style="height:500px" src="./entity-viewfinder.png"></p>

<p><em>Sample EntityViewfinder Screen</em></p>

<p><strong>Key Features:</strong></p>

<ul>
<li><strong>Entity Rendering -</strong> The viewfinder is optimized to display Entities directly within the camera preview, eliminating the need for additional layers or complex integrations.</li>

<li><strong>Simplified Styling -</strong> Developers can leverage prebuilt StylePens, making it easy to associate visual styles with generated Entities.</li>

<li><strong>Integrated Camera Controls -</strong> The <code>EntityViewfinder</code> includes built-in camera controls such as zoom and flash, minimizing the need for manual implementation of these features.</li>

<li><strong>Adjustable and Movable Viewfinder -</strong> The <code>EntityViewfinder</code> can be expanded to full-screen mode and reverted to its original dimensions using onscreen buttons. Additionlly, users can reposition the viewfinder by dragging it anywhere within the screen boundaries.</li>
</ul>

<p>The EntityViewfinder mainly consists of three parts:</p>

<ul>
<li><strong><a href="#entityview">EntityView</a> -</strong> A visual interface that allows for customization of the viewfinder’s appearance and behavior.</li>

<li><strong><a href="#entityviewcontroller">EntityViewController</a> -</strong> A functional interface that manages and implements the operational features of the viewfinder.</li>

<li><strong><a href="#stylepen">StylePen</a> -</strong> A visual representation of the entities of the <code>EntityViewfinder</code>.</li>
</ul>

<hr>

<h3 id="developerguide-2" class="anchor"><a class="heading-anchor" href="#developerguide-2"><span></span></a>Developer Guide</h3>

<p>This guide illustrates the integration and configuration of <code>EntityViewfinder</code> with a camera system using CameraX in an Android application. It covers setting up a viewfinder for camera preview and rendering entities with customizable styles. The guide also demonstrates how to manage user interactions and dynamically update the viewfinder with detected entities. </p>

<ol>
<li><p><strong>Integrate EntityView in XML Layout -</strong> Define <code>EntityView</code> in your XML layout file, specifying attributes to configure its initial behavior and appearance. </p>

<pre class="prettyprint"><code>//  Integrate EntityView in XML Layout 
&lt;com.zebra.ai.vision.viewfinder.EntityView 
    android:id="@+id/entity_view" 
    android:layout_width="match_parent" 
    android:layout_height="match_parent" 
    app:zoom="x2" 
    app:draggable="false" /&gt; 
</code></pre></li>

<li><p><strong>Initialize EntityView and EntityViewController -</strong> Use <code>findViewById()</code> to obtain a reference to the <code>EntityView</code>, and instantiate an <code>EntityViewController</code> with this <code>EntityView</code> instance and the current context as a lifecycleOwner. The controller manages the viewfinder’s operations and interactions. </p></li>

<li><p><strong>Setup Camera -</strong> Use <code>ProcessCameraProvider</code> to manage the camera lifecycle and <code>CameraSelector</code> to select the back-facing camera. </p></li>

<li><p><strong>Create a Preview Case -</strong> Create a <code>Preview</code> use case and set its surface provider using the <code>EntityViewController</code>. </p></li>

<li><p><strong>Set Up Image Analysis -</strong> Define an <code>ImageAnalysis</code> use case to analyze the camera feed. Set the resolution and necessary configuration and assign an <code>EntityTrackerAnalyzer</code> to process the images. </p></li>

<li><p><strong>Bind Camera to Lifecycle -</strong> Unbind any previous use cases before binding the camera to the lifecycle with the configured preview and image analysis use cases. Set the camera controller in the <code>EntityViewController</code>. </p></li>

<li><p><strong>Register Event Listeners -</strong> Register listeners to handle user interactions, such as entity click events, and to manage dynanmic layout changes, like viewfinder resize events. The resize listener allows users to establish field of view and entity coordinates between the preview and analyzer.  <br></p>

<p>Sample code for steps 2 to 6: </p>

<pre class="prettyprint"><code>// Initialize EntityView 
EntityView entityView = findViewById(R.id.entity_view); 

// Initialize the EntityViewController 
EntityViewController entityViewController = new EntityViewController(entityView, this); 

// Setup Camera 
ProcessCameraProvider cameraProvider = ProcessCameraProvider.getInstance(this).get(); 
CameraSelector cameraSelector = new CameraSelector.Builder() 
    .requireLensFacing(CameraSelector.LENS_FACING_BACK) 
    .build(); 

// Setup a Preview usecase 
Preview preview = new Preview.Builder().build(); 

// Set SurfaceProvider to preview usecase by retrieving it from the entityViewController 
preview.setSurfaceProvider(entityViewController.getSurfaceProvider()); 

// Set up image analysis use case 
ImageAnalysis imageAnalysis = new ImageAnalysis.Builder().setBackpressureStrategy(ImageAnalysis.STRATEGY_KEEP_ONLY_LATEST).build(); 
imageAnalysis.setAnalyzer(cameraExecutor, entityTrackerAnalyzer); 

// Unbind previous use cases before rebinding 
cameraProvider.unbindAll(); 

// Bind camera to lifecycle and get session camera instance 
camera = cameraProvider.bindToLifecycle(this, cameraSelector, preview, imageAnalysis); 

// Configure entity view controller with camera
entityViewController.setCameraController(camera); 

// Register listener for entity click events 
entityViewController.registerEntityClickListener(entity -&gt; { 
    // Handle entity click events 
}); 

// Register Listener for Viewfinder Resize Events 
entityViewController.registerViewfinderResizeListener(specs -&gt; { 
    // Handle viewfinder size changes 
}); 
</code></pre></li>

<li><p><strong>Initialize StylePens for Entity Visualization -</strong> Create various <code>StylePen</code> instances for visualizing different entities as required. Configure these pens with desired styles, such as stroke width and icon type. </p>

<pre class="prettyprint"><code>// Initialize various style pens as per the use case 

private void initializeStylePens() { 
    StylePen qrCodeBoundingBoxPen = BoundingBoxDrawPen.builder() 
        .setStroke(8f, Color.BLUE) 
        .build(); 

<pre><code>StylePen upcaIconPen = IconDrawPen.builder() 
    .setIconStyle(IconStyle.SUCCESSFUL_DECODE) 
    .setClickable(true) 
    .build(); 
</code></pre>

} 
</code></pre></li>

<li><p><strong>Apply StylePens and Render Entities -</strong> In the analyzer results consumer method, clear previous entities and retrieve detected entities. Apply the appropriate <code>StylePen</code> to each entity based on your application use case and add them to the <code>EntityViewController</code>. Finally, render all entities on the viewfinder at once for optimized performance. </p></li>
</ol>

<pre class="prettyprint">    <code>
    // Analyzer results consumer method
    private void handleEntities(EntityTrackerAnalyzer.Result result) { 

        // Clear previous entities 
        entityViewController.removeAll(); 

        // Get detected entities 
        List&lt;? extends Entity&gt; entities = result.getValue(barcodeDecoder); 

        if (entities != null) { 
            Log.i(TAG, "Handle entities: " + entities.size()); 
            // Process each entity 
            for (Entity entity : entities) { 
                if (!(entity instanceof BarcodeEntity)) { 
                    continue; 
                } 

                BarcodeEntity barcodeEntity = (BarcodeEntity) entity;       

                int symbology = barcodeEntity.getSymbology(); 

                // QR Code symbology 
                if (isQRCodeSymbology(symbology)) { 
                    // Associate style pen initialized for QR codes 
                    entityViewController.add(barcodeEntity, qrCodeBoundingBoxPen); 
                } 

                // UPCA symbology 
                if (isUPCASymbology(symbology)) { 
                    // Associate style pen initialized for UPCA barcodes 
                    entityViewController.add(barcodeEntity, upcaIconPen); 
                }             
            } 
        } 

        // Render all entities at once 
        entityViewController.render(); 
    } 
    </code>
</pre>

<p><img alt="image" style="height:1000px" src="./entity-viewfinder-steps.png"></p>

<p><em>Workflow for integrating EntityViewfinder with EntityTrackerAnalyzer</em></p>

<hr>

<h3 id="entityview" class="anchor"><a class="heading-anchor" href="#entityview"><span></span></a>EntityView</h3>

<p>The <code>EntityView</code> is a custom view designed to render the visual interface of a viewfinder. It is the UI representation of the <code>EntityViewfinder</code>, displaying the camera preview along with interactive controls. It includes camera controls such as zoom and flash, as well as viewfinder-related features like a full-screen toggle button and a reset position button, providing essential functionality for managing the viewfinder and camera operations. </p>

<p>This view is meant to be integrated into your XML layout file to define the display area for the viewfinder interface. The <code>EntityView</code> should be used in conjunction with the <code>EntityViewController</code> to ensure proper operational management and seamless integration within your application.  </p>

<p>Currently the programmatic instantiation of the viewfinder is not supported. It is recommended to integrate it in the application using XML-based UI layouts. </p>

<h4 id="configurations" class="anchor"><a class="heading-anchor" href="#configurations"><span></span></a>Configurations</h4>

<h5 id="zoomlevel" class="anchor"><a class="heading-anchor" href="#zoomlevel"><span></span></a>Zoom Level</h5>

<p>The <strong>zoom</strong> attribute sets the default zoom level for the viewfinder. It supports the following enum values: </p>

<table class="facelift" style="width:50%" border="1" padding="5px">
  <thead>
    <tr bgcolor="#dce8ef">
      <th>Attribute</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>zoom="x1"</code></td>
      <td>Sets the zoom level to 1x (default level).</td>
    </tr>
    <tr>
      <td><code>zoom="x2"</code></td>
      <td>Sets the zoom level to 2x.</td>
    </tr>
    <tr>
      <td><code>zoom="x4"</code></td>
      <td>Sets the zoom level to 4x.</td>
    </tr>
    <tr>
      <td><code>zoom="x8"</code></td>
      <td>Sets the zoom level to 8x.</td>
    </tr>
  </tbody>
</table>

<h5 id="flashstate" class="anchor"><a class="heading-anchor" href="#flashstate"><span></span></a>Flash State</h5>

<p>The <strong>flash</strong> attribute specifies whether the flash is enabled or disabled by default. </p>

<table class="facelift" style="width:50%" border="1" padding="5px">
  <thead>
    <tr bgcolor="#dce8ef">
      <th>Attribute</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>flash="true"</code></td>
      <td>Flash is enabled.</td>
    </tr>
    <tr>
      <td><code>flash="false"</code></td>
      <td>Flash is disabled (default).</td>
    </tr>
  </tbody>
</table>

<h5 id="visibilityofbuttons" class="anchor"><a class="heading-anchor" href="#visibilityofbuttons"><span></span></a>Visibility of Buttons</h5>

<p>These attributes allows controls the visibility of specific UI buttons on the viewfinder. </p>

<table class="facelift" style="width:80%" border="1" padding="5px">
  <thead>
    <tr bgcolor="#dce8ef">
      <th>Attribute</th>
      <th>Description</th>
      <th>Value</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>hide_reset_position_button</code></td>
      <td>Shows or hides the reset position button.</td>
      <td><code>true</code> or <code>false</code></td>
      <td><code>false</code></td>
    </tr>
    <tr>
      <td><code>hide_flash_button</code></td>
      <td>Shows or hides the flash button.</td>
      <td><code>true</code> or <code>false</code></td>
      <td><code>false</code></td>
    </tr>
    <tr>
      <td><code>hide_zoom_button</code></td>
      <td>Shows or hides the zoom button.</td>
      <td><code>true</code> or <code>false</code></td>
      <td><code>false</code></td>
    </tr>
    <tr>
      <td><code>hide_resize_button</code></td>
      <td>Shows or hides the resize button.</td>
      <td><code>true</code> or <code>false</code></td>
      <td><code>false</code></td>
    </tr>
  </tbody>
</table>

<h5 id="draggableviewfinder" class="anchor"><a class="heading-anchor" href="#draggableviewfinder"><span></span></a>Draggable Viewfinder</h5>

<p>The <strong>draggable</strong> attribute determines whether the viewfinder can be dragged or repositioned by the user.</p>

<table class="facelift" style="width:80%" border="1" padding="5px">
  <thead>
    <tr bgcolor="#dce8ef">
      <th>Attribute</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>draggable="true"</code></td>
      <td>Enables dragging functionality.</td>
    </tr>
    <tr>
      <td><code>draggable="false"</code></td>
      <td>Disables dragging functionality (default).<br> <strong>Note:</strong> This automatically hides the reset position button and resize button by default.</td>
    </tr>
  </tbody>
</table>

<h5 id="viewfindersize" class="anchor"><a class="heading-anchor" href="#viewfindersize"><span></span></a>Viewfinder Size</h5>

<p>The Viewfinder is designed to integrate seamlessly into Android applications, delivering consistent and reliable performance across supported devices. This widget adheres to specific minimum size constraints to ensure optimal functionality and display fidelity. Developers can integrate the Viewfinder into their layouts using standard Android XML attributes.</p>

<p><strong>Examples:</strong></p>

<ul>
<li><p>Match Parent:</p>

<pre class="prettyprint"><code>&lt;com.zebra.ai.vision.viewfinder.EntityView
    android:id="@+id/entity_view"
    android:layout_width="match_parent"
    android:layout_height="match_parent" /&gt;
</code></pre></li>

<li><p>Using Constraint Percentage (%):</p>

<pre class="prettyprint"><code>&lt;com.zebra.ai.vision.viewfinder.EntityView
    android:id="@+id/entity_view"
    app:layout_constraintWidth_percent="1.0"
    app:layout_constraintHeight_percent="0.5"
    app:layout_constraintStart_toStartOf="parent"
    app:layout_constraintEnd_toEndOf="parent"
    app:layout_constraintTop_toBottomOf="@id/otherWidget" /&gt;
</code></pre></li>

<li><p>Fixed Dimensions:</p>

<pre class="prettyprint"><code>&lt;com.zebra.ai.vision.viewfinder.EntityView
    android:id="@+id/entity_view"
    android:layout_width="600dp"
    android:layout_height="400dp" /&gt;
</code></pre>

<ul>
<li><strong>Note:</strong> The Viewfinder cannot be resized smaller than the specified dimensions due to enforced minimum size constraints based on the device model. If the layout specifies a size below the minimum, the Viewfinder  automatically defaults to its minimum size.</li></ul></li>
</ul>

<table class="facelift" style="width:80%" border="1" padding="5px">
  <thead>
    <tr bgcolor="#dce8ef">
      <th>Device Model</th>
      <th>Minimum Viewfinder Size (Width x Height in Pixels)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>EM45</td>
      <td>1052 x 542</td>
    </tr>
    <tr>
      <td>TC53/TC58, TC73/TC78, TC53e/TC58e, TC22/TC27, HC50</td>
      <td>1076 x 554</td>
    </tr>
    <tr>
      <td>ET6X, L10ax, ET5X 10-inch, ET4X 10-inch</td>
      <td>600 x 309</td>
    </tr>
  </tbody>
</table>

<!-- 
---

#### Methods

##### EntityView(Context context) 

        EntityView(Context context) throws AIVisionSDKException

Constructor that creates a new EntityView with the given context. 

**Parameters:** 
- **context -** The activity context. 

**Exceptions:**
- **AIVisionSDKException -** Thrown if the context is null. 

##### EntityView(Context context, AttributeSet attrs) 

        EntityView(Context context, AttributeSet attrs) throws AIVisionSDKException

Constructor that initializes the view with XML attributes. 

**Parameters:**
- **context -** The activity context.  
- **attrs -** The XML attributes for configuration. 

**Exceptions:**
- **AIVisionSDKException -** Thrown if the context is null. 

##### EntityView(Context context, AttributeSet attrs, int defStyleAttr) 

        EntityView(Context context, AttributeSet attrs, int defStyleAttr) 

Constructor that initializes the view with XML attributes and a default style. 

**Parameters:**
- **context -** The activity context.  
- **attrs -** The XML attributes for configuration. 
- **defStyleAttr -** Default style attribute. 

##### EntityView(Context context, AttributeSet attrs, int defStyleAttr, int defStyleRes) 

        EntityView(Context context, AttributeSet attrs, int defStyleAttr, int defStyleRes) 

Constructor that initializes the view with XML attributes, default style, and default resources. 

**Parameters:**
- **context -** The activity context. 
- **attrs -** The XML attribute set for configuration. 
- **defStyleAttr -** The default style attribute. 

##### EntityView(Context context, AttributeSet attrs, int defStyleAttr, int defStyleRes) 

        EntityView(Context context, AttributeSet attrs, int defStyleAttr, int defStyleRes) 

Constructor that initializes the view with XML attributes, a default style, and default resources. 

**Parameters:**
- **context -** The activity context. 
- **attrs -** The XML attribute set for configuration. 
- **defStyleAttr -** The default style attribute. 
- **defStyleRes -** The default style resource. 

##### IViewfinderController getViewfinderController() 

        IViewfinderController getViewfinderController() 

Returns the viewfinder controller instance. 

**Return Value:** Returns either an instance of `IViewfinderController` or `null` if the view is not properly initialized. 

NOTE: This API is not intended for developers use. 
--->

<hr>

<h3 id="entityviewcontroller" class="anchor"><a class="heading-anchor" href="#entityviewcontroller"><span></span></a>EntityViewController</h3>

<p><code>EntityViewController</code> is a key component of the <code>EntityViewfinder</code>, providing a high-level interface for managing the camera preview, rendering detected entities, handling user interactions, and controlling viewfinder behavior.</p>

<h4 id="methods-2" class="anchor"><a class="heading-anchor" href="#methods-2"><span></span></a>Methods</h4>

<h5 id="entityviewcontrollerentityviewentityviewlifecycleownerlifecycleowner" class="anchor"><a class="heading-anchor" href="#entityviewcontrollerentityviewentityviewlifecycleownerlifecycleowner"><span></span></a>EntityViewController(EntityView entityView, LifecycleOwner lifecycleOwner)</h5>

<pre class="prettyprint"><code>    EntityViewController(EntityView entityView, LifecycleOwner lifecycleOwner)
</code></pre>

<p>Constructor: Creates and initializes a new <code>EntityViewController</code>.</p>

<p><strong>Parameters:</strong></p>

<ul>
<li><strong>entityView -</strong> The <code>EntityView</code> container for the viewfinder.</li>

<li><strong>lifecycleOwner -</strong> The <code>LifecycleOwner</code> responsible for automatic resource management.</li>
</ul>

<p><strong>Exceptions:</strong></p>

<ul>
<li><strong>InvalidInputException -</strong> Thrown if <code>entityView</code> or <code>lifecycleOwner</code> is null.</li>

<li><strong>AIVisionSDKException -</strong> Thrown if internal initialization fails.</li>
</ul>

<h5 id="setcameracontrollercamerasessioncamera" class="anchor"><a class="heading-anchor" href="#setcameracontrollercamerasessioncamera"><span></span></a>setCameraController(Camera sessionCamera)</h5>

<pre class="prettyprint"><code>    void setCameraController(Camera sessionCamera)
</code></pre>

<p>Associates a <code>Camera</code> instance with the viewfinder after successfully invoking the <code>bindToLifecycle</code> API. This method ensures proper configuration of the viewfinder to display preview frames and enables effective use of camera controls. It is intended for CameraProvider-based CameraX applications. </p>

<p><strong>Parameters:</strong></p>

<ul>
<li><strong>sessionCamera -</strong> The Camera instance. </li>
</ul>

<p><strong>Exceptions:</strong></p>

<ul>
<li><strong>InvalidInputException -</strong> Thrown if input session camera is null. </li>

<li><strong>AIVisionSDKException -</strong> Thrown if the camera cannot be set. </li>
</ul>

<h5 id="show" class="anchor"><a class="heading-anchor" href="#show"><span></span></a>show()</h5>

<pre class="prettyprint"><code>    void show()
</code></pre>

<p>Makes the viewfinder visible.</p>

<p><strong>Exceptions:</strong></p>

<ul>
<li><strong>AIVisionSDKException -</strong> Thrown if the viewfinder cannot be shown.</li>
</ul>

<h5 id="hide" class="anchor"><a class="heading-anchor" href="#hide"><span></span></a>hide()</h5>

<pre class="prettyprint"><code>    void hide()
</code></pre>

<p>Hides the viewfinder from the display while maintaining its internal state. The camera stream continues running even if the viewfinder is hidden.</p>

<p><strong>Exceptions:</strong></p>

<ul>
<li><strong>AIVisionSDKException -</strong> Thrown if the viewfinder cannot be hidden.</li>
</ul>

<h5 id="getsurfaceprovider" class="anchor"><a class="heading-anchor" href="#getsurfaceprovider"><span></span></a>getSurfaceProvider()</h5>

<pre class="prettyprint"><code>    public Preview.SurfaceProvider getSurfaceProvider()
</code></pre>

<p>Provides the <code>SurfaceProvider</code> required for integrating the CameraX Preview use case.</p>

<p><strong>Return Value:</strong> Returns a <code>Preview.SurfaceProvider</code> for camera preview integration.</p>

<p><strong>Exceptions:</strong></p>

<ul>
<li><strong>AIVisionSDKException -</strong> Thrown if the surface provider cannot be retrieved.</li>
</ul>

<h5 id="getwidth" class="anchor"><a class="heading-anchor" href="#getwidth"><span></span></a>getWidth()</h5>

<pre class="prettyprint"><code>    int getWidth()
</code></pre>

<p>Retrieves the current width of the viewfinder display area.</p>

<p><strong>Return Value:</strong> Returns the current width of the viewfinder in pixels.</p>

<p><strong>Exceptions:</strong></p>

<ul>
<li><strong>AIVisionSDKException -</strong> Thrown if the width cannot be retrieved.</li>
</ul>

<h5 id="getheight" class="anchor"><a class="heading-anchor" href="#getheight"><span></span></a>getHeight()</h5>

<pre class="prettyprint"><code>    int getHeight()
</code></pre>

<p>Retrieves the current height of the viewfinder display area.</p>

<p><strong>Return Value:</strong> Returns the current height of the viewfinder in pixels.</p>

<p><strong>Exceptions:</strong></p>

<ul>
<li><strong>AIVisionSDKException -</strong> Thrown if the height cannot be retrieved.</li>
</ul>

<h5 id="getsensortoviewtransform" class="anchor"><a class="heading-anchor" href="#getsensortoviewtransform"><span></span></a>getSensorToViewTransform()</h5>

<pre class="prettyprint"><code>    public Matrix getSensorToViewTransform()
</code></pre>

<p>Retrieves the transformation matrix used to map sensor coordinates to view coordinates.</p>

<p><strong>Return Value:</strong> Returns a <code>Matrix</code> object representing the transformation from sensor coordinates to view coordinates.</p>

<p><strong>Exceptions:</strong></p>

<ul>
<li><strong>AIVisionSDKException-</strong> Thrown if the transformation cannot be retrieved.</li>
</ul>

<h5 id="addentityentitystylepenstylepen" class="anchor"><a class="heading-anchor" href="#addentityentitystylepenstylepen"><span></span></a>add(Entity entity, StylePen stylePen)</h5>

<pre class="prettyprint"><code>    void add(Entity entity, StylePen stylePen)
</code></pre>

<p>Adds an entity to be rendered on the viewfinder.</p>

<p><strong>Parameters:</strong></p>

<ul>
<li><strong>entity -</strong> The <code>Entity</code> to add.</li>

<li><strong>stylePen -</strong> The <code>StylePen</code> used for rendering the entity.</li>
</ul>

<p><strong>Exceptions:</strong></p>

<ul>
<li><strong>InvalidInputException -</strong> Thrown if entity or stylePen is null.</li>

<li><strong>AIVisionSDKException -</strong> Thrown if adding the entity fails.</li>
</ul>

<h5 id="removeentityentity" class="anchor"><a class="heading-anchor" href="#removeentityentity"><span></span></a>remove(Entity entity)</h5>

<pre class="prettyprint"><code>    void remove(Entity entity)
</code></pre>

<p>Removes a specific entity from the viewfinder.</p>

<p><strong>Parameters:</strong></p>

<ul>
<li><strong>entity -</strong> The <code>Entity</code> to remove.</li>
</ul>

<p><strong>Exceptions:</strong></p>

<ul>
<li><strong>InvalidInputException -</strong> Thrown if the Entity is null.</li>

<li><strong>AIVisionSDKException -</strong> Thrown if removing the entity fails.</li>
</ul>

<h5 id="removeall" class="anchor"><a class="heading-anchor" href="#removeall"><span></span></a>removeAll()</h5>

<pre class="prettyprint"><code>    void removeAll()
</code></pre>

<p>Removes all entities from the viewfinder.</p>

<p><strong>Exceptions:</strong></p>

<ul>
<li><strong>AIVisionSDKException -</strong> Thrown if removing all entities fails.</li>
</ul>

<h5 id="render" class="anchor"><a class="heading-anchor" href="#render"><span></span></a>render()</h5>

<pre class="prettyprint"><code>    void render()
</code></pre>

<p>Renders all added entities onto the viewfinder.</p>

<p><strong>Exceptions:</strong></p>

<ul>
<li><strong>AIVisionSDKException -</strong> Thrown if rendering fails.</li>
</ul>

<h5 id="registerentityclicklistenerentityclicklistenerentityclicklistener" class="anchor"><a class="heading-anchor" href="#registerentityclicklistenerentityclicklistenerentityclicklistener"><span></span></a>registerEntityClickListener(EntityClickListener entityClickListener)</h5>

<pre class="prettyprint"><code>    void registerEntityClickListener(EntityClickListener entityClickListener)
</code></pre>

<p>Registers a listener to handle entity click events.</p>

<p><strong>Parameters:</strong></p>

<ul>
<li><strong>entityClickListener -</strong> The listener to register for entity click events.</li>
</ul>

<p><strong>Exceptions:</strong></p>

<ul>
<li><strong>AIVisionSDKException -</strong> Thrown if the click listener registration fails.</li>
</ul>

<h5 id="registerviewfinderresizelistenerentityviewresizelistenerlistener" class="anchor"><a class="heading-anchor" href="#registerviewfinderresizelistenerentityviewresizelistenerlistener"><span></span></a>registerViewfinderResizeListener(EntityViewResizeListener listener)</h5>

<pre class="prettyprint"><code>    void registerViewfinderResizeListener(EntityViewResizeListener listener)
</code></pre>

<p>Registers a listener to handle viewfinder resize events.</p>

<p>Parameters:</p>

<ul>
<li><strong>listener -</strong> The listener to register for resize events.</li>
</ul>

<p><strong>Exceptions:</strong></p>

<ul>
<li><strong>AIVisionSDKException -</strong> Thrown if the listener registration fails.</li>
</ul>

<hr>

<h4 id="listeners" class="anchor"><a class="heading-anchor" href="#listeners"><span></span></a>Listeners</h4>

<h5 id="entityclicklistener" class="anchor"><a class="heading-anchor" href="#entityclicklistener"><span></span></a>EntityClickListener</h5>

<p>The <code>EntityClickListener</code> interface offers a callback mechanism for handling user interactions with entities rendered in a viewfinder. By implementing this interface, developers can define custom behaviors that are triggered when an entity is clicked, enabling applications to respond effectively to user inputs.</p>

<p>Implementation:</p>

<ol>
<li><p><strong>Implement the EntityClickListener Interface -</strong> Define an instance of <code>EntityClickListener</code> by implementing its <code>onEntityClicked()</code> method. This method is invoked whenever a user clicks on an entity, allowing specific actions or logic to be defined in response to the click event.</p>

<pre class="prettyprint"><code>EntityClickListener entityClickListener = new EntityClickListener() {
    @Override
    public void onEntityClicked(Entity entity) {
        // Define actions to perform on the clicked entity
    }
};
</code></pre></li>

<li><p><strong>Register the listener -</strong> When a user clicks on an entity rendered by the viewfinder, the <code>onEntityClicked(Entity entity)</code> method is called with the associated entityRegister, the listener with the <code>EntityViewController</code>.  Use the <code>registerEntityClickListener()</code> method from <code>EntityViewController</code> to register the <code>EntityClickListener</code> instance. This connects the listener to the viewfinder, enabling it to receive click event notifications for entities displayed within the viewfinder.</p>

<pre class="prettyprint"><code>entityViewController.registerEntityClickListener( entityClickListener); 
</code></pre></li>
</ol>

<h6 id="registerentityclicklistenerentityclicklistenerlistener" class="anchor"><a class="heading-anchor" href="#registerentityclicklistenerentityclicklistenerlistener"><span></span></a>registerEntityClickListener(EntityClickListener listener):</h6>

<pre class="prettyprint"><code>    void registerEntityClickListener(EntityClickListener listener): 
</code></pre>

<p>This method takes the listener as a parameter and ensures that it will be notified of any click events on entities within the viewfinder. </p>

<p><strong>Parameters:</strong></p>

<ul>
<li><strong>listener -</strong> The EntityClickListener instance to register. </li>
</ul>

<h6 id="onentityclickedentityentity" class="anchor"><a class="heading-anchor" href="#onentityclickedentityentity"><span></span></a>onEntityClicked(Entity entity)</h6>

<pre class="prettyprint"><code>    void onEntityClicked(Entity entity) 
</code></pre>

<p>Callback method invoked when a user clicks on an entity. </p>

<p><strong>Parameters:</strong></p>

<ul>
<li><strong>entity -</strong> The <code>Entity</code> that was clicked. </li>
</ul>

<hr>

<h5 id="entityviewresizelistener" class="anchor"><a class="heading-anchor" href="#entityviewresizelistener"><span></span></a>EntityViewResizeListener</h5>

<p>The <code>EntityViewResizeListener</code> interface provides a callback mechanism to manage changes in the size and transformations of the viewfinder. It plays a crucial role in maintaining synchronization between the camera’s sensor coordinates and display coordinates, ensuring that detected entities are accurately positioned and rendered. By implementing this listener, developers can dynamically adapt their applications to changes in the viewfinder’s dimensions, ensuring proper layout adjustments and entity synchronization.</p>

<p>Implementing the EntityViewResizeListener Interface:</p>

<ol>
<li><p><strong>Implement the EntityViewResizeListener Interface -</strong> Define an instance of <code>EntityViewResizeListener</code> by implementing its <code>onViewfinderResized()</code> method. This method is called whenever the viewfinder undergoes a resize or transformation, allowing to define specific actions or adjustments that should be made in response. </p>

<pre class="prettyprint"><code>EntityViewResizeListener resizeListener = new EntityViewResizeListener() { 
    @Override 
    public void onViewfinderResized(EntityViewResizeSpecs specs) { 
        // Handle changes in viewfinder size or transformation 
        // This is where you can update layouts, adjust UI elements, or synchronize entities 
    } 
}; 
</code></pre></li>

<li><p><strong>Register the Listener with the EntityViewController -</strong> Use the <code>registerViewfinderResizeListener()</code> method from <code>EntityViewController</code> to register the <code>EntityViewResizeListener</code> instance. This connects the listener to the viewfinder, enabling it to receive notifications of any resize events. </p>

<pre class="prettyprint"><code>// Register the listener with the EntityViewController 
entityViewController.registerViewfinderResizeListener(resizeListener); 
</code></pre></li>
</ol>

<h6 id="onviewfinderresizedentityviewresizespecsspecs" class="anchor"><a class="heading-anchor" href="#onviewfinderresizedentityviewresizespecsspecs"><span></span></a>onViewfinderResized(EntityViewResizeSpecs specs)</h6>

<pre class="prettyprint"><code>    void onViewfinderResized(EntityViewResizeSpecs specs) 
</code></pre>

<p>This method is invoked whenever there are changes in the viewfinder’s dimensions or transformations.  It can be used to adjust layouts, update UI elements, or synchronize entities to match the new viewfinder size or transformation. It provides the necessary information to maintain synchronization between the camera’s detection systems and the Viewfinder. </p>

<p><strong>Parameters:</strong></p>

<ul>
<li><strong>specs -</strong> An <code>EntityViewResizeSpecs</code> object that contains comprehensive details of the new state and transformations of the viewfinder. </li>
</ul>

<h6 id="registerviewfinderresizelistenerentityviewresizelistenerlistener-1" class="anchor"><a class="heading-anchor" href="#registerviewfinderresizelistenerentityviewresizelistenerlistener-1"><span></span></a>registerViewfinderResizeListener(EntityViewResizeListener listener)</h6>

<pre class="prettyprint"><code>    void registerViewfinderResizeListener(EntityViewResizeListener listener)
</code></pre>

<p>This method takes the listener as a parameter and ensures that it will be notified of any changes in the viewfinder’s dimensions or transformations. </p>

<p><strong>Parameters:</strong></p>

<ul>
<li><strong>listener -</strong> An <code>EntityViewResizeListener</code> object that contains the listener. </li>
</ul>

<hr>

<h5 id="entityviewresizespecs" class="anchor"><a class="heading-anchor" href="#entityviewresizespecs"><span></span></a>EntityViewResizeSpecs</h5>

<p>The <code>EntityViewResizeSpecs</code> class is an immutable data container that provides detailed specifications for viewfinder resize events, including the viewfinder’s dimensions, a transformation matrix from sensor to view coordinates, and the calculated field-of-view (FOV) crop region in sensor space.  </p>

<p><code>EntityViewResizeSpecs</code> is primarily used in conjunction with the <code>EntityTrackerAnalyzer</code> to maintain accurate coordinate synchronization when the viewfinder undergoes size or transformation changes. It provides essential data to update entity detection systems, ensuring that the field of view and entity positioning remain consistent with the viewfinder’s current state. </p>

<p>Methods for <code>EntityViewResizeSpecs</code> are provided below.</p>

<h6 id="getheight-1" class="anchor"><a class="heading-anchor" href="#getheight-1"><span></span></a>getHeight()</h6>

<pre class="prettyprint"><code>    int getHeight() 
</code></pre>

<p><strong>Return Value:</strong> Returns the height of the viewfinder in pixels. </p>

<h6 id="getwidth-1" class="anchor"><a class="heading-anchor" href="#getwidth-1"><span></span></a>getWidth()</h6>

<pre class="prettyprint"><code>    int getWidth()
</code></pre>

<p><strong>Return Value:</strong> Returns the width of the viewfinder in pixels. </p>

<h6 id="getsensortoviewmatrix" class="anchor"><a class="heading-anchor" href="#getsensortoviewmatrix"><span></span></a>getSensorToViewMatrix()</h6>

<pre class="prettyprint"><code>    Matrix getSensorToViewMatrix() 
</code></pre>

<p>Returns a copy of the sensor-to-view coordinate transformation matrix. </p>

<p><strong>Return Value:</strong>
A Matrix representing the transformation from sensor to view coordinates. </p>

<h6 id="getviewfinderfovcropregion" class="anchor"><a class="heading-anchor" href="#getviewfinderfovcropregion"><span></span></a>getViewfinderFOVCropRegion()</h6>

<pre class="prettyprint"><code>    RectF getViewfinderFOVCropRegion() 
</code></pre>

<p>Calculates and returns the viewfinder’s field-of-view crop region in sensor coordinates. </p>

<p><strong>Return Value:</strong> A <code>RectF</code> representing the viewfinder FOV in sensor coordinate space, or <code>null</code> if the calculation fails. </p>

<hr>

<h3 id="stylepen" class="anchor"><a class="heading-anchor" href="#stylepen"><span></span></a>StylePen</h3>

<p><code>StylePen</code> is an interface that visually represents entities on the <code>EntityViewfinder</code>. It provides predefined styling options that allow developers to customize the appearance of entities.</p>

<p>The following built-in StylePen’s are supported: </p>

<ul>
<li><a href="#boundingboxdrawpen">BoundingBoxDrawPen</a></li>

<li><a href="#icondrawpen">IconDrawPen</a></li>
</ul>

<p>The methods and properties available for each are provided in the subsections below.</p>

<h4 id="developerguide-3" class="anchor"><a class="heading-anchor" href="#developerguide-3"><span></span></a>Developer Guide</h4>

<p>Follow these steps utilize a StylePen:</p>

<ol>
<li><strong>Create and customize a StylePen -</strong> These pens allow for customization of stroke, fill, icon styles, and other visual attributes. Create a <code>BoundingBoxDrawPen</code> or <code>IconDrawPen</code> based on your use case.</li>

<li><strong>Associate Entities with the StylePen -</strong> Use the configured <code>BoundingBoxDrawPen</code> or <code>IconDrawPen</code> to add multiple entities to the controller. This applies the defined style to each entity.</li>

<li><strong>Render Entities -</strong> Call the <code>render()</code> method on the controller to draw all the entities on the viewfinder. This method processes the added entities and applies the styles, displaying them with the configured visual attributes.</li>
</ol>

<p>Sample Code:</p>

<pre class="prettyprint"><code>    //Create Stylepens 
    StylePen boundingBoxPen = BoundingBoxDrawPen.builder() 
        .setStroke(3f, Color.RED) 
        .setFill(Color.YELLOW) 
        .setClickable(true) 
        .build(); 

    IconDrawPen iconPen = IconDrawPen.builder() 
        .setIconStyle(IconStyle.ACTION) 
        .setclickable(true) 
        .setIconSizes(50, 100) 
        .build(); 

    // Associate the stylepens with Entities 
    entityViewController.add(detectedEntity1, boundingBoxPen); 
    entityViewController.add(detectedEntity2, iconPen); 
    entityViewController.add(detectedEntity3, iconPen); 

    // Render Entities 
    entityViewController.render(); 
</code></pre>

<hr>

<h4 id="boundingboxdrawpen" class="anchor"><a class="heading-anchor" href="#boundingboxdrawpen"><span></span></a>BoundingBoxDrawPen</h4>

<p>The <code>BoundingBoxDrawPen</code> class enables the drawing of bounding boxes around detected entities on a viewfinder, implementing the <code>StylePen</code> interface. It allows the customization of the bounding box appearance through a builder pattern, offering features such as adjustable stroke width and color, fill options, and clickability.</p>

<p><code>BoundingBoxDrawPen</code> methods and properties are provided in the following subsections.</p>

<h5 id="builderbuilder" class="anchor"><a class="heading-anchor" href="#builderbuilder"><span></span></a>Builder builder()</h5>

<pre class="prettyprint"><code>    Builder builder()
</code></pre>

<p>Creates a new <code>Builder</code> instance for constructing a <code>BoundingBoxDrawPen</code>. </p>

<p><strong>Return Value:</strong> A new <code>Builder</code> instance. </p>

<p><strong>Exceptions:</strong></p>

<ul>
<li><strong>AIVisionSDKException -</strong> Thrown if the <code>BoundingBoxDrawPen</code> cannot be created.</li>
</ul>

<h5 id="setstrokefloatwidthcolorintintcolor" class="anchor"><a class="heading-anchor" href="#setstrokefloatwidthcolorintintcolor"><span></span></a>setStroke(float width, @ColorInt int color)</h5>

<pre class="prettyprint"><code>    setStroke(float width, @ColorInt int color)
</code></pre>

<p>Sets the stroke width and color for the bounding box. </p>

<p><strong>Parameters:</strong></p>

<ul>
<li><strong>width -</strong> The stroke width. </li>

<li><strong>color -</strong> The stroke color. </li>
</ul>

<p><strong>Return Value:</strong> The <code>Builder</code> instance.</p>

<p><strong>Exceptions:</strong></p>

<ul>
<li><strong>IllegalArgumentException -</strong> Thrown if the width is less than or equal to 0. </li>
</ul>

<h5 id="setfillcolorintintcolor" class="anchor"><a class="heading-anchor" href="#setfillcolorintintcolor"><span></span></a>setFill(@ColorInt int color)</h5>

<pre class="prettyprint"><code>    setFill(@ColorInt int color)
</code></pre>

<p>Sets the fill color for the bounding box. </p>

<p><strong>Parameters:</strong></p>

<ul>
<li><strong>color -</strong> The fill color. </li>
</ul>

<p><strong>Return Value:</strong> The <code>Builder</code> instance. </p>

<h5 id="setclickablebooleanclickable" class="anchor"><a class="heading-anchor" href="#setclickablebooleanclickable"><span></span></a>setClickable(boolean clickable)</h5>

<pre class="prettyprint"><code>    setClickable(boolean clickable) 
</code></pre>

<p>Sets whether the bounding box is clickable. </p>

<p><strong>Parameters:</strong> </p>

<ul>
<li><strong>clickable -</strong> Set to <code>true</code> if clickable, otherwise set to <code>false</code>. </li>
</ul>

<p><strong>Return Value:</strong> The <code>Builder</code> instance. </p>

<h5 id="stylepenbuild" class="anchor"><a class="heading-anchor" href="#stylepenbuild"><span></span></a>StylePen build()</h5>

<pre class="prettyprint"><code>    StylePen build() 
</code></pre>

<p>Builds and returns a <code>BoundingBoxDrawPen</code> instance. </p>

<p><strong>Exceptions:</strong></p>

<ul>
<li><strong>AIVisionSDKException -</strong> Thrown if the BoundingBoxDrawPen cannot be created due to internal errors. </li>
</ul>

<p><strong>Return Value:</strong> A <code>BoundingBoxDrawPen</code> instance. </p>

<hr>

<h4 id="icondrawpen" class="anchor"><a class="heading-anchor" href="#icondrawpen"><span></span></a>IconDrawPen</h4>

<p>The <code>IconDrawPen</code> class offers the ability to draw built-in icons on a viewfinder for the detected entities, implementing the <code>StylePen</code> interface. It uses a builder pattern to create instances with predefined icon styles, supporting configuration options such as icon size constraints and clickability.   </p>

<p><code>IconDrawPen</code> methods and properties are provided in the following subsections.</p>

<hr>

<h5 id="builderbuilder-1" class="anchor"><a class="heading-anchor" href="#builderbuilder-1"><span></span></a>Builder builder()</h5>

<pre class="prettyprint"><code>    Builder builder()
</code></pre>

<p>Creates a new <code>Builder</code> instance for constructing an <code>IconDrawPen</code>. </p>

<p><strong>Return Value:</strong> A new <code>Builder</code> instance. </p>

<h5 id="setclickablebooleanclickable-1" class="anchor"><a class="heading-anchor" href="#setclickablebooleanclickable-1"><span></span></a>setClickable(boolean clickable)</h5>

<pre class="prettyprint"><code>    setClickable(boolean clickable) 
</code></pre>

<p>Sets whether the icon is clickable. </p>

<p><strong>Parameters:</strong></p>

<ul>
<li><strong>clickable -</strong> Set to <code>true</code> if clickable, otherwise set to <code>false</code>. </li>
</ul>

<p><strong>Return Value:</strong> The <code>Builder</code> instance.  </p>

<h5 id="seticonstylenonnulliconstylestyle" class="anchor"><a class="heading-anchor" href="#seticonstylenonnulliconstylestyle"><span></span></a>setIconStyle(@NonNull IconStyle style)</h5>

<pre class="prettyprint"><code>    setIconStyle(@NonNull IconStyle style) 
</code></pre>

<p>Sets the icon style. </p>

<p><strong>Parameters:</strong></p>

<ul>
<li><strong>style -</strong> Specify the <code>IconStyle</code> to use. The <code>IconStyle</code> enum defines a set of built-in visual styles for icons rendered on a viewfinder. The <code>IconStyle</code> enum is used in conjunction with the <code>IconDrawPen</code> to specify the visual representation of icons on a viewfinder. Each style indicates a different state or action related to an entity,  </li>
</ul>

<p>IconStyle Enum Description:</p>

<table class="facelift" style="width:100%" border="1" padding="5px">
  <thead>
    <tr bgcolor="#dce8ef">
      <th>Enum</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>NO_ACTION</code></td>
      <td>Represents a neutral state with no specific action associated.</td>
    </tr>
    <tr>
      <td><code>ACTION_OPERATE</code></td>
      <td>Indicates an actionable item, typically for entities that can be interacted with.</td>
    </tr>
    <tr>
      <td><code>ACTION_RECALL</code></td>
      <td>Used for items that can be recalled or reverted.</td>
    </tr>
    <tr>
      <td><code>ACTION_TAKEN</code></td>
      <td>Indicates that an action has been taken, showing a completed state.</td>
    </tr>
    <tr>
      <td><code>DETECTION_ONLY</code></td>
      <td>Represents a detected entity without any specific action.</td>
    </tr>
    <tr>
      <td><code>SUCCESSFUL_DECODE</code></td>
      <td>Indicates a successful decode or operation.</td>
    </tr>
  </tbody>
</table>

<p><strong>Return Value:</strong> Returns the <code>Builder</code> instance for chaining.</p>

<p><strong>Exceptions:</strong></p>

<ul>
<li><strong>AIVisionSDKException -</strong> Thrown if the style is null or invalid. </li>
</ul>

<h5 id="seticonsizesintminsizeintmaxsize" class="anchor"><a class="heading-anchor" href="#seticonsizesintminsizeintmaxsize"><span></span></a>setIconSizes(int minSize, int maxSize)</h5>

<pre class="prettyprint"><code>    setIconSizes(int minSize, int maxSize) 
</code></pre>

<p>Sets the size constraints for dynamic scaling.</p>

<p><strong>Parameters:</strong></p>

<ul>
<li><strong>minSize -</strong> The minimum size in pixels. </li>

<li><strong>maxSize -</strong> The maximum size in pixels. </li>
</ul>

<p><strong>Return Value:</strong> The <code>Builder</code> instance. </p>

<p><strong>Exceptions:</strong></p>

<ul>
<li><strong>AIVisionSDKException -</strong> Thrown if the size constraints are invalid. </li>
</ul>

<h5 id="stylepenbuild-1" class="anchor"><a class="heading-anchor" href="#stylepenbuild-1"><span></span></a>StylePen build()</h5>

<pre class="prettyprint"><code>    StylePen build() 
</code></pre>

<p>Builds and returns an <code>IconDrawPen</code> instance. </p>

<p><strong>Return Value:</strong> A <code>StylePen</code> instance configured with the specified properties. </p>

<p><strong>Exceptions:</strong></p>

<ul>
<li><strong>AIVisionSDKException:</strong> Thrown if the pen cannot be created due to internal errors. </li>
</ul>

<hr>

<h2 id="sampleapps" class="anchor"><a class="heading-anchor" href="#sampleapps"><span></span></a>Sample Apps</h2>

<p>Refer to the following resources:</p>

<ul>
<li><strong>Start building your first product and shelf recognizer application</strong> with the <a href="https://github.com/zebradevs/AISuite_Android_Samples/tree/main/AISuite_QuickStart">QuickStart Sample</a> application source.  </li>

<li><strong>Consult the <a href="https://github.com/zebradevs/AISuite_Android_Samples/tree/main/AISuite_Snippets">Java/Kotlin snippets</a>,</strong> which demonstrate the SDK's capabilities and can be easily integrated into your applications. </li>

<li><strong>Access advanced use case and technology-based demos through the Showcase Application,</strong> including he <a href="https://github.com/zebradevs/AISuite_Android_Samples/tree/main/AISuite_Demos/AIDataCaptureDemo">AI DataCapture demo</a>, which outlines how users can enroll and recognize products in real-time. 


<ul>
<li>For instructions on accessing these demo apps, refer to the <a href="https://www.zebra.com/content/dam/zebra_dam/en/presentation/customer-facing/zebra-mobile-computing-ai-suite-presentation-customer-showcase-ai-data-capture-barcode-finder-demo-application-installation.pdf">installation guide</a> </li>

<li>Access source code for these demos in the <a href="https://github.com/zebradevs/AISuite_Android_Samples/tree/main/AISuite_Demos">ZebraDevs github repo</a>, including the <a href="https://github.com/zebradevs/AISuite_Android_Samples/tree/main/AISuite_Demos/AI_Barcode_Finder">AI Barcode Finder</a> demo source, to easily build these capabilities into your application.</li></ul>
</li>
</ul>

<hr>

<h2 id="relatedguides" class="anchor"><a class="heading-anchor" href="#relatedguides"><span></span></a>Related Guides</h2>

<ul>
<li><a href="../about/">About</a></li>

<li><a href="../setup/">Setup</a></li>

<li><a href="../localizer/">Localizer</a>


<ul>
<li>Models: <a href="../model/barcode-localizer/">Barcode</a>, <a href="../model/prod-recognizer/">Product &amp; Shelf</a></li></ul>
</li>

<li><a href="../productrecognition/">Product Recognition</a> - Model: <a href="../model/prod-recognizer/">Model</a>


<ul>
<li><a href="../productrecognition/#featureextractor">Feature Extractor</a></li>

<li><a href="../productrecognition/#featurestorage">Feature Storage</a></li>

<li><a href="../productrecognition/#recognizer">Recognizer</a></li></ul>
</li>

<li><a href="../barcodedecoder/">Barcode Decoder</a></li>

<li><a href="../textocr/">Text OCR</a>


<ul>
<li><a href="../model/textocr/">Model</a></li></ul>
</li>

<li><a href="../entity/">Entity</a></li>

<li><a href="../types/">Data Types</a></li>
</ul><p></p>
                                        


                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                </div><!--/.col-sm-6-->
            </div>
            </section>
        </div>
    </section>    

<div class="modal fade" id="basicModal" tabindex="-1" role="dialog" aria-labelledby="basicModal" aria-hidden="true" data-backdrop="true">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal" aria-hidden="true">X</button>
					</div>
					<div class="modal-body">
						<div id="modalImg">
						
						</div>
					</div>
			</div>
		  </div>
		</div> </div>
         <footer id="footer">
            <div class="container-fluid">
                <div class="row">
                    <div class="col-sm-10">
                        ZEBRA and the stylized Zebra head are trademarks of Zebra Technologies Corp., registered in many jurisdictions worldwide. All other trademarks are the property of their respective owners. ©2025 Zebra Technologies Corp. and/or its affiliates.<br> <a href="https://www.zebra.com/us/en/about-zebra/company-information/legal.html">Legal</a> | <a href="https://www.zebra.com/us/en/about-zebra/company-information/compliance/information-privacy/terms-of-use.html">Terms of Use</a> | <a href="https://www.zebra.com/us/en/about-zebra/company-information/legal/privacy-statement.html">Privacy Policy</a> 
                    </div>
                     <!--
                     <div class="col-sm-2">
                        <ul class="social-icons">
                            <li><a href="http://www.facebook.com/pages/Zebra-Technologies/107703715989073"><i class="fa fa-facebook"></i></a></li>
                            <li><a href="https://twitter.com/ZebraDevs"><i class="fa fa-twitter"></i></a></li>
                            <li><a href="http://www.youtube.com/zebratechnologies/"><i class="fa fa-youtube"></i></a></li>
                            <li><a href="https://www.linkedin.com/groups?home=&gid=3220074&trk=anet_ug_hm&goback=%2Egmr_3220074"><i class="fa fa-linkedin"></i></a></li>
                            <li><a href="https://github.com/developer-zebra"><i class="fa fa-github"></i></a></li>
                        </ul>
                    </div> -->
                 </div>
            </div>
        </footer>
    
    <!--/#footer 
        10/25/18 removed <footer id="footer" class="navbar-fixed-bottom">
    -->
    <script src="/js/bootstrap.min.js"></script>
    <script src="/js/owl.carousel.min.js"></script>
    <script src="/js/mousescroll.js"></script>
    <script src="/js/smoothscroll.js"></script>
    <script src="/js/jquery.prettyPhoto.js"></script>
    <script src="/js/jquery.isotope.min.js"></script>
    <script src="/js/jquery.inview.min.js"></script>
    <script src="/js/wow.min.js"></script>
    <script src="/js/bootstrap-treenav.min.js"></script>
    <script src="/js/prettify.js"></script>
    <script src="/js/zepto.js"></script>
    <script src="/js/jquery.waterfall.js"></script>   
    <script src="/js/main.js"></script>

<script type="text/javascript">
  (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
  (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
  e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
  })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

  _st('install','zRzEsAUhWTTkrdEN2YfA','2.0.0');
</script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-72584442-1', 'auto');
  ga('send', 'pageview');

</script> 

<script>
    ChatraID = 'QDvZ76min4DhLW5vJ';
    (function(d, w, c) {
        var n = d.getElementsByTagName('script')[0],
            s = d.createElement('script');
        w[c] = w[c] || function() {
            (w[c].q = w[c].q || []).push(arguments);
        };
        s.async = true;
        s.src = (d.location.protocol === 'https:' ? 'https:': 'http:')
            + '//call.chatra.io/chatra.js';
        n.parentNode.insertBefore(s, n);
    })(document, window, 'Chatra');
</script>         


</body></html>