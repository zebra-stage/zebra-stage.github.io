
<!DOCTYPE html>
<html lang="en"><head>
    <meta charset="utf-8">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="-1">
    <meta http-equiv="CACHE-CONTROL" content="NO-CACHE">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Online Documentation for Zebra Technologies developer tools and utiltiescomp including EMDK for Android, EMDK for Xamarin, StageNow, Enterprise Browser.">
    <meta name="author" content="Zebra Technologies">
    <meta name="google-site-verification" content="i4B78BrWnNy8ShJwe5feRW3jO3HE6gfYlYqYbxfl8yY">
    <meta name="msvalidate.01" content="6B651B00161BCE79B8950AC09D5C4C75">
    <meta title="ワークフロー入力プログラマ ガイド">
    <title>「ワークフロー入力」プログラマ ガイド - Zebra Technologies TechDocs</title><!-- core CSS --><link href="/css/bootstrap.min.css" rel="stylesheet">
    <link href="/css/font-awesome.min.css" rel="stylesheet">
    <link href="/css/animate.min.css" rel="stylesheet">
    <link href="/css/owl.carousel.css" rel="stylesheet">
    <link href="/css/owl.transitions.css" rel="stylesheet">
    <link href="/css/prettyPhoto.css" rel="stylesheet">
    <link href="/css/main.css?version=3.2" rel="stylesheet">
    <link href="/css/responsive.css" rel="stylesheet">
    <link href="/css/prettify.css" rel="stylesheet">
    <link href="/css/bootstrap-treenav.min.css" rel="stylesheet"><!--[if lt IE 9]>
    <script src="js/html5shiv.js"></script>
    <script src="js/respond.min.js"></script>
    <![endif]--> <!-- 3/1/19 - comment out per Rob  
    <script src="//load.sumome.com/" data-sumo-site-id="699cb66cf4dc59352efb45705526d15cbe314e1cd43f7761b94d96f3cf7338e8" async="async"></script>
    --><link rel="shortcut icon" href="/favicon.ico">
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-01QJCMQM9N"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-01QJCMQM9N');
</script><script src="/js/jquery.js"></script></head><!--/head--> <!-- Google tag --><body id="home" class="homepage" data-spy="scroll" data-offset="100" data-target="#toc">

    <header id="header">
        <nav id="main-menu" class="navbar navbar-default navbar-fixed-top" role="banner">
            <div class="container-fluid">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse"><span class="sr-only">ナビゲーションの切り替え</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span></button><a class="navbar-brand" href="/"><img src="/images/logo.png" alt="ロゴ" style="max-height:66px;float: inherit;
    padding-right: 3px;"></a></div>
                <div class="collapse navbar-collapse navbar-left">
                    <ul class="nav navbar-nav">
                        <li class="navbar-text pull-left"><strong><a href="/">TechDocs ホーム</a></strong></li>
                        <p class="navbar-text">DataWedge 13.0</p>

                    </ul>
                </div>
                <div class="collapse navbar-collapse navbar-right">
                    <ul class="nav navbar-nav">
                        


                        <li><a href="/datawedge/dw-jp/13-0/guide/about">情報</a></li>
                        <li><a href="/datawedge/dw-jp/13-0/guide/gettingstarted">ご使用の前に</a></li>
                        <li><a href="/datawedge/dw-jp/13-0/guide/profiles">プロファイル</a></li>
                        <li><a href="/datawedge/dw-jp/13-0/guide/programmers-guides">ガイド</a></li>
                        <li><a href="/datawedge/dw-jp/13-0/guide/matrix">機能マトリックス</a></li>
                        <li><a href="/datawedge/dw-jp/13-0/guide/api">API</a></li>
                        <li><a href="/datawedge/dw-jp/13-0/guide/samples">サンプル</a></li>
                        <li><a href="/datawedge/dw-jp/13-0/guide/faq">よくある質問</a></li>
                        <li><a href="https://supportcommunity.zebra.com/s/global-search/datawedge?language=en_US"><i class="fa fa-graduation-cap"></i></a></li>
                        <li><a href="/datawedge/dw-jp/13-0/search"><i class="fa fa-search"></i></a></li>
                        <li class="dropdown languagedropdown">
                          <button class="btn btn-default dropdown-toggle" type="button" data-toggle="dropdown"><img src="/images/flags/img-flag-usa.png" style="display:inline!important;" alt="">US - 英語 <span class="caret"></span></button>
                          <ul class="dropdown-menu">
                                <li><a onclick="changeLanguage('datawedge','datawedge/dw-cn')"><img src="/images/flags/img-flag-china.png" style="display:inline!important;" alt="CN - 普通话">CN - 普通话</a></li>
                                <li><a onclick="changeLanguage('datawedge','datawedge/dw-jp')"><img src="/images/flags/img-flag-japan.png" style="display:inline!important;" alt="JP - 日本語">JP - 日本語</a></li>
                          </ul>
                        </li><!-- <li ><a href="/products">SDKs</a></li>
                        <li ><a href="/samples">Samples</a></li>
                        <li ><a href="/guides">Guides</a></li>
                        <li ><a href="/tutorials">Tutorials</a></li>
                        <li ><a href="/apis">APIs</a></li> --> <!-- <li><a href="#"><input type="text" class="st-default-search-input"></a></li> --></ul>
                </div>
            </div><!--/.container--></nav><!--/nav--></header><!--/header--><div class="container-fluid">
    <section id="blog">
        <div class="">
            <section class="content-with-sidebar">
            <div class="row">
                <div class="col-sm-3 hidden-sm hidden-xs" id="sidebar">
                    
                    
                    <nav id="toc" data-toggle="toc" data-spy="affix" style="height: 75%; max-width: 225px; overflow-y: auto; ">
                        
                        <ul class="nav">
                            <li><strong>ワークフロー入力プログラマ ガイド</strong></li>
                        </ul>
                    </nav>
                    <div class="modal fade" id="modal-smartdocs" tabindex="-1" role="dialog" aria-labelledby="basicModal" aria-hidden="true" data-backdrop="true">
                    	<div class="modal-dialog">
                    		<div class="modal-content">
                    			<div class="modal-header">
                    				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">X</button>
                    			</div>
                    			<div class="modal-body">
                    				<form>
                    				  <div class="form-group">
                    				    <label for="exampleInputEmail1">デバイスの MX バージョン:</label>
                    				    <select class="form-control">
                    					  <option value="4.0">4.0</option>
                    					  <option value="4.1">4.1</option>
                    					  <option value="4.2">4.2</option>
                    					  <option value="4.3">4.3</option>
                    					  <option value="5.0">5.0</option>
                    					</select>
                    				  </div>						
                    				  <div class="form-group">
                    				    <label for="exampleInputEmail1">デバイスの OSX バージョン:</label>
                    				    <select class="form-control">
                    					  <option value="1.0">1.0</option>
                    					  <option value="1.2">1.2</option>
                    					  <option value="1.3.4-56">1.3.4-56</option>
                    					  <option value="3.4">3.4</option>
                    					  <option value="3.5">3.5</option>
                    					  <option value="3.6">3.6</option>
                    					  <option value="4.1">4.1</option>
                    					  <option value="4.2">4.2</option>
                    					  <option value="4.3">4.3</option>
                    					  <option value="4.4">4.4</option>
                    					</select>
                    				  </div>						
                    				  <div class="form-group">
                    				    <label for="exampleInputEmail1">デバイスの Android バージョン:</label>
                    				    <select class="form-control">
                    					  <option value="23">6.0 Marshmallow</option>
                    					  <option value="22">5.1 Lollipop</option>
                    					  <option value="21">5.0 Lollipop</option>
                    					  <option value="19">4.4 Kitkat</option>
                    					  <option value="18">4.3 Jellybean</option>
                    					  <option value="17">4.2.x Jellybean</option>
                    					  <option value="16">4.1.x Jellybean</option>
                    					  <option value="15">4.0.3 ～ 4.0.4 Ice Cream Sandwich</option>
                    					  <option value="14">4.0 ～ 4.0.2 Ice Cream Sandwich</option>
                    					  <option value="10">2.3.3-2.3.4 Gingerbread</option>
                    					</select>
                    				  </div>
                    				  <div class="form-group">
                    				  	<button class="primary" id="btn_SaveSmartDocOptions">変更を保存</button><button class="primary" id="btn_ClearSmartDocOptions">変更を消去</button>
                    				  </div>
                    				</form>
                    			</div>
                    	</div>
                      </div>
                    </div>
                    
                    <script type="text/javascript">
                        $(document).ready(function() {
                        	$( "#btn_SaveSmartDocOptions" ).click(function() {
                      			console.log('Saving Options');
                      			$("#modal-smartdocs").modal({show: false});
                    		});
                        	$( "#btn_SaveSmartDocOptions" ).click(function() {
                      			console.log('Clearing Options');
                      			$("#modal-smartdocs").modal({show: false});
                    		});
                        });
                    </script><link rel="stylesheet" href="https://cdn.rawgit.com/afeld/bootstrap-toc/v0.3.0/dist/bootstrap-toc.min.css">
                    <script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v0.3.0/dist/bootstrap-toc.min.js"></script>
                    <script type="text/javascript">
                        $(document).ready(function() {
                    
                        });
                    
                    
                    </script>
                </div>                
                <div class="col-sm-9 ">
                    <div class="row">
                        <div class="col-sm-12">
                            <section id="cta" class="wow fadeIn">
                                <div class="">
                                    <h1 id="workflow-input-programmers-guide" class="anchor"><a class="heading-anchor" href="#workflow-input-programmers-guide"><span></span></a>ワークフロー入力プログラマ ガイド</h1>
                                    <p>DataWedge 13.0</p>
                                </div>
                            </section>                    
                        </div>
                    </div>
                    <div id="mainContent" class="row">
                        <div class="col-sm-12">
                            <div class="blog-post blog-large wow fadeInLeft" data-wow-duration="300ms" data-wow-delay="0ms"><!-- Start of guide --><div class="service-box wow fadeInRight">
                                    <div class="">

                                        <p></p><h2 id="overview" class="anchor"><a class="heading-anchor" href="#overview"><span></span></a>概要</h2>

<p>このガイドでは、<a href="../../input/workflow">ワークフロー入力</a>を使用してデータを取得するアプリを開発する方法を説明します。この例では、身分証明書のスキャンに焦点を当てています。同様の手順は、他の <a href="../../input/workflow/#ocrwedge">OCR</a> 機能 (ナンバー プレート、車両識別番号 (VIN)、タイヤ識別番号 (TIN)、メーター読み取り)、および<a href="../../input/workflow/#freeformimagecapture">フリーフォーム イメージ キャプチャ</a>と<a href="../../input/workflow/#documentcapture">ドキュメント キャプチャ</a>に適用されます。</p>

<p>使用されたサンプルの身分証明書</p>

<table>
    <tbody><tr>
        <td><img style="height:200px" src="driver-license-usa.jpg"></td>
        <td>&nbsp;&nbsp;</td>
        <td><img style="height:200px" src="driver-license-norway.jpg"></td>
    </tr>
    <tr>
        <td><i>米国 (ペンシルバニア州) およびノルウェーの運転免許証の例</i></td>
    </tr>
</tbody></table>

<p><br> 身分証明書からデータを取得するアプリの開発方法について、詳細な手順を示すビデオ</p><iframe width="560" height="315" src="https://www.youtube.com/embed/dDCnVpmVbD0" title="YouTube ビデオ プレーヤー" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><p>ソース コードのファイルを<a href="./workflow-input-dev-guide-source.zip" download="">ダウンロード</a>します。</p>

<hr>

<h2 id="requirements" class="anchor"><a class="heading-anchor" href="#requirements"><span></span></a>要件</h2>

<ul>
<li>DataWedge バージョン 11.2 以降 (<a href="../../about/#whichversionisinstalled">バージョンを検索</a>)</li>

<li>スキャン フレームワーク 32.0.3.6 以降 (<a href="../../about/#whichversionisinstalled">バージョンを検索</a>)</li>

<li>Android 11 以降</li>

<li>モバイル コンピュータの内蔵カメラ</li>

<li><a href="/licensing/about/">OCR Wedge ライセンス</a> - 個別の OCR 機能ごとに必要です。<ul>
<li>Mobility DNA ナンバープレート OCR Wedge ライセンス</li>

<li>Mobility DNA 身分証明書 OCR Wedge ライセンス</li>

<li>Mobility DNA 車両識別番号 OCR Wedge ライセンス</li>

<li>Mobility DNA タイヤ識別番号 OCR Wedge ライセンス</li>

<li>Mobility DNA 検針 OCR Wedge ライセンス</li></ul>
</li>
</ul>

<hr>

<h2 id="stepstocapturedata" class="anchor"><a class="heading-anchor" href="#stepstocapturedata"><span></span></a>データを取得する手順</h2>

<p>要約すると、ワークフロー入力を使用してデータを取得する手順は次のとおりです。</p>

<ol>
<li><strong>DataWedge プロファイルを作成し、アプリケーションに関連付けます。</strong></li>

<li><strong>スキャン結果を受信するようにアプリケーションを構成します。</strong></li>

<li><strong>インテントから文字列データを抽出します。</strong></li>

<li><strong>インテントから画像データを抽出します。</strong></li>
</ol>

<p>これらの手順の詳細について、次のサブセクションで説明します。</p>

<h3 id="1createadatawedgeprofileandassociateittotheapplication" class="anchor"><a class="heading-anchor" href="#1createadatawedgeprofileandassociateittotheapplication"><span></span></a>1.DataWedge プロファイルを作成し、アプリケーションに関連付けます</h3>

<p>DataWedge で<a href="../../createprofile/#createanewprofile">プロファイルを作成</a>し、そのプロファイルをアプリに関連付けて、次のように設定します。<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A. <strong>[ワークフロー入力]</strong> を有効にします。<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;B. <strong>[OCR Wedge]</strong> で、目的の OCR 機能を有効にします。ナンバー プレート、身分証明書、車両識別番号 (VIN)、タイヤ識別番号 (TIN)、メーター読み取りの中から選択できます。この場合は、<strong>[身分証明書]</strong> を有効にします。 <br></p>

<p><img style="height:350px" src="id-doc.jpg"></p>

<p><em>[ワークフロー入力] および [身分証明書] を有効にします</em></p>

<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;C. キーストローク データを使用しない場合は、<strong>[キーストローク出力]</strong> を無効にします。</p>

<p><img style="height:350px" src="keystroke-output.jpg"></p>

<p><em>キーストローク出力を無効にします</em></p>

<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;D. <strong>[インテント出力]</strong> を有効にして、次の操作を実行します。</p>

<ul>
<li><p>手順 1 からアプリでブロードキャスト レシーバを登録するために使用する<strong>インテント アクション</strong>と<strong>インテント カテゴリ</strong>を指定します。この例では次のように指定します。<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;• <b>インテント アクション:</b> com.zebra.id_scanning.ACTION<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;• <b>インテント カテゴリ:</b> Intent.CATEGORY_DEFAULT<br></p></li>

<li><p><strong>[インテント配信]</strong> のメカニズムを選択します。この例では、<strong>[ブロードキャスト インテント]</strong> を選択します。 <img style="height:350px" src="intent-output.jpg"></p>

<p><em>インテント出力の構成</em></p></li>
</ul>

<h3 id="2configuretheapplicationtoreceivescanresults" class="anchor"><a class="heading-anchor" href="#2configuretheapplicationtoreceivescanresults"><span></span></a>2.スキャン結果を受信するようにアプリケーションを設定します</h3>

<p>Android アプリケーション (例: IDScanningApp) を作成します。ブロードキャスト レシーバを登録して、ブロードキャスト インテントからスキャン結果を受信します。</p>

<pre class="prettyprint"><code>    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main2);

        IntentFilter intentFilter = new IntentFilter();
        intentFilter.addAction(&quot;com.zebra.id_scanning.ACTION&quot;);
        intentFilter.addCategory(Intent.CATEGORY_DEFAULT);
        registerReceiver(broadcastReceiver, intentFilter);
    }

    BroadcastReceiver broadcastReceiver = new BroadcastReceiver() {
        @Override
        public void onReceive(Context context, Intent intent) {

        }
    };
</code></pre>

<h3 id="3extractstringdatafromtheintent" class="anchor"><a class="heading-anchor" href="#3extractstringdatafromtheintent"><span></span></a>3.インテントから文字列データを抽出します</h3>

<p>インテントから文字列データを抽出する際、スキャンの結果として得られるインテントには、<code>com.symbol.datawedge.data</code> という名前の文字列エクストラが含まれており、その中のデータは JSON アレイ形式で返されます。次の 2 種類のデータ例を示します。身分証明書および自由形式 OCR。</p>

<h4 id="identificationdocument" class="anchor"><a class="heading-anchor" href="#identificationdocument"><span></span></a>身分証明書</h4>

<p>身分証明書のデータ例を示します。</p>

<pre class="prettyprint"><code>[
    {
        &quot;group_id&quot;:&quot;Uncategorized&quot;,
        &quot;imageformat&quot;:&quot;YUV&quot;,
        &quot;orientation&quot;:&quot;90&quot;,
        &quot;height&quot;:&quot;1080&quot;,
        &quot;stride&quot;:&quot;1920&quot;,
        &quot;size&quot;:&quot;4147198&quot;,
        &quot;label&quot;:&quot;ID card&quot;,
        &quot;width&quot;:&quot;1920&quot;,
        &quot;uri&quot;:&quot;content:\/\/com.symbol.datawedge.decode\/18-2-1&quot;,
        &quot;data_size&quot;:4147198
    },
    {
        &quot;group_id&quot;:&quot;Result&quot;,
        &quot;string_data&quot;:&quot;90&quot;,
        &quot;label&quot;:&quot;weight&quot;,
        &quot;uri&quot;:&quot;content:\/\/com.symbol.datawedge.decode\/18-2-2&quot;,
        &quot;data_size&quot;:2
    },
    {
        &quot;group_id&quot;:&quot;Result&quot;,
        &quot;string_data&quot;:&quot;M&quot;,
        &quot;label&quot;:&quot;sex&quot;,
        &quot;uri&quot;:&quot;content:\/\/com.symbol.datawedge.decode\/18-2-3&quot;,
        &quot;data_size&quot;:1
    },
    {
        &quot;group_id&quot;:&quot;Result&quot;,
        &quot;string_data&quot;:&quot;C91993805&quot;,
        &quot;label&quot;:&quot;documentNumber&quot;,
        &quot;uri&quot;:&quot;content:\/\/com.symbol.datawedge.decode\/18-2-5&quot;,
        &quot;data_size&quot;:9
    },
    {
        &quot;group_id&quot;:&quot;Result&quot;,
        &quot;string_data&quot;:&quot;ADAMS&quot;,
        &quot;label&quot;:&quot;lastName&quot;,
        &quot;uri&quot;:&quot;content:\/\/com.symbol.datawedge.decode\/18-2-6&quot;,
        &quot;data_size&quot;:5
    }
]
</code></pre>

<h4 id="freeformocr" class="anchor"><a class="heading-anchor" href="#freeformocr"><span></span></a>自由形式 OCR</h4>

<p>自由形式 OCR データは、次の用語に基づいています。</p>

<ul>
<li><strong>group_id &ndash;</strong> 画像、タイムスタンプ、または行を表し、同じ軸上の連続した単語のセットを示します。行の場合、返される値は <code>string_data</code>、テキストが配置されている行番号を示します。例えば、「line0」 は最初の行、「line1」 は 2 番目の行などです。</li>

<li><strong>string_data &ndash;</strong> 要素を示し、ほとんどのラテン語圏の言語では同じ軸上の連続したアルファベットや数字のセット (「単語」)、または他のラテン語圏の言語での文字を表します。返される値は、読み込まれたテキスト データの単語です。</li>

<li><strong>block_label &ndash;</strong> ブロックを示し、例えば段落や列のような連続したテキスト行のセットを意味します。返される値は、<code>string_data</code> が配置されている位置の段落を示します。例えば、「block0」は最初の段落、「block1」 は 2 番目の段落などです。</li>
</ul>

<p><code>string_data</code> は、行（<code>group_id</code>）のタイプと位置、および段落（<code>block_label</code>）の位置に基づいて、全体のデータ テキストを再構成する必要があります。 <br></p>

<p>テキストの例 (色分けされた構文の強調表示は関係ありません):</p>

<pre class="prettyprint"><code>OCR - Mobility DNA OCR Wedge allows for the automatic recognition and capture of
text in specific use cases and its conversion into digital data for delivery to any
application.

Capture images with the aid of colored highlights to ensure the apporpriate image is
captured.
</code></pre>

<p>上記テキストの自由形式 OCR データの例:</p>

<pre class="prettyprint"><code>[
    {
        &quot;group_id&quot;: &quot;Image&quot;,
        &quot;imageformat&quot;: &quot;YUV&quot;,
        &quot;orientation&quot;: &quot;90&quot;,
        &quot;height&quot;: &quot;816&quot;,
        &quot;stride&quot;: &quot;468&quot;,
        &quot;size&quot;: &quot;572832&quot;,
        &quot;label&quot;: &quot;Image&quot;,
        &quot;width&quot;: &quot;468&quot;,
        &quot;uri&quot;: &quot;content://com.symbol.datawedge.decode/9-23-1&quot;,
        &quot;data_size&quot;: 572832
    },
    {
        &quot;group_id&quot;: &quot;timestamp&quot;,
        &quot;string_data&quot;: &quot;2022-11-21 04:02:24+05:30&quot;,
        &quot;label&quot;: &quot;&quot;,
        &quot;block_label&quot;: &quot;&quot;,
        &quot;uri&quot;: &quot;content://com.symbol.datawedge.decode/9-23-2&quot;,
        &quot;data_size&quot;: 25
    },
    {
        &quot;group_id&quot;: &quot;line0&quot;,
        &quot;string_data&quot;: &quot;OCR&quot;,
        &quot;label&quot;: &quot;&quot;,
        &quot;block_label&quot;: &quot;block0&quot;,
        &quot;uri&quot;: &quot;content://com.symbol.datawedge.decode/9-23-3&quot;,
        &quot;data_size&quot;: 3
    },
    {
        &quot;group_id&quot;: &quot;line0&quot;,
        &quot;string_data&quot;: &quot;-&quot;,
        &quot;label&quot;: &quot;&quot;,
        &quot;block_label&quot;: &quot;block0&quot;,
        &quot;uri&quot;: &quot;content://com.symbol.datawedge.decode/9-23-4&quot;,
        &quot;data_size&quot;: 1
    },
    {
        &quot;group_id&quot;: &quot;line0&quot;,
        &quot;string_data&quot;: &quot;Mobility&quot;,
        &quot;label&quot;: &quot;&quot;,
        &quot;block_label&quot;: &quot;block0&quot;,
        &quot;uri&quot;: &quot;content://com.symbol.datawedge.decode/9-23-5&quot;,
        &quot;data_size&quot;: 8
    },
    {
        &quot;group_id&quot;: &quot;line0&quot;,
        &quot;string_data&quot;: &quot;DNA&quot;,
        &quot;label&quot;: &quot;&quot;,
        &quot;block_label&quot;: &quot;block0&quot;,
        &quot;uri&quot;: &quot;content://com.symbol.datawedge.decode/9-23-6&quot;,
        &quot;data_size&quot;: 3
    },
    {
        &quot;group_id&quot;: &quot;line0&quot;,
        &quot;string_data&quot;: &quot;OCR&quot;,
        &quot;label&quot;: &quot;&quot;,
        &quot;block_label&quot;: &quot;block0&quot;,
        &quot;uri&quot;: &quot;content://com.symbol.datawedge.decode/9-23-7&quot;,
        &quot;data_size&quot;: 3
    },
    {
        &quot;group_id&quot;: &quot;line0&quot;,
        &quot;string_data&quot;: &quot;Wedge&quot;,
        &quot;label&quot;: &quot;&quot;,
        &quot;block_label&quot;: &quot;block0&quot;,
        &quot;uri&quot;: &quot;content://com.symbol.datawedge.decode/9-23-8&quot;,
        &quot;data_size&quot;: 5
    },
    {
        &quot;group_id&quot;: &quot;line0&quot;,
        &quot;string_data&quot;: &quot;allows&quot;,
        &quot;label&quot;: &quot;&quot;,
        &quot;block_label&quot;: &quot;block0&quot;,
        &quot;uri&quot;: &quot;content://com.symbol.datawedge.decode/9-23-9&quot;,
        &quot;data_size&quot;: 6
    },
    {
        &quot;group_id&quot;: &quot;line0&quot;,
        &quot;string_data&quot;: &quot;for&quot;,
        &quot;label&quot;: &quot;&quot;,
        &quot;block_label&quot;: &quot;block0&quot;,
        &quot;uri&quot;: &quot;content://com.symbol.datawedge.decode/9-23-10&quot;,
        &quot;data_size&quot;: 3
    },
    {
        &quot;group_id&quot;: &quot;line0&quot;,
        &quot;string_data&quot;: &quot;the&quot;,
        &quot;label&quot;: &quot;&quot;,
        &quot;block_label&quot;: &quot;block0&quot;,
        &quot;uri&quot;: &quot;content://com.symbol.datawedge.decode/9-23-11&quot;,
        &quot;data_size&quot;: 3
    },
    {
        &quot;group_id&quot;: &quot;line0&quot;,
        &quot;string_data&quot;: &quot;automatic&quot;,
        &quot;label&quot;: &quot;&quot;,
        &quot;block_label&quot;: &quot;block0&quot;,
        &quot;uri&quot;: &quot;content://com.symbol.datawedge.decode/9-23-12&quot;,
        &quot;data_size&quot;: 9
    },
    {
        &quot;group_id&quot;: &quot;line0&quot;,
        &quot;string_data&quot;: &quot;recognition&quot;,
        &quot;label&quot;: &quot;&quot;,
        &quot;block_label&quot;: &quot;block0&quot;,
        &quot;uri&quot;: &quot;content://com.symbol.datawedge.decode/9-23-13&quot;,
        &quot;data_size&quot;: 11
    },
    {
        &quot;group_id&quot;: &quot;line0&quot;,
        &quot;string_data&quot;: &quot;and&quot;,
        &quot;label&quot;: &quot;&quot;,
        &quot;block_label&quot;: &quot;block0&quot;,
        &quot;uri&quot;: &quot;content://com.symbol.datawedge.decode/9-23-14&quot;,
        &quot;data_size&quot;: 3
    },
    {
        &quot;group_id&quot;: &quot;line0&quot;,
        &quot;string_data&quot;: &quot;capture&quot;,
        &quot;label&quot;: &quot;&quot;,
        &quot;block_label&quot;: &quot;block0&quot;,
        &quot;uri&quot;: &quot;content://com.symbol.datawedge.decode/9-23-15&quot;,
        &quot;data_size&quot;: 7
    },
    {
        &quot;group_id&quot;: &quot;line0&quot;,
        &quot;string_data&quot;: &quot;of&quot;,
        &quot;label&quot;: &quot;&quot;,
        &quot;block_label&quot;: &quot;block0&quot;,
        &quot;uri&quot;: &quot;content://com.symbol.datawedge.decode/9-23-16&quot;,
        &quot;data_size&quot;: 2
    },
    {
        &quot;group_id&quot;: &quot;line1&quot;,
        &quot;string_data&quot;: &quot;text&quot;,
        &quot;label&quot;: &quot;&quot;,
        &quot;block_label&quot;: &quot;block0&quot;,
        &quot;uri&quot;: &quot;content://com.symbol.datawedge.decode/9-23-17&quot;,
        &quot;data_size&quot;: 4
    },
    {
        &quot;group_id&quot;: &quot;line1&quot;,
        &quot;string_data&quot;: &quot;in&quot;,
        &quot;label&quot;: &quot;&quot;,
        &quot;block_label&quot;: &quot;block0&quot;,
        &quot;uri&quot;: &quot;content://com.symbol.datawedge.decode/9-23-18&quot;,
        &quot;data_size&quot;: 2
    },
    {
        &quot;group_id&quot;: &quot;line1&quot;,
        &quot;string_data&quot;: &quot;specific&quot;,
        &quot;label&quot;: &quot;&quot;,
        &quot;block_label&quot;: &quot;block0&quot;,
        &quot;uri&quot;: &quot;content://com.symbol.datawedge.decode/9-23-19&quot;,
        &quot;data_size&quot;: 8
    },
    {
        &quot;group_id&quot;: &quot;line1&quot;,
        &quot;string_data&quot;: &quot;use&quot;,
        &quot;label&quot;: &quot;&quot;,
        &quot;block_label&quot;: &quot;block0&quot;,
        &quot;uri&quot;: &quot;content://com.symbol.datawedge.decode/9-23-20&quot;,
        &quot;data_size&quot;: 3
    },
    {
        &quot;group_id&quot;: &quot;line1&quot;,
        &quot;string_data&quot;: &quot;cases&quot;,
        &quot;label&quot;: &quot;&quot;,
        &quot;block_label&quot;: &quot;block0&quot;,
        &quot;uri&quot;: &quot;content://com.symbol.datawedge.decode/9-23-21&quot;,
        &quot;data_size&quot;: 5
    },
    {
        &quot;group_id&quot;: &quot;line1&quot;,
        &quot;string_data&quot;: &quot;and&quot;,
        &quot;label&quot;: &quot;&quot;,
        &quot;block_label&quot;: &quot;block0&quot;,
        &quot;uri&quot;: &quot;content://com.symbol.datawedge.decode/9-23-22&quot;,
        &quot;data_size&quot;: 3
    },
    {
        &quot;group_id&quot;: &quot;line1&quot;,
        &quot;string_data&quot;: &quot;its&quot;,
        &quot;label&quot;: &quot;&quot;,
        &quot;block_label&quot;: &quot;block0&quot;,
        &quot;uri&quot;: &quot;content://com.symbol.datawedge.decode/9-23-23&quot;,
        &quot;data_size&quot;: 3
    },
    {
        &quot;group_id&quot;: &quot;line1&quot;,
        &quot;string_data&quot;: &quot;conversion&quot;,
        &quot;label&quot;: &quot;&quot;,
        &quot;block_label&quot;: &quot;block0&quot;,
        &quot;uri&quot;: &quot;content://com.symbol.datawedge.decode/9-23-24&quot;,
        &quot;data_size&quot;: 10
    },
    {
        &quot;group_id&quot;: &quot;line1&quot;,
        &quot;string_data&quot;: &quot;into&quot;,
        &quot;label&quot;: &quot;&quot;,
        &quot;block_label&quot;: &quot;block0&quot;,
        &quot;uri&quot;: &quot;content://com.symbol.datawedge.decode/9-23-25&quot;,
        &quot;data_size&quot;: 4
    },
    {
        &quot;group_id&quot;: &quot;line1&quot;,
        &quot;string_data&quot;: &quot;digital&quot;,
        &quot;label&quot;: &quot;&quot;,
        &quot;block_label&quot;: &quot;block0&quot;,
        &quot;uri&quot;: &quot;content://com.symbol.datawedge.decode/9-23-26&quot;,
        &quot;data_size&quot;: 7
    },
    {
        &quot;group_id&quot;: &quot;line1&quot;,
        &quot;string_data&quot;: &quot;data&quot;,
        &quot;label&quot;: &quot;&quot;,
        &quot;block_label&quot;: &quot;block0&quot;,
        &quot;uri&quot;: &quot;content://com.symbol.datawedge.decode/9-23-27&quot;,
        &quot;data_size&quot;: 4
    },
    {
        &quot;group_id&quot;: &quot;line1&quot;,
        &quot;string_data&quot;: &quot;for&quot;,
        &quot;label&quot;: &quot;&quot;,
        &quot;block_label&quot;: &quot;block0&quot;,
        &quot;uri&quot;: &quot;content://com.symbol.datawedge.decode/9-23-28&quot;,
        &quot;data_size&quot;: 3
    },
    {
        &quot;group_id&quot;: &quot;line1&quot;,
        &quot;string_data&quot;: &quot;delivery&quot;,
        &quot;label&quot;: &quot;&quot;,
        &quot;block_label&quot;: &quot;block0&quot;,
        &quot;uri&quot;: &quot;content://com.symbol.datawedge.decode/9-23-29&quot;,
        &quot;data_size&quot;: 8
    },
    {
        &quot;group_id&quot;: &quot;line1&quot;,
        &quot;string_data&quot;: &quot;to&quot;,
        &quot;label&quot;: &quot;&quot;,
        &quot;block_label&quot;: &quot;block0&quot;,
        &quot;uri&quot;: &quot;content://com.symbol.datawedge.decode/9-23-30&quot;,
        &quot;data_size&quot;: 2
    },
    {
        &quot;group_id&quot;: &quot;line1&quot;,
        &quot;string_data&quot;: &quot;any&quot;,
        &quot;label&quot;: &quot;&quot;,
        &quot;block_label&quot;: &quot;block0&quot;,
        &quot;uri&quot;: &quot;content://com.symbol.datawedge.decode/9-23-31&quot;,
        &quot;data_size&quot;: 3
    },
    {
        &quot;group_id&quot;: &quot;line2&quot;,
        &quot;string_data&quot;: &quot;application.&quot;,
        &quot;label&quot;: &quot;&quot;,
        &quot;block_label&quot;: &quot;block0&quot;,
        &quot;uri&quot;: &quot;content://com.symbol.datawedge.decode/9-23-32&quot;,
        &quot;data_size&quot;: 12
    },
    {
        &quot;group_id&quot;: &quot;line3&quot;,
        &quot;string_data&quot;: &quot;Capture&quot;,
        &quot;label&quot;: &quot;&quot;,
        &quot;block_label&quot;: &quot;block1&quot;,
        &quot;uri&quot;: &quot;content://com.symbol.datawedge.decode/9-23-33&quot;,
        &quot;data_size&quot;: 7
    },
    {
        &quot;group_id&quot;: &quot;line3&quot;,
        &quot;string_data&quot;: &quot;images&quot;,
        &quot;label&quot;: &quot;&quot;,
        &quot;block_label&quot;: &quot;block1&quot;,
        &quot;uri&quot;: &quot;content://com.symbol.datawedge.decode/9-23-34&quot;,
        &quot;data_size&quot;: 6
    },
    {
        &quot;group_id&quot;: &quot;line3&quot;,
        &quot;string_data&quot;: &quot;with&quot;,
        &quot;label&quot;: &quot;&quot;,
        &quot;block_label&quot;: &quot;block1&quot;,
        &quot;uri&quot;: &quot;content://com.symbol.datawedge.decode/9-23-35&quot;,
        &quot;data_size&quot;: 4
    },
    {
        &quot;group_id&quot;: &quot;line3&quot;,
        &quot;string_data&quot;: &quot;the&quot;,
        &quot;label&quot;: &quot;&quot;,
        &quot;block_label&quot;: &quot;block1&quot;,
        &quot;uri&quot;: &quot;content://com.symbol.datawedge.decode/9-23-36&quot;,
        &quot;data_size&quot;: 3
    },
    {
        &quot;group_id&quot;: &quot;line3&quot;,
        &quot;string_data&quot;: &quot;aid&quot;,
        &quot;label&quot;: &quot;&quot;,
        &quot;block_label&quot;: &quot;block1&quot;,
        &quot;uri&quot;: &quot;content://com.symbol.datawedge.decode/9-23-37&quot;,
        &quot;data_size&quot;: 3
    },
    {
        &quot;group_id&quot;: &quot;line3&quot;,
        &quot;string_data&quot;: &quot;of&quot;,
        &quot;label&quot;: &quot;&quot;,
        &quot;block_label&quot;: &quot;block1&quot;,
        &quot;uri&quot;: &quot;content://com.symbol.datawedge.decode/9-23-38&quot;,
        &quot;data_size&quot;: 2
    },
    {
        &quot;group_id&quot;: &quot;line3&quot;,
        &quot;string_data&quot;: &quot;colored&quot;,
        &quot;label&quot;: &quot;&quot;,
        &quot;block_label&quot;: &quot;block1&quot;,
        &quot;uri&quot;: &quot;content://com.symbol.datawedge.decode/9-23-39&quot;,
        &quot;data_size&quot;: 7
    },
    {
        &quot;group_id&quot;: &quot;line3&quot;,
        &quot;string_data&quot;: &quot;highlights&quot;,
        &quot;label&quot;: &quot;&quot;,
        &quot;block_label&quot;: &quot;block1&quot;,
        &quot;uri&quot;: &quot;content://com.symbol.datawedge.decode/9-23-40&quot;,
        &quot;data_size&quot;: 10
    },
    {
        &quot;group_id&quot;: &quot;line3&quot;,
        &quot;string_data&quot;: &quot;to&quot;,
        &quot;label&quot;: &quot;&quot;,
        &quot;block_label&quot;: &quot;block1&quot;,
        &quot;uri&quot;: &quot;content://com.symbol.datawedge.decode/9-23-41&quot;,
        &quot;data_size&quot;: 2
    },
    {
        &quot;group_id&quot;: &quot;line3&quot;,
        &quot;string_data&quot;: &quot;ensure&quot;,
        &quot;label&quot;: &quot;&quot;,
        &quot;block_label&quot;: &quot;block1&quot;,
        &quot;uri&quot;: &quot;content://com.symbol.datawedge.decode/9-23-42&quot;,
        &quot;data_size&quot;: 6
    },
    {
        &quot;group_id&quot;: &quot;line3&quot;,
        &quot;string_data&quot;: &quot;the&quot;,
        &quot;label&quot;: &quot;&quot;,
        &quot;block_label&quot;: &quot;block1&quot;,
        &quot;uri&quot;: &quot;content://com.symbol.datawedge.decode/9-23-43&quot;,
        &quot;data_size&quot;: 3
    },
    {
        &quot;group_id&quot;: &quot;line3&quot;,
        &quot;string_data&quot;: &quot;appropriate&quot;,
        &quot;label&quot;: &quot;&quot;,
        &quot;block_label&quot;: &quot;block1&quot;,
        &quot;uri&quot;: &quot;content://com.symbol.datawedge.decode/9-23-44&quot;,
        &quot;data_size&quot;: 11
    },
    {
        &quot;group_id&quot;: &quot;line3&quot;,
        &quot;string_data&quot;: &quot;image&quot;,
        &quot;label&quot;: &quot;&quot;,
        &quot;block_label&quot;: &quot;block1&quot;,
        &quot;uri&quot;: &quot;content://com.symbol.datawedge.decode/9-23-45&quot;,
        &quot;data_size&quot;: 5
    },
    {
        &quot;group_id&quot;: &quot;line3&quot;,
        &quot;string_data&quot;: &quot;is&quot;,
        &quot;label&quot;: &quot;&quot;,
        &quot;block_label&quot;: &quot;block1&quot;,
        &quot;uri&quot;: &quot;content://com.symbol.datawedge.decode/9-23-46&quot;,
        &quot;data_size&quot;: 2
    },
    {
        &quot;group_id&quot;: &quot;line4&quot;,
        &quot;string_data&quot;: &quot;captured.&quot;,
        &quot;label&quot;: &quot;&quot;,
        &quot;block_label&quot;: &quot;block1&quot;,
        &quot;uri&quot;: &quot;content://com.symbol.datawedge.decode/9-23-47&quot;,
        &quot;data_size&quot;: 9
    }
]
</code></pre>

<h4 id="broadcastreceiver" class="anchor"><a class="heading-anchor" href="#broadcastreceiver"><span></span></a>ブロードキャスト レシーバ</h4>

<p>ブロードキャスト レシーバで、<code>com.symbol.datawedge.data</code> フィールドのデータを解析して JSONArray オブジェクトにします。JSONArray の各要素は JSONObject です。</p>

<pre class="prettyprint"><code>BroadcastReceiver broadcastReceiver = new BroadcastReceiver() {
    @Override
    public void onReceive(Context context, Intent intent) {
        Bundle bundle = intent.getExtras();
        String jsonData = bundle.getString(&quot;com.symbol.datawedge.data&quot;);
        try {
            JSONArray jsonArray = new JSONArray(jsonData);
        }
        catch (Exception ex)
        {
            //Check error
        }
    }
};
</code></pre>

<p>JSONArray オブジェクトの要素を反復処理して、各フィールドのデータを抽出します。</p>

<ul>
<li>JSONObject に <code>string_data</code> という名前のマッピングがある場合は、この JSONObject に文字列データが含まれていることを意味します。<code>label</code> という名前でマッピングされた値を使用して、OCR 機能に基づいて文字列データの型を識別します。結果データの抽出でサポートされているフィールド名については、<a href="#ocrresultoutput">「OCR 結果出力」</a>を参照してください。</li>

<li>JSONObject に <code>string_data</code> という名前のマッピングがある場合は、この JSONObject に画像データが含まれていることを意味します。次の手順に進み、画像データを抽出します。</li>
</ul>

<h3 id="4extractimagedatafromtheintent" class="anchor"><a class="heading-anchor" href="#4extractimagedatafromtheintent"><span></span></a>4.インテントから画像データを抽出します</h3>

<p>DataWedge コンテンツ プロバイダにアクセスするために、アプリケーション マニフェスト ファイルに次の権限が追加されていることを確認します。</p>

<pre class="prettyprint"><code>&lt;uses-permission android:name=&quot;com.symbol.datawedge.permission.contentprovider&quot; /&gt;
</code></pre>

<p><strong>重要: DataWedge アプリでは、Android 11 (API 30) によるパッケージ可視性の制限により、AndroidManifest.xml ファイルに次の <code>&lt;queries&gt;</code></strong> 要素を含める必要があります。</p>

<pre class="prettyprint"><code>    &lt;queries&gt;
        &lt;package android:name=&quot;com.symbol.datawedge&quot; /&gt;
    &lt;/queries&gt;
</code></pre>

<p>[URI] フィールドの値を使用して、DataWedge コンテンツ プロバイダにアクセスする URI を取得します。次に、ContentResolver を使用して URI を渡し、Cursor オブジェクトを取得します。Cursor オブジェクトには、次の 2 つの列があります。</p>

<table class="facelift" align="center" style="width:80%" border="1" padding="5px">
  <tbody><tr bgcolor="#dce8ef">
    <th>名前</th>
    <th>説明</th>
  </tr>

  <tr>
    <td>raw_data</td>
    <td>画像データを byte[] 形式で格納します</td>
  </tr>

  <tr>
      <td>next_data_uri</td>
      <td>残りの画像データの取得に使用する URI。残りの画像データがない場合、このフィールドは空になります。</td>
  </tr>
</tbody></table>

<p><code>raw_data</code> を読み取りそれを <code>ByteArrayOutputStream</code> オブジェクトに保存します。<code>next_data_uri</code> が空でない場合は、<code>next_data_uri</code> 列に指定されている URI から <code>raw_data</code> を読み取ります。<code>next_data_uri</code> が空になるまで、引き続き <code>raw_data</code> フィールドを読み取って値を ByteArrayOutputStream オブジェクトに格納します。これは、次のように while ループを使用して実行できます。</p>

<pre class="prettyprint"><code>String uri = jsonObject.getString(&quot;uri&quot;);
Cursor cursor = getContentResolver().query(Uri.parse(uri),null,null,null);
ByteArrayOutputStream baos = new ByteArrayOutputStream();
if(cursor != null)
{
    cursor.moveToFirst();
    baos.write(cursor.getBlob(cursor.getColumnIndex(&quot;raw_data&quot;)));
    String nextURI = cursor.getString(cursor.getColumnIndex(&quot;next_data_uri&quot;));
    while (nextURI != null &amp;&amp; !nextURI.isEmpty())
    {
        Cursor cursorNextData = getContentResolver().query(Uri.parse(nextURI),
                null,null,null);
        if(cursorNextData != null)
        {
            cursorNextData.moveToFirst();
            baos.write(cursorNextData.getBlob(cursorNextData.
                    getColumnIndex(&quot;raw_data&quot;)));
            nextURI = cursorNextData.getString(cursorNextData.
                    getColumnIndex(&quot;next_data_uri&quot;));

            cursorNextData.close();
        }

    }
    cursor.close();
}
</code></pre>

<p>すべての値が画像データ用に保存されている場合は、下の表に示す画像出力でサポートされているフィールド名 (例えば「width」、「height」など) によってマップされた値を読み取り、Bitmap オブジェクトを構築します。</p>

<p><strong>画像出力</strong></p>

<table class="facelift" style="width:85%" border="1" padding="5px">
  <tbody><tr bgcolor="#dce8ef">
    <th style="width:15%">フィールド名</th>
    <th style="width:10%">タイプ</th>
    <th style="width:60%">説明</th>
  </tr>
  <tr>
    <td>label</td>
    <td>string</td>
    <td>サンプルの型を指定する画像ラベル名。「ナンバー プレート」、「身分証明書」、「VIN」、「TIN」、「メーター」</td>
  </tr>
  <tr>
    <td>width</td>
    <td>int</td>
    <td>画像の幅 (ピクセル単位)</td>
  </tr>
  <tr>
    <td>height</td>
    <td>int</td>
    <td>画像の高さ (ピクセル単位)</td>
  </tr>
  <tr>
    <td>size</td>
    <td>int</td>
    <td>画像バッファのサイズ (ピクセル単位)</td>
  </tr>
  <tr>
    <td>stride</td>
    <td>int</td>
    <td>画像の 1 行の幅 (ピクセル単位)</td>
  </tr>
  <tr>
    <td>imageformat</td>
    <td>string</td>
    <td>サポートされている形式: Y8、YUV<br>注: YUV 形式は NV12 形式として解釈する必要があります。</td>
  </tr>
  <tr>
    <td>orientation</td>
    <td>int</td>
    <td>画像バッファの回転角度 (度単位)。値: 0、90、180、270</td>
  </tr>
</tbody></table>

<p><br></p>

<p><code>ImageProcessing</code> クラスの <code>getBitmap()</code> メソッド (下に示す) を使用して、Bitmap オブジェクトを取得します。</p>

<pre class="prettyprint"><code>int width = 0;
int height = 0;
int stride = 0;
int orientation = 0;
String imageFormat = &quot;&quot;;

width = jsonObject.getInt(&quot;width&quot;);
height = jsonObject.getInt(&quot;height&quot;);
stride = jsonObject.getInt(&quot;stride&quot;);
orientation = jsonObject.getInt(&quot;orientation&quot;);
imageFormat = jsonObject.getString(&quot;imageformat&quot;);

Bitmap bitmap = ImageProcessing.getInstance().getBitmap(baos.toByteArray(),imageFormat, orientation,stride,width, height);
</code></pre>

<p><code>Class ImageProcessing</code>:</p>

<pre class="prettyprint"><code>/*
* Copyright (C) 2018-2021 Zebra Technologies Corp
* All rights reserved.
*/
package com.zebra.idscanningapp;

import android.graphics.Bitmap;
import android.graphics.BitmapFactory;
import android.graphics.ImageFormat;
import android.graphics.Matrix;
import android.graphics.Rect;
import android.graphics.YuvImage;

import java.io.ByteArrayOutputStream;

public class ImageProcessing{

    private final String IMG_FORMAT_YUV = &quot;YUV&quot;;
    private final String IMG_FORMAT_Y8 = &quot;Y8&quot;;

    private static ImageProcessing instance = null;

    public static ImageProcessing getInstance() {

        if (instance == null) {
            instance = new ImageProcessing();
        }
        return instance;
    }

    private ImageProcessing() {
        //Private Constructor
    }

    public Bitmap getBitmap(byte[] data, String imageFormat, int orientation, int stride, int width, int height)
    {
        if(imageFormat.equalsIgnoreCase(IMG_FORMAT_YUV))
        {
            ByteArrayOutputStream out = new ByteArrayOutputStream();
            int uvStride = ((stride + 1)/2)*2;  // calculate UV channel stride to support odd strides
            YuvImage yuvImage = new YuvImage(data, ImageFormat.NV21, width, height, new int[]{stride, uvStride});
            yuvImage.compressToJpeg(new Rect(0, 0, stride, height), 100, out);
            yuvImage.getYuvData();
            byte[] imageBytes = out.toByteArray();
            if(orientation != 0)
            {
                Matrix matrix = new Matrix();
                matrix.postRotate(orientation);
                Bitmap bitmap = BitmapFactory.decodeByteArray(imageBytes, 0, imageBytes.length);
                return Bitmap.createBitmap(bitmap, 0 , 0, bitmap.getWidth(), bitmap.getHeight(), matrix, true);
            }
            else
            {
                return BitmapFactory.decodeByteArray(imageBytes, 0, imageBytes.length);
            }
        }
        else if(imageFormat.equalsIgnoreCase(IMG_FORMAT_Y8))
        {
            return convertYtoJPG_CPU(data, orientation, stride, height);
        }

        return null;
    }


    private Bitmap convertYtoJPG_CPU(byte[] data, int orientation, int stride, int height)
    {
        int mLength = data.length;
        int [] pixels = new int[mLength];
        for(int i = 0; i &lt; mLength; i++)
        {
            int p = data[i] &amp; 0xFF;
            pixels[i] = 0xff000000 | p &lt;&lt; 16 | p &lt;&lt; 8 | p;
        }
        if(orientation != 0)
        {
            Matrix matrix = new Matrix();
            matrix.postRotate(orientation);
            Bitmap bitmap = Bitmap.createBitmap(pixels, stride, height, Bitmap.Config.ARGB_8888);
            return Bitmap.createBitmap(bitmap, 0 , 0, bitmap.getWidth(), bitmap.getHeight(), matrix, true);
        }
        else
        {
            return Bitmap.createBitmap(pixels, stride, height, Bitmap.Config.ARGB_8888);
        }
    }
}
</code></pre>

<p><br></p>

<hr>

<h2 id="ocrresultoutput" class="anchor"><a class="heading-anchor" href="#ocrresultoutput"><span></span></a>OCR 結果出力</h2>

<p>スキャン結果のインテントには、<code>com.symbol.datawedge.data</code> という文字列エクストラが含まれていて、そこからデータを抽出できます。このセクションでは、各 OCR 機能に使用可能なフィールド名、特に<a href="#licenseplate">ナンバー プレート</a>と<a href="#identificationdocument">身分証明書</a>の場合に使用できる追加のフィールド名について説明します。使用方法については、<a href="#3extractstringdatafromtheintent">「インテントから文字列データを抽出する」</a>を参照してください。</p>

<h3 id="ocrresult" class="anchor"><a class="heading-anchor" href="#ocrresult"><span></span></a>OCR 結果</h3>

<table class="facelift" style="width:80%" border="1" padding="5px">
  <tbody><tr bgcolor="#dce8ef">
    <th style="width:15%">フィールド名</th>
    <th style="width:65%">説明</th>
  </tr>
  <tr>
    <td>string_data</td>
    <td>OCR ベースの機能から読み取られたテキスト データ。ナンバー プレート、車両識別番号、タイヤ識別番号、またはメーター。例外は <a href="#identificationdocument">身分証明書</a>で、多数のフィールド名を返すことができます。以下のセクションを参照してください。</td>
  </tr>
  <tr>
    <td>data_size</td>
    <td>データの長さ</td>
  </tr>
</tbody></table>

<p><br></p>

<h4 id="licenseplate" class="anchor"><a class="heading-anchor" href="#licenseplate"><span></span></a>ナンバープレート</h4>

<p>米国および EU のナンバー プレートには、以下のデータが含まれています。</p>

<ul>
<li><strong>country -</strong> ナンバー プレートが発行された国を識別します</li>

<li><strong>state -</strong>国に基づいてナンバー プレートが発行された州を識別します</li>

<li><strong>plateText -</strong> ナンバー プレートのテキストを識別します。これは数字、文字、またはその組み合わせで構成される場合があります</li>
</ul>

<p><br></p>

<h4 id="identificationdocument-1" class="anchor"><a class="heading-anchor" href="#identificationdocument-1"><span></span></a>身分証明書</h4>

<p>以下の表は、運転免許証、ID カードや健康保険証から読み取ることができるデータ フィールドを示しています。一部のフィールド名は、地域に基づいた文書では異なることがあります。</p>

<p>返されるデータは、身分証明書の内容によって異なります。フィールド名が (以下の表で) 必須に指定されている場合は、一部の身分証明書に存在しない可能性があります。このような場合、フィールド名を照会してもデータは返されません。例:</p>

<ul>
<li><strong>メキシコの投票者 ID (タイプ C) -</strong> 生年月日と文書番号が存在しません</li>

<li><strong>メキシコの投票者 ID (タイプ G) -</strong> 文書番号が存在しません</li>

<li><strong>オーストラリアの運転免許証 (NSW) -</strong> 名と姓が独立したフィールドとして存在せず、[名前] という単一のフィールドに結合されています。 <br></li>
</ul>

<p><strong>凡例:</strong></p>

<ul>
<li><font color="blue">O</font>- オプション</li>

<li><font color="red">M</font>- 必須</li>
</ul>

<table class="facelift" style="width:80%" border="1" padding="5px">
  <tbody><tr bgcolor="#dce8ef">
    <th style="width:5%">番号</th>
    <th style="width:30%; text-align:center">フィールド名</th>
    <th style="width:15%; text-align:center">運転免許証</th>
    <th style="width:15%; text-align:center">ID カード</th>
    <th style="width:15%; text-align:center">健康保険証</th>
  </tr>
  <tr>
    <td style="text-align:center">1</td>
    <td style="text-align:">additionalInformation</td>
    <td style="text-align:center">N/A</td>
    <td style="text-align:center"><font color="blue">O</font></td>
    <td style="text-align:center">N/A</td>
  </tr>
  <tr>
    <td style="text-align:center">2</td>
    <td style="text-align:">additionalInformation1</td>
    <td style="text-align:center">N/A</td>
    <td style="text-align:center"><font color="blue">O</font></td>
    <td style="text-align:center">N/A</td>
  </tr>
  <tr>
    <td style="text-align:center">3</td>
    <td style="text-align:">address</td>
    <td style="text-align:center"><font color="red">M</font></td>
    <td style="text-align:center">N/A</td>
    <td style="text-align:center">N/A</td>
  </tr>
  <tr>
    <td style="text-align:center">4</td>
    <td style="text-align:">age</td>
    <td style="text-align:center">N/A</td>
    <td style="text-align:center"><font color="blue">O</font></td>
    <td style="text-align:center">N/A</td>
  </tr>
  <tr>
    <td style="text-align:center">5</td>
    <td style="text-align:">audit</td>
    <td style="text-align:center"><font color="blue">O</font></td>
    <td style="text-align:center">N/A</td>
    <td style="text-align:center">N/A</td>
  </tr>
  <tr>
    <td style="text-align:center">6</td>
    <td style="text-align:">authority</td>
    <td style="text-align:center"><font color="blue">O</font></td>
    <td style="text-align:center"><font color="blue">O</font></td>
    <td style="text-align:center"><font color="red">M</font></td>
  </tr>
  <tr>
    <td style="text-align:center">7</td>
    <td style="text-align:">cardAccessNumber</td>
    <td style="text-align:center">N/A</td>
    <td style="text-align:center"><font color="blue">O</font></td>
    <td style="text-align:center">N/A</td>
  </tr>
  <tr>
    <td style="text-align:center">8</td>
    <td style="text-align:">cardNumber</td>
    <td style="text-align:center"><font color="blue">O</font></td>
    <td style="text-align:center">N/A</td>
    <td style="text-align:center">N/A</td>
  </tr>
  <tr>
    <td style="text-align:center">9</td>
    <td style="text-align:">categories</td>
    <td style="text-align:center"><font color="blue">O</font></td>
    <td style="text-align:center">N/A</td>
    <td style="text-align:center">N/A</td>
  </tr>
  <tr>
    <td style="text-align:center">10</td>
    <td style="text-align:">citizenship</td>
    <td style="text-align:center">N/A</td>
    <td style="text-align:center"><font color="blue">O</font></td>
    <td style="text-align:center">N/A</td>
  </tr>
  <tr>
    <td style="text-align:center">11</td>
    <td style="text-align:">cityNumber</td>
    <td style="text-align:center">N/A</td>
    <td style="text-align:center"><font color="blue">O</font></td>
    <td style="text-align:center">N/A</td>
  </tr>
  <tr>
    <td style="text-align:center">12</td>
    <td style="text-align:">class</td>
    <td style="text-align:center"><font color="blue">O</font></td>
    <td style="text-align:center">N/A</td>
    <td style="text-align:center">N/A</td>
  </tr>
  <tr>
    <td style="text-align:center">13</td>
    <td style="text-align:">conditions</td>
    <td style="text-align:center"><font color="blue">O</font></td>
    <td style="text-align:center">N/A</td>
    <td style="text-align:center">N/A</td>
  </tr>
  <tr>
    <td style="text-align:center">14</td>
    <td style="text-align:">country</td>
    <td style="text-align:center"><font color="blue">O</font></td>
    <td style="text-align:center"><font color="blue">O</font></td>
    <td style="text-align:center">N/A</td>
  </tr>
  <tr>
    <td style="text-align:center">15</td>
    <td style="text-align:">dateOfBirth</td>
    <td style="text-align:center"><font color="red">M</font></td>
    <td style="text-align:center"><font color="red">M</font></td>
    <td style="text-align:center"><font color="red">M</font></td>
  </tr>
  <tr>
    <td style="text-align:center">16</td>
    <td style="text-align:">dateOfExpiry</td>
    <td style="text-align:center"><font color="blue">O</font></td>
    <td style="text-align:center"><font color="blue">O</font></td>
    <td style="text-align:center"><font color="red">M</font></td>
  </tr>
  <tr>
    <td style="text-align:center">17</td>
    <td style="text-align:">dateOfIssue</td>
    <td style="text-align:center"><font color="red">M</font></td>
    <td style="text-align:center"><font color="blue">O</font></td>
    <td style="text-align:center">N/A</td>
  </tr>
  <tr>
    <td style="text-align:center">18</td>
    <td style="text-align:">dateOfRegistration</td>
    <td style="text-align:center">N/A</td>
    <td style="text-align:center"><font color="blue">O</font></td>
    <td style="text-align:center">N/A</td>
  </tr>
  <tr>
    <td style="text-align:center">19</td>
    <td style="text-align:">divisionNumber</td>
    <td style="text-align:center">N/A</td>
    <td style="text-align:center"><font color="blue">O</font></td>
    <td style="text-align:center">N/A</td>
  </tr>
  <tr>
    <td style="text-align:center">20</td>
    <td style="text-align:">documentDiscriminator</td>
    <td style="text-align:center"><font color="blue">O</font></td>
    <td style="text-align:center">N/A</td>
    <td style="text-align:center">N/A</td>
  </tr>
  <tr>
    <td style="text-align:center">21</td>
    <td style="text-align:">documentNumber</td>
    <td style="text-align:center"><font color="red">M</font></td>
    <td style="text-align:center"><font color="red">M</font></td>
    <td style="text-align:center"><font color="red">M</font></td>
  </tr>
  <tr>
    <td style="text-align:center">22</td>
    <td style="text-align:">duplicate</td>
    <td style="text-align:center"><font color="blue">O</font></td>
    <td style="text-align:center">N/A</td>
    <td style="text-align:center">N/A</td>
  </tr>
  <tr>
    <td style="text-align:center">23</td>
    <td style="text-align:">endorsements</td>
    <td style="text-align:center"><font color="blue">O</font></td>
    <td style="text-align:center">N/A</td>
    <td style="text-align:center">N/A</td>
  </tr>
  <tr>
    <td style="text-align:center">24</td>
    <td style="text-align:">eyes</td>
    <td style="text-align:center"><font color="blue">O</font></td>
    <td style="text-align:center">N/A</td>
    <td style="text-align:center">N/A</td>
  </tr>
  <tr>
    <td style="text-align:center">25</td>
    <td style="text-align:">familyName</td>
    <td style="text-align:center">N/A</td>
    <td style="text-align:center"><font color="blue">O</font></td>
    <td style="text-align:center">N/A</td>
  </tr>
  <tr>
    <td style="text-align:center">26</td>
    <td style="text-align:">fathersName</td>
    <td style="text-align:center">N/A</td>
    <td style="text-align:center"><font color="blue">O</font></td>
    <td style="text-align:center">N/A</td>
  </tr>
  <tr>
    <td style="text-align:center">27</td>
    <td style="text-align:">firstIssued</td>
    <td style="text-align:center"><font color="blue">O</font></td>
    <td style="text-align:center">N/A</td>
    <td style="text-align:center">N/A</td>
  </tr>
  <tr>
    <td style="text-align:center">28</td>
    <td style="text-align:">firstName</td>
    <td style="text-align:center"><font color="red">M</font></td>
    <td style="text-align:center"><font color="red">M</font></td>
    <td style="text-align:center"><font color="red">M</font></td>
  </tr>
  <tr>
    <td style="text-align:center">29</td>
    <td style="text-align:">folio</td>
    <td style="text-align:center">N/A</td>
    <td style="text-align:center"><font color="blue">O</font></td>
    <td style="text-align:center">N/A</td>
  </tr>
  <tr>
    <td style="text-align:center">30</td>
    <td style="text-align:">fullName</td>
    <td style="text-align:center">N/A</td>
    <td style="text-align:center"><font color="blue">O</font></td>
    <td style="text-align:center">N/A</td>
  </tr>
  <tr>
    <td style="text-align:center">31</td>
    <td style="text-align:">hair</td>
    <td style="text-align:center"><font color="blue">O</font></td>
    <td style="text-align:center">N/A</td>
    <td style="text-align:center">N/A</td>
  </tr>
  <tr>
    <td style="text-align:center">32</td>
    <td style="text-align:">高さ</td>
    <td style="text-align:center"><font color="blue">O</font></td>
    <td style="text-align:center"><font color="blue">O</font></td>
    <td style="text-align:center">N/A</td>
  </tr>
  <tr>
    <td style="text-align:center">33</td>
    <td style="text-align:">lastName</td>
    <td style="text-align:center"><font color="red">M</font></td>
    <td style="text-align:center"><font color="red">M</font></td>
    <td style="text-align:center"><font color="red">M</font></td>
  </tr>
  <tr>
    <td style="text-align:center">34</td>
    <td style="text-align:">licenseClass</td>
    <td style="text-align:center">N/A</td>
    <td style="text-align:center"><font color="blue">O</font></td>
    <td style="text-align:center">N/A</td>
  </tr>
  <tr>
    <td style="text-align:center">35</td>
    <td style="text-align:">licenseType</td>
    <td style="text-align:center">N/A</td>
    <td style="text-align:center"><font color="blue">O</font></td>
    <td style="text-align:center">N/A</td>
  </tr>
  <tr>
    <td style="text-align:center">36</td>
    <td style="text-align:">municipalityNumber</td>
    <td style="text-align:center">N/A</td>
    <td style="text-align:center"><font color="blue">O</font></td>
    <td style="text-align:center">N/A</td>
  </tr>
  <tr>
    <td style="text-align:center">37</td>
    <td style="text-align:">name</td>
    <td style="text-align:center"><font color="red">M</font></td>
    <td style="text-align:center">N/A</td>
    <td style="text-align:center">N/A</td>
  </tr>
  <tr>
    <td style="text-align:center">38</td>
    <td style="text-align:">nationalId</td>
    <td style="text-align:center">N/A</td>
    <td style="text-align:center"><font color="blue">O</font></td>
    <td style="text-align:center">N/A</td>
  </tr>
  <tr>
    <td style="text-align:center">39</td>
    <td style="text-align:">nationality</td>
    <td style="text-align:center">N/A</td>
    <td style="text-align:center"><font color="blue">O</font></td>
    <td style="text-align:center"><font color="red">M</font></td>
  </tr>
  <tr>
    <td style="text-align:center">40</td>
    <td style="text-align:">office</td>
    <td style="text-align:center"><font color="blue">O</font></td>
    <td style="text-align:center">N/A</td>
    <td style="text-align:center">N/A</td>
  </tr>
  <tr>
    <td style="text-align:center">41</td>
    <td style="text-align:">parentsGivenName</td>
    <td style="text-align:center">N/A</td>
    <td style="text-align:center"><font color="blue">O</font></td>
    <td style="text-align:center">N/A</td>
  </tr>
  <tr>
    <td style="text-align:center">42</td>
    <td style="text-align:">parish</td>
    <td style="text-align:center"><font color="blue">O</font></td>
    <td style="text-align:center">N/A</td>
    <td style="text-align:center">N/A</td>
  </tr>
  <tr>
    <td style="text-align:center">43</td>
    <td style="text-align:">personalNumber</td>
    <td style="text-align:center"><font color="blue">O</font></td>
    <td style="text-align:center"><font color="blue">O</font></td>
    <td style="text-align:center"><font color="red">M</font></td>
  </tr>
  <tr>
    <td style="text-align:center">44</td>
    <td style="text-align:">placeAndDateOfBirth</td>
    <td style="text-align:center">N/A</td>
    <td style="text-align:center"><font color="blue">O</font></td>
    <td style="text-align:center">N/A</td>
  </tr>
  <tr>
    <td style="text-align:center">45</td>
    <td style="text-align:">placeOfBirth</td>
    <td style="text-align:center"><font color="blue">O</font></td>
    <td style="text-align:center"><font color="blue">O</font></td>
    <td style="text-align:center">N/A</td>
  </tr>
  <tr>
    <td style="text-align:center">46</td>
    <td style="text-align:">previousType</td>
    <td style="text-align:center"><font color="blue">O</font></td>
    <td style="text-align:center">N/A</td>
    <td style="text-align:center">N/A</td>
  </tr>
  <tr>
    <td style="text-align:center">47</td>
    <td style="text-align:">restrictions</td>
    <td style="text-align:center"><font color="blue">O</font></td>
    <td style="text-align:center">N/A</td>
    <td style="text-align:center">N/A</td>
  </tr>
  <tr>
    <td style="text-align:center">48</td>
    <td style="text-align:">revoked</td>
    <td style="text-align:center"><font color="blue">O</font></td>
    <td style="text-align:center">N/A</td>
    <td style="text-align:center">N/A</td>
  </tr>
  <tr>
    <td style="text-align:center">49</td>
    <td style="text-align:">sex</td>
    <td style="text-align:center"><font color="blue">O</font></td>
    <td style="text-align:center"><font color="blue">O</font></td>
    <td style="text-align:center">N/A</td>
  </tr>
  <tr>
    <td style="text-align:center">50</td>
    <td style="text-align:">stateNumber</td>
    <td style="text-align:center">N/A</td>
    <td style="text-align:center"><font color="blue">O</font></td>
    <td style="text-align:center">N/A</td>
  </tr>
  <tr>
    <td style="text-align:center">51</td>
    <td style="text-align:">supportNumber</td>
    <td style="text-align:center">N/A</td>
    <td style="text-align:center"><font color="blue">O</font></td>
    <td style="text-align:center">N/A</td>
  </tr>
  <tr>
    <td style="text-align:center">52</td>
    <td style="text-align:">type</td>
    <td style="text-align:center"><font color="blue">O</font></td>
    <td style="text-align:center">N/A</td>
    <td style="text-align:center">N/A</td>
  </tr>
  <tr>
    <td style="text-align:center">53</td>
    <td style="text-align:">version</td>
    <td style="text-align:center"><font color="blue">O</font></td>
    <td style="text-align:center">N/A</td>
    <td style="text-align:center">N/A</td>
  </tr>
  <tr>
    <td style="text-align:center">54</td>
    <td style="text-align:">verticalNumber</td>
    <td style="text-align:center"><font color="blue">O</font></td>
    <td style="text-align:center">N/A</td>
    <td style="text-align:center">N/A</td>
  </tr>
  <tr>
    <td style="text-align:center">55</td>
    <td style="text-align:">voterId</td>
    <td style="text-align:center">N/A</td>
    <td style="text-align:center"><font color="blue">O</font></td>
    <td style="text-align:center">N/A</td>
  </tr>
  <tr>
    <td style="text-align:center">56</td>
    <td style="text-align:">weight</td>
    <td style="text-align:center"><font color="blue">O</font></td>
    <td style="text-align:center">N/A</td>
    <td style="text-align:center">N/A</td>
  </tr>

</tbody></table>

<p><br></p><!--

**OCR Result:**


<table class="facelift" style="width:50%" border="1" padding="5px">
  <tr bgcolor="#dce8ef">
    <th style="width:15%">Field Name</th>
    <th style="width:35%">Description</th>
  </tr>
  <tr>
    <td>Result</td>
    <td>Text data read from the Vehicle Identification Number</td>
  </tr>
  <tr>
    <td>String Length</td>
    <td>Length of the text data</td>
  </tr>
</table>


<br />
--><hr>

<p>関連ガイド:</p>

<ul>
<li><a href="../../input/workflow">ワークフロー入力</a></li>

<li><a href="../../output/intent">インテント出力</a></li>
</ul><p></p>
                                        


                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                </div><!--/.col-sm-6--></div>
            </section>
        </div>
    </section>    

<div class="modal fade" id="basicModal" tabindex="-1" role="dialog" aria-labelledby="basicModal" aria-hidden="true" data-backdrop="true">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal" aria-hidden="true">X</button>
					</div>
					<div class="modal-body">
						<div id="modalImg">
						
						</div>
					</div>
			</div>
		  </div>
		</div></div>
         <footer id="footer">
            <div class="container-fluid">
                <div class="row">
                    <div class="col-sm-10">ZEBRA および図案化された Zebra ヘッドは、Zebra Technologies Corp. の商標であり、世界各地の多数の法域で登録されています。その他のすべての商標は、該当する各所有者が権利を有しています。©2023 Zebra Technologies Corp. およびその関連会社。<br><a href="https://www.zebra.com/us/en/about-zebra/company-information/legal.html">法務</a> | <a href="https://www.zebra.com/us/en/about-zebra/company-information/legal/terms-of-use.html">利用規約</a> | <a href="https://www.zebra.com/us/en/about-zebra/company-information/legal/privacy-statement.html">プライバシー ポリシー</a></div>
                    <div class="col-sm-2"><!--
                        <ul class="social-icons">
                            <li><a href="http://www.facebook.com/pages/Zebra-Technologies/107703715989073"><i class="fa fa-facebook"></i></a></li>
                            <li><a href="https://twitter.com/ZebraDevs"><i class="fa fa-twitter"></i></a></li>
                            <li><a href="http://www.youtube.com/zebratechnologies/"><i class="fa fa-youtube"></i></a></li>
                            <li><a href="https://www.linkedin.com/groups?home=&gid=3220074&trk=anet_ug_hm&goback=%2Egmr_3220074"><i class="fa fa-linkedin"></i></a></li>
                            <li><a href="https://github.com/developer-zebra"><i class="fa fa-github"></i></a></li>
                        </ul>
                        --></div>
                </div>
            </div>
        </footer><!--/#footer--><script src="/js/bootstrap.min.js"></script>
    <script src="/js/owl.carousel.min.js"></script>
    <script src="/js/mousescroll.js"></script>
    <script src="/js/smoothscroll.js"></script>
    <script src="/js/jquery.prettyPhoto.js"></script>
    <script src="/js/jquery.isotope.min.js"></script>
    <script src="/js/jquery.inview.min.js"></script>
    <script src="/js/wow.min.js"></script>
    <script src="/js/bootstrap-treenav.min.js"></script>
    <script src="/js/prettify.js"></script>
    <script src="/js/zepto.js"></script>
    <script src="/js/jquery.waterfall.js"></script>   
    <script src="/js/main.js"></script>

<script type="text/javascript">
  (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
  (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
  e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
  })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

  _st('install','zRzEsAUhWTTkrdEN2YfA','2.0.0');
</script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-72584442-1', 'auto');
  ga('send', 'pageview');

</script><!-- 3/1/19 - comment out per Rob
<script>
    ChatraID = 'QDvZ76min4DhLW5vJ';
    (function(d, w, c) {
        var n = d.getElementsByTagName('script')[0],
            s = d.createElement('script');
        w[c] = w[c] || function() {
            (w[c].q = w[c].q || []).push(arguments);
        };
        s.async = true;
        s.src = (d.location.protocol === 'https:' ? 'https:': 'http:')
            + '//call.chatra.io/chatra.js';
        n.parentNode.insertBefore(s, n);
    })(document, window, 'Chatra');
</script>   
--></body></html>