<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="description" content="Programmers can use these scanner Software Development Kits to build applications.">
        <meta name="author" content="Zebra Technologies">
        <meta name="google-site-verification" content="i4B78BrWnNy8ShJwe5feRW3jO3HE6gfYlYqYbxfl8yY">
        <meta name="msvalidate.01" content="6B651B00161BCE79B8950AC09D5C4C75">
        <meta title="Scanner SDK for Linux">
        <title>Scanner SDK for Linux - Sample Source Code - Zebra Technologies</title>
        <!-- core CSS -->
        <link href="/css/bootstrap.min.css" rel="stylesheet">
        <link href="/css/font-awesome.min.css" rel="stylesheet">
        <link href="/css/animate.min.css" rel="stylesheet">
        <link href="/css/owl.carousel.css" rel="stylesheet">
        <link href="/css/owl.transitions.css" rel="stylesheet">
        <link href="/css/prettyPhoto.css" rel="stylesheet">
        <link href="/css/main.css" rel="stylesheet">
        <link href="/css/responsive.css" rel="stylesheet">
        <link href="/css/prettify.css" rel="stylesheet">
        <link href="/css/bootstrap-treenav.min.css" rel="stylesheet">
        <link href="../../dcs_styles.css" rel="stylesheet">
        <!--[if lt IE 9]>
        <script src="js/html5shiv.js"></script>
        <script src="js/respond.min.js"></script>
        <![endif]--> 
        <script src="//load.sumome.com/" data-sumo-site-id="699cb66cf4dc59352efb45705526d15cbe314e1cd43f7761b94d96f3cf7338e8" async="async"></script>
        <link rel="shortcut icon" href="/favicon.ico">
        <script src="/js/jquery.js"></script>
    </head>
    <body id="home" class="homepage" data-spy="scroll" data-offset="100" data-target="#toc">
        <header id="header">
            <nav id="main-menu" class="navbar navbar-default navbar-fixed-top" role="banner">
                <div class="container-fluid">
                    <div class="navbar-header">
                        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                            <span class="sr-only">Toggle navigation</span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </button>
                        <a class="navbar-brand" href="/">
                            <img src="/images/logo.png" alt="logo" style="max-height:66px;float: inherit; padding-right: 3px;">
                        </a> 
                    </div>
                    <div class="collapse navbar-collapse navbar-left">
                        <ul class="nav navbar-nav">
                            <li class="navbar-text pull-left"><strong>TechDocs</strong></li>
                            <li>
                                <a href="/dcs/scanners">Barcode Scanner Tools</a>
                            </li>
                            <p class="navbar-text">Scanner SDK for Linux</p>
                        </ul>
                    </div>
                    <div class="collapse navbar-collapse navbar-right">
                        <ul class="nav navbar-nav">
                            <li>
                                <a href="/dcs/scanners/sdk-linux/about">About</a>
                            </li>
                            <li>
                                <a href="/dcs/scanners/sdk-linux/setup/">Setup</a>
                            </li>
                            <li>
                                <a href="/dcs/scanners/sdk-linux/utilities/">Test Utilities</a>
                            </li>
                            <li>
                                <a href="/dcs/scanners/sdk-linux/samples/">Sample Source Code</a>
                            </li>
                            <li>
                                <a href="/dcs/scanners/sdk-linux/remote-mgt/">JPOS Remote Management Tool</a>
                            </li>
                            <li>
                                <a href="/dcs/scanners/sdk-linux/api">APIs</a>
                            </li>
                            <!--<li>
                                <a href="/dcs/scanners/sdk-linux/search">
                                    <i class="fa fa-search"></i>
                                </a>
                            </li>-->
                        </ul>
                    </div>
                </div><!--/.container-->
            </nav><!--/nav-->
        </header><!--/header-->
        <div class="container-fluid">
            <section id="blog">
                <div class="">
                    <section class="content-with-sidebar">
                        <div class="row">
                            <div class="col-sm-3 hidden-sm hidden-xs" id="sidebar">
                                <nav id="toc" data-toggle="toc" data-spy="affix" style="height: 75%; max-width: 225px; overflow-y: auto; ">
                                    <ul class="nav">
                                        <li><strong>Sample Source Code</strong></li>
                                    </ul>
                                </nav>                    
                                <script type="text/javascript">
                                    $(document).ready(function() {
                        	            $( "#btn_SaveSmartDocOptions" ).click(function() {
                      			            console.log('Saving Options');
                      			            $("#modal-smartdocs").modal({show: false});
                    		            });
                        	            $( "#btn_SaveSmartDocOptions" ).click(function() {
                      			            console.log('Clearing Options');
                      			            $("#modal-smartdocs").modal({show: false});
                    		            });
                                    });
                                </script>
                                <link rel="stylesheet" href="https://cdn.rawgit.com/afeld/bootstrap-toc/v0.3.0/dist/bootstrap-toc.min.css">
                                <script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v0.3.0/dist/bootstrap-toc.min.js"></script>
                                <script type="text/javascript">
                                    $(document).ready(function() {                    
                                    });
                                </script>
                            </div>                
                            <div class="col-sm-9 ">
                                <div class="row">
                                    <div class="col-sm-12">
                                        <section id="cta" class="wow fadeIn">
                                            <div class="">
                                                <h1 id="samplesourcecode" class="anchor">
                                                    <a class="heading-anchor" href="#samplesourcecode"><span></span></a>Sample Source Code
                                                </h1>
                                            </div>
                                        </section>                    
                                    </div>
                                </div>
                                <div id="mainContent" class="row">
                                    <div class="col-sm-12">
                                        <div class="blog-post blog-large wow fadeInLeft" data-wow-duration="300ms" data-wow-delay="0ms">
                                            <!-- Start of guide -->
                                            <div class="service-box wow fadeInRight">
                                                <div class="">
                                                    <h2 id="overview" class="anchor"><a class="heading-anchor" href="#overview"><span></span></a>Overview</h2>
                                                    <p>This chapter describes how to use the Zebra Scanner SDK, and includes code snippets from the sample application.</p>
                                                    <p><strong>NOTE</strong> For a list of a scanner's supported attribute (parameter) numbers and definitions, refer to the scanner Product Reference Guide, available on the Zebra Support website: <a href="http://www.zebra.com/support" target="_blank">http://www.zebra.com/support</a>. Attributes include configuration parameters, monitored data, and asset tracking information.</p>
                                                    
                                                    <hr>

                                                    <h2 id="sdksampleutilities" class="anchor"><a class="heading-anchor" href="#sdksampleutilities"><span></span></a>SDK Sample Utilities</h2>
                                                    
                                                    <p>The Zebra Scanner SDK includes the following sample utilities that demonstrate SDK functionalities. This section describes how to use the utilities to gain an understanding of the SDK.</p>
                                                    <ul>
                                                        <li>Zebra Scanner SDK C++ GUI Demonstration Application, GTK (see <a href="../utilities/#scannersdkcppsampleapplication">Scanner SDK C++ GTK-based Sample Application</a>)</li>
                                                        <li>Zebra Scanner SDK C++ Console Sample Application, Commandline</li>
                                                    </ul>

                                                    <h3 id="linuxsdkconsoleapplication" class="anchor"><a class="heading-anchor" href="#linuxsdkconsoleapplication"><span></span></a>Developing a Console Application Using zebra-scanner-devel and Libraries</h3>

                                                    <p>zebra-scanner-sdk main packages include a development package that contains header files to access CoreScanner API calls, as well as source code for a sample application. The sample application can be modified and compiled using the make file to create a new application. Include a path for header files and LD_FLAGS.</p>

                                                    <p><strong>NOTE</strong> The sample application demonstrates how to develop an application for Zebra scanner drivers.</p>

                                                    <em><p><strong>Table</strong> Installation Locations for Sample Application, Development Resources, and Shared Libraries</p></em>
                                                    <table class="hovertable">
                                                        <tr>
                                                            <th>Application Type</th>
                                                            <th>Installation Location</th>
                                                            <th>File</th>
                                                        </tr>
                                                        <tr>
                                                            <td rowspan="6">Sample application</td>
                                                            <td rowspan="2">/usr/share/zebra-scanner/samples/co nsole-app</td>
                                                            <td>Makefile</td>
                                                        </tr>
                                                        <tr>
                                                            <td>ConsoleApplication</td>
                                                        </tr>
                                                        <tr>
                                                            <td rowspan="2">/usr/share/zebra-scanner/samples/co nsole-app/include</td>
                                                            <td>ConsoleSampleEventListener.h</td>
                                                        </tr>
                                                        <tr>
                                                            <td>ConsoleMain.h</td>
                                                        </tr>
                                                        <tr>
                                                            <td rowspan="2">/usr/share/zebra-scanner/samples/co nsole-app/src</td>
                                                            <td>ConsoleSampleEventListener.cpp</td>
                                                        </tr>
                                                        <tr>
                                                            <td>ConsoleMain.cpp</td>
                                                        </tr>
                                                        <tr>
                                                            <td rowspan="4">Development files for uPOS applications, files are installed by zebra-scanner-devel package</td>
                                                            <td rowspan="4">/usr/include/zebra-scanner</td>
                                                            <td>CsBarcodeTypes.h</td>
                                                        </tr>
                                                        <tr>
                                                            <td>CsUserDefs.h</td>
                                                        </tr>
                                                        <tr>
                                                            <td>CsIEventListenerXml.h</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Cslibcorescanner_xml.h</td>
                                                        </tr>
                                                        <tr>
                                                            <td rowspan="20">CoreScanner shared libraries</td>
                                                            <td rowspan="20">/usr/lib/zebra-scanner/corescanner</td>
                                                            <td>libcs-iudev.so.4.0.0</td>
                                                        </tr>
                                                        <tr>
                                                            <td>libcs-comm.so.4.0.0</td>
                                                        </tr>
                                                        <tr>
                                                            <td>libcs-common.so.4.0.0</td>
                                                        </tr>
                                                        <tr>
                                                            <td>libcscl-snapi.so.4.0.0</td>
                                                        </tr>
                                                        <tr>
                                                            <td>libcs-client.so.4.0.0</td>
                                                        </tr>
                                                        <tr>
                                                            <td>libcs-clientscanner.so.4.0.0</td>
                                                        </tr>
                                                        <tr>
                                                            <td>libcs-clientscale.so.4.0.0</td>
                                                        </tr>
                                                        <tr>
                                                            <td>libcscl-ibmtt.so.4.0.0</td>
                                                        </tr>
                                                        <tr>
                                                            <td>libcscl-ibmhh.so.4.0.0</td>
                                                        </tr>
                                                        <tr>
                                                            <td>libcscl-hidkb.so.4.0.0</td>
                                                        </tr>
                                                        <tr>
                                                            <td>libcs-client.so</td>
                                                        </tr>
                                                        <tr>
                                                            <td>libcs-clientscale.so</td>
                                                        </tr>
                                                        <tr>
                                                            <td>libcs-clientscanner.so</td>
                                                        </tr>
                                                        <tr>
                                                            <td>libcs-comm.so</td>
                                                        </tr>
                                                        <tr>
                                                            <td>libcs-common.so</td>
                                                        </tr>
                                                        <tr>
                                                            <td>libcs-iudev.so</td>
                                                        </tr>
                                                        <tr>
                                                            <td>libcscl-hidkb.so</td>
                                                        </tr>
                                                        <tr>
                                                            <td>libcscl-snapi.so</td>
                                                        </tr>
                                                        <tr>
                                                            <td>libcscl-ibmtt.so</td>
                                                        </tr>
                                                        <tr>
                                                            <td>libcscl-ibmhh.so</td>
                                                        </tr>
                                                    </table><br />

                                                    <p>An application should extend the IEventListenerXml class from the zebra-scanner-devel package. IEventListenerXml is an abstract class with pure virtual functions for all event handling. The included sample application implements all event handling methods. Additional methods support required features, and each method calls the ExecCommand() method after preparing input XML.</p>

                                                    <p>For example, ConsoleSampleEventListener.h is implemented in the IEventListenerXml class of the Console Application.</p>

                                                    <p>A developer implements all pure abstract methods inside the sample application's class SampleEventListener, which is derived from the IEventListenerXML interface. The SampleEventListener class can then be instantiated inside the main method. The following API calls are used for further development:</p>

                                                    <ul>
                                                        <li>Open</li>
                                                        <li>GetScanners</li>
                                                        <li>ExecCommand</li>
                                                        <li>Close</li>
                                                    </ul>
                                                    
                                                    <hr>

                                                    <h2 id="sourcecodefortheconsoleapplication" class="anchor"><a class="heading-anchor" href="#sourcecodefortheconsoleapplication"><span></span></a>Source Code for the Console Application</h2>

                                                    <h3 id="classsampleeventlistner" class="anchor"><a class="heading-anchor" href="#classsampleeventlistner"><span></span></a>Class SampleEventListener (ConsoleSampleEventListener.h)</h3>

<pre class="prettyprint">
<code>
/*
* ©2015 Symbol Technologies LLC. All rights reserved.
*/

#ifndef SAMPLEEVENTLISTENER_H_ 
#define SAMPLEEVENTLISTENER_H_

#include "CsIEventListenerXml.h" 
#include "CsUserDefs.h"
#include "CsBarcodeTypes.h" 
#include "Cslibcorescanner_xml.h"

#include &lt;iostream> 
    
using namespace std;

class SampleEventListener : public IEventListenerXml
{
public:
    explicit SampleEventListener(); virtual ~SampleEventListener();
    virtual void OnImageEvent( short eventType, 
        int size, 
        short imageFormat,
        char* sfimageData, 
        int dataLength,
        std::string& pScannerData
        );

    virtual void OnVideoEvent( short eventType, 
        int size, 
        char* sfvideoData,
        int dataLength, 
        std::string& pScannerData
        );

    virtual void OnBarcodeEvent( short eventType, std::string& pscanData ); 
    virtual void OnPNPEvent( short eventType, std::string ppnpData );
    virtual void OnScannerNotification( short notificationType, std::string& pScannerData);
    virtual void OnScanRMDEvent( short eventType, std::string& prmdData ); 
    virtual void OnDisconnect();

    void Open();
    void GetScanners();
    void GetAttribute();
    void DiscoverTunnelingDevice();
    void GetAllAttributes();
    void SetAttribute();
    void SetAttributeStore();
    void SetZeroWeight();
    void Close();

    void RebootScanner();
    void ExecuteActionCommand(CmdOpcode opCode);
    void GetDeviceTopology();
    void FirmwareUpdate();
    void StartNewFirmware();
    void AbortFirmwareUpdate();
};

#endif /* SAMPLEEVENTLISTENER_H_ */                                                            
</code>
</pre>

                                                        <h3 id="classsampleeventlistnerdefinitions" class="anchor"><a class="heading-anchor" href="#classsampleeventlistnerdefinitions"><span></span></a>Class SampleEventListener Definitions/Implementation (ConsoleSampleEventListener.cpp)</h3>

<pre class="prettyprint">
<code>
/*
* ©2015 Symbol Technologies LLC. All rights reserved.
*/

#include "ConsoleSampleEventListener.h"
#include &lt;stdlib.h>

/**
* Default constructor
*/ SampleEventListener::SampleEventListener()
{

}

/**
* distructor
*/ SampleEventListener::~SampleEventListener()

{
Close();
}

/**
* Implementation of open()
*/
void SampleEventListener::Open()
{
    StatusID status;

    ::Open(this, SCANNER_TYPE_ALL, &status); std::string inXml = "&lt;inArgs>&lt;cmdArgs>&lt;arg-int>7&lt;/arg-int>&lt;arg-int>1,2,4,8,16,32,128&lt;/arg-int>&lt;/cmdArgs>&lt;/inArgs>";
    std::string outXml;
    ::ExecCommand(CMD_REGISTER_FOR_EVENTS, inXml, outXml, &status);
}

/**
* implementation for GetScanners() method
*/
void SampleEventListener::GetScanners()
{
    unsigned short count;
    vector<unsigned int> list;
    string outXml;
    StatusID eStatus;

    ::GetScanners(&count, &list, outXml, &eStatus);

    cout << "GetScanners ******* Scanner Count: " << count << endl; cout << outXml << endl;
}

/**
* Implementation of GetDeviceTopology()
*/
void SampleEventListener::GetDeviceTopology()
{
    string inXml;
    string outXml;
    StatusID sId;
    StatusID eStatus;

    cout << "GetDeviceTopology" << endl;
    ::ExecCommand(CMD_GET_DEVICE_TOPOLOGY, inXml, outXml, &sId);

    cout << "GetDeviceTopology" << endl; cout << outXml << endl;
}

/**
* Implementation of GetAttribute()method
*/
void SampleEventListener::GetAttribute()
{
    cout << "================================" << endl;
    cout << "GetAttribute " << endl; 
    std::string scannerID = "";
    
    cout << "Enter Scanner ID" << endl;
    cin >> scannerID;
    
    cout << "Enter attribute number or comma separated attribute numbers : " ;
    std::string attribute_number = "";
    cin >> attribute_number;

    std::string inXml = "&lt;inArgs>&lt;scannerID>" + 
                        scannerID +
                        "&lt;/scannerID>&lt;cmdArgs>&lt;arg-xml>&lt;attrib_list>" +
                        attribute_number + 
                        "&lt;/attrib_list>&lt;/arg-xml>&lt;/cmdArgs>&lt;/inArgs>";

    cout << "In XML : " << inXml << endl << endl; StatusID sId;
    std::string outXml;
    ::ExecCommand(CMD_RSM_ATTR_GET, inXml, outXml, &sId);

    cout << "Out XML : " << outXml << endl;
    cout << "================================" << endl;
}

/**
* Implementation of GetAllAttributes()method
*/
void SampleEventListener::GetAllAttributes()
{
    std::string scannerID = "";
    std::string subscannerID = "";
    cout << "================================" << endl;
    cout << "Enter scanner ID: ";
    cin >> scannerID;

    std::string inXml = "<inArgs><scannerID>"+scannerID+"</scannerID></inArgs>"; 
    
    cout << "InXML : " << inXml << endl;
    StatusID sId;
    std::string outXml;

    ::ExecCommand(CMD_RSM_ATTR_GETALL, inXml, outXml, &sId);

    cout << "Out XML" << outXml << endl;
    cout << "================================" << endl;
}

void SampleEventListener::DiscoverTunnelingDevice()
{
    ::RefreshDevicelTopology();
}

/**
* Implementation of SetAttribute()method
*/
void SampleEventListener::SetAttribute()
{
    cout << "================================" << endl;
    cout << "GetAttribute " << endl; 
    std::string scannerID = "";

    cout << "Enter scanner ID : " << endl;
    cin >> scannerID;

    std::string attributeNumber = "";
    cout << "Enter attribute number : " << endl;
    cin >> attributeNumber;

    std::string dataType = "";
    cout << "Enter data type : " << endl;
    cin >> dataType;

    std::string attributeValue = "";
    cout << "Enter attribute value : " << endl; 
    cin >> attributeValue;

    std::string inXml = "&lt;inArgs>&lt;scannerID>"+ 
                        scannerID +
                        "&lt;/scannerID>&lt;cmdArgs>&lt;arg-xml>&lt;attrib_list>&lt;attribute>&lt;id>" +
                        attributeNumber +
                        "&lt;/id>&lt;datatype>" + dataType + "&lt;/datatype>&lt;value>" + attributeValue +
                        "&lt;/value>&lt;/attribute>&lt;/attrib_list>&lt;/arg-xml>&lt;/cmdArgs>&lt;/inArgs>";

    cout << "In XML : " << inXml << endl << endl;
    StatusID sId;
    std::string outXml;
    ::ExecCommand(CMD_RSM_ATTR_SET, inXml, outXml, &sId);
    cout << "Out XML : " << outXml << endl;
    cout << "================================" << endl;
}

/**
* Implementation of SetAttributeStore() method
*/
void SampleEventListener::SetAttributeStore()
{
    cout << "================================" << endl;
    cout << "GetAttribute " << endl;
    
    std::string scannerID = "";
    cout << "Enter scanner ID : " << endl;
    cin >> scannerID;

    std::string attributeNumber = "";
    cout << "Enter attribute number : " << endl;
    cin >> attributeNumber;

    std::string dataType = "";
    cout << "Enter data type : " << endl;
    cin >> dataType;

    std::string attributeValue = "";
    cout << "Enter attribute value : " << endl;
    cin >> attributeValue;

    std::string inXml = "&lt;inArgs>&lt;scannerID>" + 
                        scannerID +
                        "&lt;/scannerID>&lt;cmdArgs>&lt;arg-xml>&lt;attrib_list>&lt;attribute>&lt;id>" +
                        attributeNumber +
                        "&lt;/id>&lt;datatype>" + dataType +
                        "&lt;/datatype>&lt;value>" + attributeValue + "&lt;/value>&lt;/attribute>&lt;/attrib_list>&lt;/arg-xml>&lt;/cmdArgs>&lt;/inArgs>";

    cout << "In XML : " << inXml << endl << endl;
    StatusID sId;
    std::string outXml;
    ::ExecCommand(CMD_RSM_ATTR_STORE, inXml, outXml, &sId); 
    cout << "Out XML : " << outXml << endl;
    cout << "================================" << endl;
}

void SampleEventListener::SetZeroWeight()
{
    std::string inXml = "&lt;inArgs>&lt;scannerID>1&lt;/scannerID>&lt;cmdArgs>&lt;arg-xml>&lt;attrib_list>&lt;attribute>&lt;id>6019&lt;/id>&lt;datatype>X&lt;/datatype>&lt;value>0&lt;/value>&lt;/attribute>&lt;/attrib_list>&lt;/arg-xml>&lt;/cmdArgs>&lt;/inArgs>";

    cout << "In XML : " << inXml << endl << endl;
    StatusID sId;
    std::string outXml;
    ::ExecCommand(CMD_RSM_ATTR_SET, inXml, outXml, &sId);
    cout << "Out XML : " << outXml << endl;
}

void SampleEventListener::Close()
{
    StatusID status;
    ::Close(0, &status);
}

void SampleEventListener::OnImageEvent( short eventType, int size, short imageFormat, char* sfimageData, int dataLength, std::string& pScannerData )
{
    cout << "OnImageEvent" << endl;
}

void SampleEventListener::OnVideoEvent( short eventType, int size, char* sfvideoData, int dataLength, std::string& pScannerData )
{
    cout << "OnVideoEvent" << endl;
}

void SampleEventListener::OnPNPEvent( short eventType, std::string ppnpData )
{
    string str;
    if (eventType == SCANNER_ATTACHED) 
    {
        str = ppnpData;
    } 
    else if (eventType == SCANNER_DETACHED) 
    { 
        str =	ppnpData;
    } 
    else 
    {
        str = " UNKNOWN PNP Event ";
    }
    cout << str << endl;
}

void SampleEventListener::OnScannerNotification( short notificationType, std::string& pScannerData )
{
    cout << endl << "Scanner event data: " << pScannerData << endl;
    cout << "OnScannerNotification" << endl;
}

void SampleEventListener::OnScanRMDEvent( short eventType, std::string& prmdData )
{
    cout << "OnScanRMDEvent" << endl; cout << "Out XML " << endl;
    cout << prmdData << endl;
}

/*
* OnDisconnect event receives when Corescanner service disconnects from client library.
* This is the implementation of virtual method OnDisconnect() will execute whenever OnDisconnect event received
*/
void SampleEventListener::OnDisconnect()
{
    cout << "OnDisconnect" << endl;
}

void SampleEventListener::OnBarcodeEvent(short int eventType, std::string & pscanData)
{
    cout << "Barcode Detected" << endl;
    cout << "Out XML" << endl;
    cout << pscanData << endl;
}

void SampleEventListener::RebootScanner()
{

}

void SampleEventListener::FirmwareUpdate()
{
    std::string inXml;
    std::string outXml;
    std::string datFilePath;
    StatusID sId;
    StatusID eStatus;
    std::string scannerID;
    std::string bulkOption;

    cout << "================================" << endl;
    std::cout << "FirmwareUpdate" << std::endl;
    std::cout << "Enter Scanner ID: " << std::endl;
    std::cin >> scannerID;
    std::cout << "Enter Firmware DAT file path: " << std::endl; std::cin >> datFilePath;
    std::cout << "Enter USB communication mode 1=hid, 2=bulk : ";
    std::cin >> bulkOption;

    inXml = "&lt;inArgs>&lt;scannerID>" + scannerID + "&lt;/scannerID>&lt;cmdArgs>&lt;arg-string>" + datFilePath + "&lt;/arg-string>&lt;arg-int>" + bulkOption + "&lt;/arg-int>&lt;/cmdArgs>&lt;/inArgs>";
    cout << "InXML : " << inXml << endl;

    ::ExecCommand(CMD_DEVICE_UPDATE_FIRMWARE, inXml, outXml, &sId);

    cout << "================================" << endl;
    cout << outXml << endl;
}

void SampleEventListener::FirmwareUpdateFromPlugin()
{
    std::string inXml;
    std::string outXml;
    std::string pluginFilePath="";
    StatusID sId;
    StatusID eStatus;
    std::string scannerID;
    std::string bulkOption;

    cout << "================================" << endl;
    std::cout << "FirmwareUpdate From Plugin." << std::endl;
    std::cout << "Enter Scanner ID: " << std::endl;
    std::cin >> scannerID;
    std::cout << "Enter Firmware Pugin file path: " << std::endl;

    while ( pluginFilePath.size() < 4 )
    {
        std::getline(std::cin, pluginFilePath);
    }

    if ( !(pluginFilePath.substr(pluginFilePath.find_last_of(".")+ 1) == "SCNPLG") )
    {
        std::cout << "Please Enter a file with extension .SCNPLG." << std::endl;
        return;
    }

    std::cout << "Enter USB communication mode 1=hid, 2=bulk : ";
    std::cin >> bulkOption;

    inXml = "&lt;inArgs>&lt;scannerID>" + scannerID + "&lt;/scannerID>&lt;cmdArgs>&lt;arg-string>" + pluginFilePath + "&lt;/arg-string>&lt;arg-int>" + bulkOption + "&lt;/arg-int>&lt;/cmdArgs>&lt;/inArgs>";
    cout << "InXML : " << inXml << endl;

    ::ExecCommand(CMD_DEVICE_UPDATE_FIRMWARE_FROM_PLUGIN, inXml, outXml, &sId);
    cout << "================================" << endl;
    cout << outXml << endl;
}

void SampleEventListener::StartNewFirmware()
{
    std::string inXml;
    std::string outXml;
    StatusID sId;
    StatusID eStatus;
    std::string scannerID;

    cout << "================================" << endl;
    std::cout << "Starting new firmware" << std::endl;
    std::cout << "Enter Scanner ID: " << std::endl;
    std::cin >> scannerID;
    std::cout << "Enter Firmware DAT file path: " << std::endl;

    inXml = "&lt;inArgs>&lt;scannerID>" + scannerID + "&lt;/scannerID>&lt;/inArgs>"; 
    cout << "InXML : " << inXml << endl;
    ::ExecCommand(CMD_START_NEW_FIRMWARE, inXml, outXml, &sId);

    cout << "================================" << endl;
    cout << outXml << endl;
}

void SampleEventListener::AbortFirmwareUpdate()
{
    std::string inXml;
    std::string outXml;
    StatusID sId;
    StatusID eStatus;
    std::string scannerID;

    cout << "================================" << endl;
    std::cout << "Abort Firmware Update" << std::endl;
    std::cout << "Enter Scanner ID: " << std::endl;
    std::cin >> scannerID;

    inXml = "&lt;inArgs>&lt;scannerID>" + scannerID + "&lt;/scannerID>&lt;/inArgs>"; cout << "InXML : " << inXml << endl;
    ::ExecCommand(CMD_DEVICE_ABORT_UPDATE_FIRMWARE, inXml, outXml, &sId);

    cout << "================================" << endl;
    cout << outXml << endl;
}

/**
*	Method to execute action attribute related commands.
*	added to v1.3.0 release.
*	@param opCode
*/
void SampleEventListener::ExecuteActionCommand(CmdOpcode opCode)
{
    std::string scannerID = "";
    std::string ledNumber = "";
    std::string beeperCode = ""; 
    std::string inXml;

    cout << "================================" << endl;

    switch (opCode)
    {
        case CMD_DEVICE_LED_ON: case CMD_DEVICE_LED_OFF:
        {
            cout << "Enter scanner ID: ";
            cin >> scannerID;
            cout << "Enter LED number: ";
            cin >> ledNumber;

            inXml = "&lt;inArgs>&lt;scannerID>" + 
                    scannerID +
                    "&lt;/scannerID>&lt;cmdArgs>&lt;arg-int>" + ledNumber + "&lt;/arg-int>&lt;/cmdArgs>&lt;/inArgs>";
            break;
        }
        case CMD_DEVICE_BEEP_CONTROL:
        {
            cout << "Enter scanner ID: ";
            cin >> scannerID;
            cout << "Enter Beeper code: ";
            cin >> beeperCode;

            inXml = "&lt;inArgs>&lt;scannerID>" + 
                    scannerID +
                    "&lt;/scannerID>&lt;cmdArgs>&lt;arg-int>" + beeperCode + "&lt;/arg-int>&lt;/cmdArgs>&lt;/inArgs>";
            break;
        }
        default:
        {
            cout << "Enter scanner ID: ";
            cin >> scannerID;

            inXml = "&lt;inArgs>&lt;scannerID>" + scannerID + "&lt;/scannerID>&lt;/inArgs>";
            break;
        }
    }

    cout << "InXML : " << inXml << endl;
    StatusID sId;
    std::string outXml;

    ::ExecCommand(opCode, inXml, outXml, &sId);

    cout << "Out XML" << outXml << endl;
    cout << "================================" << endl;
}
</code>
</pre>

                                                    <p>After implementation for the class IEventListenerXml, the main class can create an instance of the class SampleEventListener for the demonstration application. It is mandatory to implement IEventListenerXml class because it is an abstract class provided by zebra-scanner. Following is main.cpp for the sample application.</p>

                                                    <h3 id="mainmethodimplementation" class="anchor"><a class="heading-anchor" href="#mainmethodimplementation"><span></span></a>Main Method Implementation</h3>

<pre class="prettyprint">
<code>
/*
*	©2015 Symbol Technologies LLC. All rights reserved.
*/

#include "ConsoleMain.h"
#include "ConsoleSampleEventListener.h"

#include &lt;stdlib.h>
//class LoggingContext;

bool hasAlreadyOpen = false; 

int ReturnChoice()
{
    cout << "======Select CoreScanner command====" << endl;
    cout << "=== 1. GetAttribute " << endl;
    cout << "=== 2. GetAllAttributes " << endl;
    cout << "=== 3. Get Scanners " << endl;
    cout << "=== 4. SetAttribute " << endl;
    cout << "=== 5. SetAttribute-Store " << endl;
    cout << "=== 6. Device LED ON or OFF " << endl;
    cout << "=== 7. Scanner Enable " << endl;
    cout << "=== 8. Scanner Disable " << endl;
    cout << "=== 9. Scanner Reboot " << endl;
    cout << "== 10. Refresh Device Topology" << endl;
    cout << "== 11. Action - Beeper command" << endl;
    cout << "== 12. AIM ON" << endl;
    cout << "== 13. AIM OFF" << endl;
    cout << "====================================" << endl;
    cout << "=== 0. Exit" << endl;
    cout << "= 100. Main Menu" << endl;
    cout << "====================================" << endl;
    cout << "Enter choice : " ;

    int choice = 0;
    cin >> choice;
    return choice;
}

int main(void)
{
    cout << "Zebra Scanner Sample Application" << endl; 
    cout << "====================================" << endl;

    SampleEventListener sel;

    sel.Open();
    sel.GetScanners();

    int choice = ReturnChoice(); 
    do {
        switch (choice) {
            case 1:
                sel.GetAttribute();
                break;
            case 2:
                sel.GetAllAttributes();
                break;
            case 3:
                sel.GetScanners();
                break;
            case 4:
                sel.SetAttribute();
                break;
            case 5:
                sel.SetAttributeStore();
                break;
            case 6:
                sel.ExecuteActionCommand(CMD_DEVICE_LED_ON);
                break;
            case 7:
                sel.ExecuteActionCommand(CMD_DEVICE_SCAN_ENABLE);
                break;
            case 8:
                sel.ExecuteActionCommand(CMD_DEVICE_SCAN_DISABLE);
                break;
            case 9:
                sel.ExecuteActionCommand(CMD_REBOOT_SCANNER);
                break;
            case 10:
                sel.DiscoverTunnelingDevice();
                break;
            case 11:
                sel.ExecuteActionCommand(CMD_DEVICE_BEEP_CONTROL);
                break;
            case 12:
                sel.ExecuteActionCommand(CMD_DEVICE_AIM_ON);
                break;
            case 13:
                sel.ExecuteActionCommand(CMD_DEVICE_AIM_OFF);
                break;
            case 100:
                cout << "====================================" << endl;
                break; 
            case 0: 
            default:
                break;
        }

        if(choice != 0)
        choice = ReturnChoice();

    } 
    while (choice);
    sel.Close();
    return 0;
}
</code>
</pre>

                                                    <h3 id="callingopencommand" class="anchor"><a class="heading-anchor" href="#callingopencommand"><span></span></a>Calling Open Command</h3>

<pre class="prettyprint">
<code>
void SampleEventListener::Open()
{
    StatusID status;
    ::Open(this, SCANNER_TYPE_ALL, &status);

    // register for all events.
    std::string inXml = "&lt;inArgs>&lt;cmdArgs>&lt;arg-int>7&lt;/arg-int>&lt;arg-int>1,2,4,8,16,32,128&lt;/arg-int>&lt;/cmdArgs>&lt;/inArgs>";

    std::string outXml;
    ::ExecCommand(CMD_REGISTER_FOR_EVENTS, inXml, outXml, &status);
}
</code>
</pre>

                                                    <h3 id="callingclosecommand" class="anchor"><a class="heading-anchor" href="#callingclosecommand"><span></span></a>Calling Close Command</h3>

<pre class="prettyprint">
<code>
void SampleEventListener::Close()
{
    StatusID status;
    ::Close(0, &status);
}
</code>
</pre>

                                                    <h3 id="callinggetscannerscommand" class="anchor"><a class="heading-anchor" href="#callinggetscannerscommand"><span></span></a>Calling GetScanners Command</h3>

<pre class="prettyprint">
<code>
void SampleEventListener::GetScanners()
{
    unsigned short count;
    vector&ltunsigned int> list;
    string outXml;
    StatusID eStatus;

    ::GetScanners(&count, &list, outXml, &eStatus);

    cout << "GetScanners" << endl;
    cout << outXml << endl;
}
</code>
</pre>

                                                    <h3 id="callingexeccommand" class="anchor"><a class="heading-anchor" href="#callingexeccommand"><span></span></a>Calling ExecCommand Command</h3>

<pre class="prettyprint">
<code>
void SampleEventListener::GetAttribute()
{
    cout << "================================" << endl;
    cout << "GetAttribute " << endl;
    std::string scannerID = "";
    
    cout << "Enter Scanner ID" << endl;
    cin >> scannerID;
    
    cout << "Enter attribute number or comma separated attribute numbers : ";
    std::string attribute_number = "";
    cin >> attribute_number;

    std::string inXml = "&lt;inArgs>&lt;scannerID>" + 
                        scannerID +
                        "&lt;/scannerID>&lt;cmdArgs>&lt;arg-xml>&lt;attrib_list>" +
                        attribute_number + 
                        "&lt;/attrib_list>&lt;/arg-xml>&lt;/cmdArgs>&lt;/inArgs>";

    cout << "In XML : " << inXml << endl << endl;
    StatusID sId;
    std::string outXml;
    ::ExecCommand(CMD_RSM_ATTR_GET, inXml, outXml, &sId);

    cout << "Out XML : " << outXml << endl;
    cout << "================================" << endl;
}
</code>
</pre>

                                                    <hr>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>
                </div>
            </section>    
            <div class="modal fade" id="basicModal" tabindex="-1" role="dialog" aria-labelledby="basicModal" aria-hidden="true" data-backdrop="true">
			    <div class="modal-dialog">
				    <div class="modal-content">
					    <div class="modal-header">
						    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">X</button>
					    </div>
					    <div class="modal-body">
						    <div id="modalImg"></div>
					    </div>
			        </div>
		        </div>
            </div>
        </div>
        <footer id="footer" class="navbar-fixed-bottom">
            <div class="container-fluid">
                <div class="row">
                    <div class="col-sm-10">
                        ZEBRA and the stylized Zebra head are trademarks of Zebra Technologies Corporation, registered in many jurisdictions worldwide. All other trademarks are the property of their respective owners. &copy;2020 Zebra Technologies Corporation and/or its affiliates. All rights reserved. <a href="https://www.zebra.com/us/en/about-zebra/company-information/legal/terms-of-use.html">Terms &amp; Conditions</a>
                    </div>
                    <div class="col-sm-2">
                        <ul class="social-icons">
                            <li><a href="http://www.facebook.com/pages/Zebra-Technologies/107703715989073"><i class="fa fa-facebook"></i></a></li>
                            <li><a href="https://twitter.com/ZebraDevs"><i class="fa fa-twitter"></i></a></li>
                            <li><a href="http://www.youtube.com/zebratechnologies/"><i class="fa fa-youtube"></i></a></li>
                            <li><a href="https://www.linkedin.com/groups?home=&amp;gid=3220074&amp;trk=anet_ug_hm&amp;goback=%2Egmr_3220074"><i class="fa fa-linkedin"></i></a></li>
                            <li><a href="https://github.com/zebra-technologies"><i class="fa fa-github"></i></a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </footer><!--/#footer-->
        <script src="/js/bootstrap.min.js"></script>
        <script src="/js/owl.carousel.min.js"></script>
        <script src="/js/mousescroll.js"></script>
        <script src="/js/smoothscroll.js"></script>
        <script src="/js/jquery.prettyPhoto.js"></script>
        <script src="/js/jquery.isotope.min.js"></script>
        <script src="/js/jquery.inview.min.js"></script>
        <script src="/js/wow.min.js"></script>
        <script src="/js/bootstrap-treenav.min.js"></script>
        <script src="/js/prettify.js"></script>
        <script src="/js/zepto.js"></script>
        <script src="/js/jquery.waterfall.js"></script>   
        <script src="/js/main.js"></script>
        <script type="text/javascript">
            (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
                (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
                e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
            })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

            _st('install','zRzEsAUhWTTkrdEN2YfA','2.0.0');
        </script>
        <script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-72584442-1', 'auto');
            ga('send', 'pageview');
        </script> 
        <script>
            ChatraID = 'QDvZ76min4DhLW5vJ';
            (function(d, w, c) {
                var n = d.getElementsByTagName('script')[0],
                    s = d.createElement('script');
                w[c] = w[c] || function() {
                    (w[c].q = w[c].q || []).push(arguments);
                };
                s.async = true;
                s.src = (d.location.protocol === 'https:' ? 'https:': 'http:')
                    + '//call.chatra.io/chatra.js';
                n.parentNode.insertBefore(s, n);
            })(document, window, 'Chatra');
        </script>         
    </body>
</html>