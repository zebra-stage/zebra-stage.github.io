<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="description" content="Programmers can use these scanner Software Development Kits to build applications.">
        <meta name="author" content="Zebra Technologies">
        <meta name="google-site-verification" content="i4B78BrWnNy8ShJwe5feRW3jO3HE6gfYlYqYbxfl8yY">
        <meta name="msvalidate.01" content="6B651B00161BCE79B8950AC09D5C4C75">
        <meta title="Color Camera SDK for Windows">
        <title>Color Camera SDK for Windows - Sample Applications - Zebra Technologies</title>
        <!-- core CSS -->
        <link rel="stylesheet" href="/home/css/uikit.min.css" />
        <link rel="stylesheet" href="/home/css/style.css" />
        <link rel="stylesheet" href="/home/css/bootstrap.min.css" />  
        <link rel="stylesheet" href="/home/css/main.css" >
        <!-- <link href="/css/bootstrap.min.css" rel="stylesheet"> -->
        <link href="/css/font-awesome.min.css" rel="stylesheet">
        <link href="/css/animate.min.css" rel="stylesheet">
        <link href="/css/owl.carousel.css" rel="stylesheet">
        <link href="/css/owl.transitions.css" rel="stylesheet">
        <link href="/css/prettyPhoto.css" rel="stylesheet">
        <!-- <link href="/css/main.css" rel="stylesheet"> -->
        <link href="/css/responsive.css" rel="stylesheet">
        <link href="/css/prettify.css" rel="stylesheet">
        <link href="/css/bootstrap-treenav.min.css" rel="stylesheet">
        <link href="../../dcs_styles.css" rel="stylesheet">
        <!--[if lt IE 9]>
        <script src="js/html5shiv.js"></script>
        <script src="js/respond.min.js"></script>
        <![endif]--> 
        <script src="//load.sumome.com/" data-sumo-site-id="699cb66cf4dc59352efb45705526d15cbe314e1cd43f7761b94d96f3cf7338e8" async="async"></script>
        <link rel="shortcut icon" href="/favicon.ico">
        <script src="/js/jquery.js"></script>
    </head>
    <body id="home" class="homepage" data-spy="scroll" data-offset="100" data-target="#toc">
        <header id="header">
            <nav id="main-menu" class="navbar navbar-default navbar-fixed-top" role="banner">
                <div class="container-fluid">
                    <div class="navbar-header">
                        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                            <span class="sr-only">Toggle navigation</span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </button>
                        <a class="navbar-brand" href="/">
                            <img src="/images/logo.png" alt="logo" style="max-height:66px;float: inherit; padding-right: 3px;">
                        </a> 
                    </div>
                    <div class="collapse navbar-collapse navbar-left">
                        <ul class="nav navbar-nav">
                            <li class="navbar-text pull-left"><strong>TechDocs</strong></li>
                            <li>
                                <a href="/dcs/scanners">Barcode Scanner Tools</a>
                            </li>
                            <p class="navbar-text">Color Camera SDK for Windows</p>
                        </ul>
                    </div>
                    <div class="collapse navbar-collapse navbar-right">
                        <ul class="nav navbar-nav">
                            <li>
                                <a href="/dcs/scanners/camera-sdk-windows/about/">About</a>
                            </li>
                            <li>
                                <a href="/dcs/scanners/camera-sdk-windows/getting-started/">Getting Started</a>
                            </li>
                            <li>
                                <a href="/dcs/scanners/camera-sdk-windows/sdk/">SDK</a>
                            </li>
                            <li>
                                <a href="/dcs/scanners/camera-sdk-windows/bounding-box/">Bounding Box Detection</a>
                            </li>
                            <li>
                                <a href="/dcs/scanners/camera-sdk-windows/sample-apps/">Sample Apps</a>
                            </li>
                            <li>
                                <a href="/dcs/scanners/camera-sdk-windows/samples/">Samples</a>
                            </li>
                            <li>
                                <a href="/dcs/scanners/camera-sdk-windows/com-api/">COM API</a>
                            </li>
                            <li>
                                <a href="/dcs/scanners/camera-sdk-windows/download/">
                                    <i class="fa fa-download"></i>
                                </a>
                            </li>
                        </ul>
                    </div>
                </div><!--/.container-->
            </nav><!--/nav-->
        </header><!--/header-->
        <div class="container-fluid">
            <section id="blog">
                <div class="">
                    <section class="content-with-sidebar">
                        <div class="row">
                            <div class="col-sm-3 hidden-sm hidden-xs" id="sidebar">
                                <nav id="toc" data-toggle="toc" data-spy="affix" style="height: 75%; max-width: 225px; overflow-y: auto; ">
                                    <ul class="nav">
                                        <li><strong>Camera SDK Sample Applications</strong></li>
                                    </ul>
                                </nav>                    
                                <script type="text/javascript">
                                    $(document).ready(function() {
                        	            $( "#btn_SaveSmartDocOptions" ).click(function() {
                      			            console.log('Saving Options');
                      			            $("#modal-smartdocs").modal({show: false});
                    		            });
                        	            $( "#btn_SaveSmartDocOptions" ).click(function() {
                      			            console.log('Clearing Options');
                      			            $("#modal-smartdocs").modal({show: false});
                    		            });
                                    });
                                </script>
                                <link rel="stylesheet" href="https://cdn.rawgit.com/afeld/bootstrap-toc/v0.3.0/dist/bootstrap-toc.min.css">
                                <script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v0.3.0/dist/bootstrap-toc.min.js"></script>
                                <script type="text/javascript">
                                    $(document).ready(function() {                    
                                    });
                                </script>
                            </div>                
                            <div class="col-sm-9 ">
                                <div class="row">
                                    <div class="col-sm-12">
                                        <section id="cta" class="wow fadeIn">
                                            <div class="">
                                                <h1 id="about-bcc-windows" class="anchor">
                                                    <a class="heading-anchor" href="#bcc-windows-sample-apps"><span></span></a>Camera SDK Sample Applications
                                                </h1>
                                            </div>
                                        </section>                    
                                    </div>
                                </div>
                                <div id="mainContent" class="row">
                                    <div class="col-sm-12">
                                        <div class="blog-post blog-large wow fadeInLeft" data-wow-duration="300ms" data-wow-delay="0ms">
                                            <!-- Start of guide -->
                                            <div class="service-box wow fadeInRight">
                                                <div class="">
                                                    <h2 id="overview" class="anchor"><a class="heading-anchor" href="#overview"><span></span></a>Overview</h2>

                                                    <p>This chapter describes how to use the Color Camera SDK, and includes code snippets from the sample application.</p>
                                                    
                                                    <hr>

                                                    <h2 id="bcc-windows-sample-apps-cpp" class="anchor"><a class="heading-anchor" href="#bcc-windows-sample-apps-cpp"><span></span></a>C++ Sample Application</h2>
                                                    
                                                    <p>The Desktop Windows Color Camera SDK Sample Application shows how to call the Camera SDK methods, configure the MP7 Camera and receive image data.</p>

                                                    <div style="display: block; margin: 0 auto; text-align: center;">
                                                        <img src="../../images/camera-sdk-windows/011-bcc-windows-sample-app-cpp.png" style="display: block; margin: 0 auto; border: 1px solid;"><strong>Figure 1:</strong> C++ Sample Application
                                                    </div>

                                                    <hr>

                                                    <h2 id="bcc-windows-sample-apps-csharp" class="anchor"><a class="heading-anchor" href="#bcc-windows-sample-apps-csharp"><span></span></a>C# Sample Application</h2>

                                                    <p>The Color Camera SDK C# sample application that uses COM wrapper DLL (camera_sdk.dll) is shown below.</p>

                                                    <div style="display: block; margin: 0 auto; text-align: center;">
                                                        <img src="../../images/camera-sdk-windows/012-bcc-windows-sample-app-csharp.png" style="display: block; margin: 0 auto; border: 1px solid;"><strong>Figure 2:</strong> C# Sample Application
                                                    </div>

                                                    <hr>

                                                    <h2 id="bcc-windows-white-balance" class="anchor"><a class="heading-anchor" href="#bcc-windows-white-balance"><span></span></a>White Balance Component</h2>

                                                    <p>White Balance Component value is a double value with range 0 to 4.000. Camera SDK presents this value in fixed point representation with a 16-bit value, 12 bits allocated to floating points.</p> 

                                                    <p>The min, max and default value returned from the SDK may not be correct for the white balance component property. Correct Values for those properties are:</p>

<pre class="prettyprint">
<code>
Min – 0
Max – 16384 (0x4000)
Resolution - 1
</code>
</pre>

                                                    <p>To receive the default value of White Balance Component Values set all settings to defaults by calling SetDefaults() method on the camera and then retrieve the White Balance Component Values.</p>

                                                    <p>Below sample code illustrate how to use read and write WhiteBalanceComponent values using camera SDK.</p>

                                                    <h3 id="bcc-windows-cpp-api" class="anchor"><a class="heading-anchor" href="#bcc-windows-cpp-api"><span></span></a>C++ API</h2>

<pre class="prettyprint">
<code>
#define FLOATING_POINT 12

/**
* Converts fixed point value to a double.
*/
double WBFixedToDouble(uint16_t  val)
{
    return ((double)val / (double)(1 &lt;&lt; FLOATING_POINT));
}

/**
* Converts double to a fixed pont value.
*/
uint16_t WBDoubleToFixed(double val)
{
    return (uint16_t)(val * (1 &lt;&lt; FLOATING_POINT));
}

/**
* Read white balance component value from the camera.
*/
void GetWhiteBalance(std::shared_ptr<ZebraCamera> camera)
{
    int blue = 0, red = 0;
    blue = camera->WhiteBalanceComponent.Value().Blue(); 
    red = camera->WhiteBalanceComponent.Value().Red(); 
}

/**
* Write white balance component values to the camera.
*/
Void SetWhiteBalance(std::shared_ptr<ZebraCamera> camera)
{
    double blue = 1.5;
    double red = 2.5;
    uint16_t shourt_blue, short_red;
    shourt_blue = WBDoubleToFixed(blue);
    short_red = WBDoubleToFixed(red);

    WhiteBalance Wb((int)shourt_blue, (int)short_red);

    camera->WhiteBalanceComponent.Value(Wb);
}
</code>
</pre>

                                                    <h2 id="bcc-windows-api-csharp" class="anchor"><a class="heading-anchor" href="#bcc-windows-api-csharp"><span></span></a>Camera SDK COM Wrapper (C# API)</h2>

                                                    <p>In Camera SDK COM wrapper, White Balance Component values are encoded in to single 32bit integer. The high order bits contains the blue component value (16-bit) and low order bits contains the red component value (16-bit), represented in fixed point representation. See C#/C++ Sample Application section (sample app sources) for more details.</p>

<pre class="prettyprint">
<code>
/// &lt;summary>
/// Converts 4.12 fixed point format to double
/// &lt;/summary>
/// &lt;param name="value">&lt;/param>
/// &lt;returns>&lt;/returns>
double WBToDouble(int value)
{
    var val_ = (double)value / (double)(1 &lt;&lt; 12);
    return val_;
}

/// &lt;summary>
/// Converts double to 4.12 fixed point format.
/// &lt;/summary>
/// &lt;param name="value">&lt;/param>
/// &lt;returns>&lt;/returns>
int DoubleToWB(double value)
{
    var val_ = (int)(value * (1 &lt;&lt; 12));
    return val_;
}

/// &lt;summary>
/// Splits 32 bit combined white balance components value to 16 bit white balance component 
/// blue and 16 bit white balance component red value.
/// &lt;/summary>
/// &lt;param name="propertyValue">32bit white balance component property value.&lt;/param>
/// &lt;param name="blueValue">16 bit white balance component blue value.&lt;/param>
/// &lt;param name="redValue">16 bit white balance component red value.&lt;/param>
void GetWhiteBalanceComponentValues(int propertyValue, out int blueValue, out int redValue)
{
    blueValue = propertyValue >> 16 & 0x0000FFFF;
    redValue = propertyValue & 0x0000FFFF;
}

/**
* Read white balance component value from the camera.
*/
private void GetWhiteBalance(Camera camera)
{
    int propertyValue = -1;
    int isAutoEnabled = False;
    int blueValue = 0;
    int redValue = False;

    camera.GetWhiteBalance(out propertyValue, out isAutoEnabled);
    GetWhiteBalanceComponentValues(propertyValue, out blueValue, out redValue);
    Var redValueDouple = WBToDouble(redValue);
    Var blueValueDouple = WBToDouble(blueValue);
}
</code>
</pre>

                                                <hr>

                                                <h2 id="bcc-windows-power-user" class="anchor"><a class="heading-anchor" href="#bcc-windows-power-user"><span></span></a>MP7 Color Camera Power User Mode</h2>

                                                <h3 id="bcc-windows-power-user-config" class="anchor"><a class="heading-anchor" href="#bcc-windows-power-user-config"><span></span></a>Power User Mode Configuration Guide</h3>

                                                <p>The MP7 Color Camera supports contextual switching between optimized camera settings for different scenarios. This guide outlines how to modify the settings within each context to suit your needs. For details on default values and when each context takes effect, please see the Power User Mode Contexts section.</p>

                                                <strong>Enabling Power User Mode</strong>

                                                <p>Enabling power user mode is done by setting a value of 0x1 to Zebra Extension control 9.</p>

                                                <strong>Configuring Power User Contexts</strong>

                                                <p>Configuring contexts is done by modifying Zebra Extension controls 2 to 5, with control 2 corresponding to Context 1. Each control contains an array of 26 bytes. The structure of the array is shown below:</p>
               
<pre class="prettyprint">
<code>                                                
uint32_t  min_auto_exposure;
uint32_t  max_auto_exposure;
uint32_t  exposure;
uint16_t  min_auto_gain;
uint16_t  max_auto_gain;
uint16_t  gain;
uint16_t  white_balance_temp;
uint16_t  white_balance_blue_gain;
uint16_t  white_balance_red_gain;
uint8_t   exposure_auto;
uint8_t   white_balance_auto;
</code>
</pre>

                                                    <p>Ordering of bytes in the array will depend on the method used to transmit the extension unit command, but by default (such as in the supplied MP7CC_cmdline.exe) White Balance Auto will be the leftmost byte in the array and Minimum Auto Exposure will be rightmost.</p>

                                                    <p>For convenience, a batch file called “SetContexts.bat” demonstrates packing the bytes together and sending them to the camera. This file is included with all SDK installations.</p>

                                                    <h3 id="bcc-windows-power-user-context" class="anchor"><a class="heading-anchor" href="#bcc-windows-power-user-context"><span></span></a>Power User Mode Contexts</h3>

                                                    <p>For MP7 four Power User contexts available:</p>
   
                                                    <p>Context 1: Video mode set to Device Wakeup and white LED stopped</>
                                                    <p>Defaults:</p>
                                                    <ul>
                                                        <li>Auto exposure off, 1 ms exposure</li>
                                                        <li>1.7x gain</li>
                                                        <li>Manual white balance. 2.865 blue gain, 0.847 red gain</li>
                                                    </ul>

                                                    <p>Context 2: Video mode set to Device Wakeup and white LED running</p>
                                                    <p>Defaults:</p>
                                                    <ul>
                                                        <li>Auto exposure on. 1ms minimum, 3ms maximum</li>
                                                        <li>Auto gain on. 1.7x minimum, 20x maximum</li>
                                                        <li>Auto white balance</li>
                                                    </ul>

                                                    <p>Context 3: Video mode set to Continuous and illumination mode off</p>
                                                    <p>Defaults:</p>
                                                    <ul>
                                                        <li>Auto exposure on. 1ms minimum, 3ms maximum</li>
                                                        <li>Auto gain on. 1.7x minimum, 20x maximum</li>
                                                        <li>Auto white balance</li>
                                                    </ul>

                                                    <p>Context 4: Video mode set to Continuous and illumination mode on</p>
                                                    <p>Defaults:</p>
                                                    <ul>
                                                        <li>Auto exposure on. 1ms minimum, 3ms maximum</li>
                                                        <li>Auto gain on. 1.7x minimum, 20x maximum</li>
                                                        <li>Manual white balance. 2.865 blue gain, 0.847 red gain</li>
                                                    </ul>

                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>
                </div>
            </section>    
            <div class="modal fade" id="basicModal" tabindex="-1" role="dialog" aria-labelledby="basicModal" aria-hidden="true" data-backdrop="true">
			    <div class="modal-dialog">
				    <div class="modal-content">
					    <div class="modal-header">
						    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">X</button>
					    </div>
					    <div class="modal-body">
						    <div id="modalImg"></div>
					    </div>
			        </div>
		        </div>
            </div>
        </div>
        <footer id="footer" class="navbar-fixed-bottom">
            <div class="container-fluid">
                <div class="row">
                    <div class="col-sm-10">
                        ZEBRA and the stylized Zebra head are trademarks of Zebra Technologies Corp., registered in many jurisdictions worldwide. All other trademarks are the property of their respective owners. &copy;2024 Zebra Technologies Corp. and/or its affiliates. <a href="https://www.zebra.com/us/en/about-zebra/company-information/legal.html">Legal</a> | <a href="https://www.zebra.com/us/en/about-zebra/company-information/legal/terms-of-use.html">Terms of Use</a> | <a href="https://www.zebra.com/us/en/about-zebra/company-information/legal/privacy-statement.html">Privacy Policy</a> 
                    </div>
                    <!--<div class="col-sm-2">
                        <ul class="social-icons">
                            <li><a href="http://www.facebook.com/pages/Zebra-Technologies/107703715989073"><i class="fa fa-facebook"></i></a></li>
                            <li><a href="https://twitter.com/ZebraDevs"><i class="fa fa-twitter"></i></a></li>
                            <li><a href="http://www.youtube.com/zebratechnologies/"><i class="fa fa-youtube"></i></a></li>
                            <li><a href="https://www.linkedin.com/groups?home=&amp;gid=3220074&amp;trk=anet_ug_hm&amp;goback=%2Egmr_3220074"><i class="fa fa-linkedin"></i></a></li>
                            <li><a href="https://github.com/zebra-technologies"><i class="fa fa-github"></i></a></li>
                        </ul>
                    </div>-->
                </div>
                </div>
            </div>
        </footer><!--/#footer-->
        <script src="/js/bootstrap.min.js"></script>
        <script src="/js/owl.carousel.min.js"></script>
        <script src="/js/mousescroll.js"></script>
        <script src="/js/smoothscroll.js"></script>
        <script src="/js/jquery.prettyPhoto.js"></script>
        <script src="/js/jquery.isotope.min.js"></script>
        <script src="/js/jquery.inview.min.js"></script>
        <script src="/js/wow.min.js"></script>
        <script src="/js/bootstrap-treenav.min.js"></script>
        <script src="/js/prettify.js"></script>
        <script src="/js/zepto.js"></script>
        <script src="/js/jquery.waterfall.js"></script>   
        <script src="/js/main.js"></script>
        <script type="text/javascript">
            (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
                (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
                e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
            })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

            _st('install','zRzEsAUhWTTkrdEN2YfA','2.0.0');
        </script>
        <script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-72584442-1', 'auto');
            ga('send', 'pageview');
        </script> 
        <script>
            ChatraID = 'QDvZ76min4DhLW5vJ';
            (function(d, w, c) {
                var n = d.getElementsByTagName('script')[0],
                    s = d.createElement('script');
                w[c] = w[c] || function() {
                    (w[c].q = w[c].q || []).push(arguments);
                };
                s.async = true;
                s.src = (d.location.protocol === 'https:' ? 'https:': 'http:')
                    + '//call.chatra.io/chatra.js';
                n.parentNode.insertBefore(s, n);
            })(document, window, 'Chatra');
        </script>         
    </body>
</html>