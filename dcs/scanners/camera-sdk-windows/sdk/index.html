<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="description" content="Programmers can use these scanner Software Development Kits to build applications.">
        <meta name="author" content="Zebra Technologies">
        <meta name="google-site-verification" content="i4B78BrWnNy8ShJwe5feRW3jO3HE6gfYlYqYbxfl8yY">
        <meta name="msvalidate.01" content="6B651B00161BCE79B8950AC09D5C4C75">
        <meta title="Bioptic Color Camera SDK for Windows">
        <title>Bioptic Color Camera SDK for Windows - SDK - Zebra Technologies</title>
        <!-- core CSS -->
        <link href="/css/bootstrap.min.css" rel="stylesheet">
        <link href="/css/font-awesome.min.css" rel="stylesheet">
        <link href="/css/animate.min.css" rel="stylesheet">
        <link href="/css/owl.carousel.css" rel="stylesheet">
        <link href="/css/owl.transitions.css" rel="stylesheet">
        <link href="/css/prettyPhoto.css" rel="stylesheet">
        <link href="/css/main.css" rel="stylesheet">
        <link href="/css/responsive.css" rel="stylesheet">
        <link href="/css/prettify.css" rel="stylesheet">
        <link href="/css/bootstrap-treenav.min.css" rel="stylesheet">
        <link href="../../dcs_styles.css" rel="stylesheet">
        <!--[if lt IE 9]>
        <script src="js/html5shiv.js"></script>
        <script src="js/respond.min.js"></script>
        <![endif]--> 
        <script src="//load.sumome.com/" data-sumo-site-id="699cb66cf4dc59352efb45705526d15cbe314e1cd43f7761b94d96f3cf7338e8" async="async"></script>
        <link rel="shortcut icon" href="/favicon.ico">
        <script src="/js/jquery.js"></script>
    </head>
    <body id="home" class="homepage" data-spy="scroll" data-offset="100" data-target="#toc">
        <header id="header">
            <nav id="main-menu" class="navbar navbar-default navbar-fixed-top" role="banner">
                <div class="container-fluid">
                    <div class="navbar-header">
                        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                            <span class="sr-only">Toggle navigation</span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </button>
                        <a class="navbar-brand" href="/">
                            <img src="/images/logo.png" alt="logo" style="max-height:66px;float: inherit; padding-right: 3px;">
                        </a> 
                    </div>
                    <div class="collapse navbar-collapse navbar-left">
                        <ul class="nav navbar-nav">
                            <li class="navbar-text pull-left"><strong>TechDocs</strong></li>
                            <li>
                                <a href="/dcs/scanners">Barcode Scanner Tools</a>
                            </li>
                            <p class="navbar-text">Bioptic Color Camera SDK for Windows</p>
                        </ul>
                    </div>
                    <div class="collapse navbar-collapse navbar-right">
                        <ul class="nav navbar-nav">
                            <li>
                                <a href="/dcs/scanners/camera-sdk-windows/about/">About</a>
                            </li>
                            <li>
                                <a href="/dcs/scanners/camera-sdk-windows/getting-started/">Getting Started</a>
                            </li>
                            <li>
                                <a href="/dcs/scanners/camera-sdk-windows/sdk/">SDK</a>
                            </li>
                            <li>
                                <a href="/dcs/scanners/camera-sdk-windows/bounding-box/">Bounding Box Detection</a>
                            </li>
                            <li>
                                <a href="/dcs/scanners/camera-sdk-windows/sample-apps/">Sample Apps</a>
                            </li>
                            <li>
                                <a href="/dcs/scanners/camera-sdk-windows/samples/">Samples</a>
                            </li>
                            <li>
                                <a href="/dcs/scanners/camera-sdk-windows/com-api/">COM API</a>
                            </li>
                            <li>
                                <a href="/dcs/scanners/camera-sdk-windows/download/">
                                    <i class="fa fa-download"></i>
                                </a>
                            </li>
                        </ul>
                    </div>
                </div><!--/.container-->
            </nav><!--/nav-->
        </header><!--/header-->
        <div class="container-fluid">
            <section id="blog">
                <div class="">
                    <section class="content-with-sidebar">
                        <div class="row">
                            <div class="col-sm-3 hidden-sm hidden-xs" id="sidebar">
                                <nav id="toc" data-toggle="toc" data-spy="affix" style="height: 75%; max-width: 225px; overflow-y: auto; ">
                                    <ul class="nav">
                                        <li><strong>Bioptic Color Camera SDK for Windows</strong></li>
                                    </ul>
                                </nav>                    
                                <script type="text/javascript">
                                    $(document).ready(function() {
                        	            $( "#btn_SaveSmartDocOptions" ).click(function() {
                      			            console.log('Saving Options');
                      			            $("#modal-smartdocs").modal({show: false});
                    		            });
                        	            $( "#btn_SaveSmartDocOptions" ).click(function() {
                      			            console.log('Clearing Options');
                      			            $("#modal-smartdocs").modal({show: false});
                    		            });
                                    });
                                </script>
                                <link rel="stylesheet" href="https://cdn.rawgit.com/afeld/bootstrap-toc/v0.3.0/dist/bootstrap-toc.min.css">
                                <script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v0.3.0/dist/bootstrap-toc.min.js"></script>
                                <script type="text/javascript">
                                    $(document).ready(function() {                    
                                    });
                                </script>
                            </div>                
                            <div class="col-sm-9 ">
                                <div class="row">
                                    <div class="col-sm-12">
                                        <section id="cta" class="wow fadeIn">
                                            <div class="">
                                                <h1 id="about-bcc-windows" class="anchor">
                                                    <a class="heading-anchor" href="#about-logging-agent-windows"><span></span></a>Bioptic Color Camera SDK for Windows
                                                </h1>
                                            </div>
                                        </section>                    
                                    </div>
                                </div>
                                <div id="mainContent" class="row">
                                    <div class="col-sm-12">
                                        <div class="blog-post blog-large wow fadeInLeft" data-wow-duration="300ms" data-wow-delay="0ms">
                                            <!-- Start of guide -->
                                            <div class="service-box wow fadeInRight">
                                                <div class="">
                                                    <h2 id="overview" class="anchor"><a class="heading-anchor" href="#overview"><span></span></a>Overview</h2>
                                                    <p>This section provides detailed information about how to use various functionalities of the Bioptic Color Camera SDK to develop applications.</p>

                                                    <p>The Bioptic Color Camera SDK allows Windows applications to be developed that communicate with the MP700 color camera.</p>

                                                    <p>The SDK provides an API that can be used by external applications to manage and control the camera specific functionality of a connected MP7 Color Camera over USB. The SDK allows camera configuration (setting/getting specific UVC camera properties), capturing snapshot images and streaming of camera video. Specific decode-image and related metadata (decode data) can also be retrieved using the SDK. The Camera SDK COM wrapper object allows calling the Camera SDK API from COM client applications. This COM wrapper supports multi-client communication with multiple cameras.</p>
                                                    
                                                    <hr>

                                                    <h2 id="bcc-windows-basics" class="anchor"><a class="heading-anchor" href="#bcc-widows-basics"><span></span></a>Basics</h2>
                                                    
                                                    <p>The Bioptic Color Camera SDK provides the ability to manage camera connections (via the device manager class), perform various operations with connected cameras, configure connected cameras and retrieve information related to connected cameras via the ZebraCamera class.</p>

                                                    <p>Camera functionality is defined under the camera_sdk namespace. The application uses the ZebraCamera class to interact with a camera.</p>

                                                    <p>The DeviceManager class is used to register for device notification events to discover cameras (detect camera attach/detach events). The ZebraCameraManager class is used to manage connected cameras, create a connection to a specific camera, update firmware, reboot a specific camera.</p>

                                                    <p>If method calls fail, the corresponding method throws an exception. It is recommended to call all API methods in try-catch blocks for handling exceptions.</p>

                                                    <hr>

                                                    <h2 id="bcc-windows-management" class="anchor"><a class="heading-anchor" href="#bcc-windows-management"><span></span></a>Camera Management</h2>

                                                    <p>Camera DiscoveryCamera discovery is the first step to communicate with a zebra camera. Create a DeviceManager instance as follows:</p>

<pre class="prettyprint">
<code>
#include "device_manager.h"
#include "device_manager_types.h"

using namespace zebra;

DeviceManager device_manager;           // Creating device manager

AttachedListener attached_listener;     // Create attached listener
DettachedListener detached_listener;    // Create detached listener

device_manager.AddDeviceAttachedListener(attached_listener);
device_manager.AddDeviceDetachedListener(detached_listener);
</code>
</pre>

                                                    <p>This registers callback functions that are notified when a Zebra MP7 camera is attached/detached. The callback event handler implementation is given below:</p>

<pre class="prettyprint">
<code>
vector&lt;DeviceInfo>device_list;
class AttachedListener :public DeviceAttachedListener
{
    public:
        void Attached(DeviceInfo dev_info) override
        { 
            device_list.push_back(dev_info);
            std::cout &lt;&lt; "Device attached" &lt;&lt; std::endl;
        }
};

class DettachedListener : public DeviceDetachedListener
{
    public:
        void Detached(DeviceInfo dev_info) override
        { 
            std::cout &lt;&lt; "Device detached" &lt;&lt; std::endl;
        }
}; 

</code>
</pre>

                                                    <p>To unregister from device notification:</p>

<pre class="prettyprint">
<code>
// Remove device listeners
device_manager.RemoveDeviceAttachedListener(attached_listener);
device_manager.RemoveDeviceDetachedListener(detached_listener);
</code>
</pre>

                                                    <h3 id="bcc-windows-object" class="anchor"><a class="heading-anchor" href="#bcc-windows-object"><span></span></a>Camera Object Creation</h3>
                                                    
                                                    <p>To create a camera object, use a ZebraCameraManager instance and call the CreateZebraCamera method with the DeviceInfo object of the corresponding camera to connect (camera DeviceInfo objects are returned by calling EnumerateDevices). The DeviceInfo object received with the device attach event can also be used to create a camera object.</p>

<pre class="prettyprint">
<code>
#include "device_manager.h"
#include "device_manager_types.h"
#include "zebra_camera.h"
#include "zebra_camera_manager.h"
#include "camera_types.h"

using namespace zebra;
using namespace camera_sdk;

ZebraCameraManager camera_manager;
DeviceManager device_manager;

vector &lt;DeviceInfo> device_list = device_manager.EnumerateDevices();

auto camera = camera_manager.CreateZebraCamera(device_list[0]);

// Call camera specific functionality
std::cout &lt;&lt; "Brightness:" &lt;&lt; camera->Brightness.Value() &lt;&lt; std::endl;
</code>
</pre>

                                                    <hr>

                                                    <h2 id="bcc-windows-functionality" class="anchor"><a class="heading-anchor" href="#bcc-windows-functionality"><span></span></a>Camera Object Functionality</h2>

                                                    <h3 id="bcc-windows-information" class="anchor"><a class="heading-anchor" href="#bcc-windows-information"><span></span></a>Camera Information</h3>

                                                    <p>The following information is provided via camera object methods.</p>

                                                    <ul>
                                                        <li>Model Number</li>
                                                        <li>Serial Number</li>
                                                        <li>Date of Manufacture</li>
                                                        <li>Date of First Program</li>
                                                        <li>First Service Date</li>
                                                        <li>Firmware Version</li>
                                                        <li>Hardware Version</li>
                                                        <li>Supported Frame Types</li>
                                                        <li>Current Frame Type</li>
                                                    </ul>

                                                    <h3 id="bcc-windows-properties" class="anchor"><a class="heading-anchor" href="#bcc-windows-properties"><span></span></a>Camera Information</h3>

                                                    <p>The following properties are configurable using the camera object.</p>

                                                    <ul>
                                                        <li>Brightness</li>
                                                        <li>Contrast</li>
                                                        <li>Saturation</li>
                                                        <li>Sharpness</li>
                                                        <li>Gamma</li>
                                                        <li>White Balance Component</li>
                                                        <li>Backlight Compensation</li>
                                                        <li>Gain</li>
                                                        <li>Absolute Exposure Time</li>
                                                        <li>Video Mode Setting</li>
                                                        <li>Illumination Mode Setting</li>
                                                        <li>Power User Mode Setting</li>
                                                    </ul>

                                                    <h3 id="bcc-windows-information-retrieve" class="anchor"><a class="heading-anchor" href="#bcc-windows-information-retrieve"><span></span></a>Retrieving Camera Information</h3>

<pre class="prettyprint">
<code>
// Get Camera Information
std::cout &lt;&lt; "Serial Number : " &lt;&lt; camera->GetSerialNumber() &lt;&lt; std::endl;
std::cout &lt;&lt; "Model Number : " &lt;&lt; camera->GetModelNumber() &lt;&lt; std::endl;
std::cout &lt;&lt; "Firmware Version : " &lt;&lt; camera->GetFirmwareVersion() &lt;&lt; std::endl;
std::cout &lt;&lt; "Date of First Service : " &lt;&lt; camera->GetFirstServiceDate() &lt;&lt; std::endl;
std::cout &lt;&lt; "Date of Manufacture : " &lt;&lt; camera->GetDateOfManufacture() &lt;&lt; std::endl;
std::cout &lt;&lt; "Date of First Program : " &lt;&lt; camera->GetDateOfFirstProgram() &lt;&lt; std::endl;
std::cout &lt;&lt; "Hardware Version : " &lt;&lt; camera->GetHardwareVersion() &lt;&lt; std::endl;
</code>
</pre>

                                                    <h3 id="bcc-windows-properties-retrieve" class="anchor"><a class="heading-anchor" href="#bcc-windows-properties-retrieve"><span></span></a>Retrieving Camera Properties</h3>

<pre class="prettyprint">
<code>
// Call camera specific functionality
std::cout &lt;&lt; "Brightness:" &lt;&lt; camera->Brightness.Value() &lt;&lt; std::endl;
std::cout &lt;&lt; "Contrast:" &lt;&lt; camera->Contrast.Value() &lt;&lt; std::endl;
std::cout &lt;&lt; "Saturation:" &lt;&lt; camera->Saturation.Value() &lt;&lt; std::endl;
std::cout &lt;&lt; "Sharpness:" &lt;&lt; camera->Sharpness.Value() &lt;&lt; std::endl;
std::cout &lt;&lt; "Gamma:" &lt;&lt; camera->Gamma.Value() &lt;&lt; std::endl;
</code>
</pre>

                                                    <h3 id="bcc-windows-properties-setting" class="anchor"><a class="heading-anchor" href="#bcc-windows-properties-setting"><span></span></a>Setting Camera Properties</h3>

<pre class="prettyprint">
<code>
// Get camera specific property (brightness)
int16_t minVal = camera->Brightness.Minimum();
int16_t maxVal = camera->Brightness.Maximum();
int16_t defVal = camera->Brightness.Default();

int16_t  newVal = minVal + 1;       // New value

camera->Brightness.Value(newVal);   // Set new value
</code>
</pre>

                                                    <h2 id="bcc-windows-properties-methods" class="anchor"><a class="heading-anchor" href="#bcc-windows-properties-methods"><span></span></a>Camera Object SDK Methods/Properties</h2>

                                                    <p><em><strong>Table 1</strong> Methods and Properties</p></em>
                                                    <table class="hovertable" id="#table1">
                                                        <tr>
                                                            <th>Method/Property</th>
                                                            <th>Description</th>
                                                        </tr>
                                                        <tr>
                                                            <td>GetSerialNumber</td>
                                                            <td>Get camera serial number</td>
                                                        </tr>
                                                        <tr>
                                                            <td>GetModelNumber</td>
                                                            <td>Get camera model number</td>
                                                        </tr>
                                                        <tr>
                                                            <td>GetDateOfManufacture</td>
                                                            <td>Get date of manufacture</td>
                                                        </tr>
                                                        <tr>
                                                            <td>GetDateOfFirstProgram</td>
                                                            <td>Get date of first program</td>
                                                        </tr>
                                                        <tr>
                                                            <td>GetFirstServiceDate</td>
                                                            <td>Get date of first service</td>
                                                        </tr>
                                                        <tr>
                                                            <td>GetFirmwareVersion</td>
                                                            <td>Get camera firmware version</td>
                                                        </tr>
                                                        <tr>
                                                            <td>GetHardwareVersion</td>
                                                            <td>Get camera hardware version</td>
                                                        </tr>
                                                        <tr>
                                                            <td>GetSupportedFrameTypes</td>
                                                            <td>Get supported frame types </td>
                                                        </tr>
                                                        <tr>
                                                            <td>GetCurrentFrameType</td>
                                                            <td>Get current frame type (frame format : YUY2/UYVY, width, height, frame rate)</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Brightness</td>
                                                            <td>Set/Get camera Brightness property</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Contrast</td>
                                                            <td>Set/Get camera Contrast property</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Saturation</td>
                                                            <td>Set/Get camera Saturation property</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Sharpness</td>
                                                            <td>Set/Get Sharpness property</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Gamma</td>
                                                            <td>Set/Get Gamma property</td>
                                                        </tr>
                                                        <tr>
                                                            <td>WhiteBalanceComponent</td>
                                                            <td>Set/Get White Balance Component property</td>
                                                        </tr>
                                                        <tr>
                                                            <td>BacklightCompensation</td>
                                                            <td>Set/Get Backlight Compensation property</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Gain</td>
                                                            <td>Set/Get Gain property</td>
                                                        </tr>
                                                        <tr>
                                                            <td>AbsoluteExposureTime</td>
                                                            <td>Set/Get Absolute Exposure Time property (seconds)</td>
                                                        </tr>
                                                        <tr>
                                                            <td>VideoModeSetting</td>
                                                            <td>
                                                                <p>Set/Get Video Mode property</p>
                                                                <ul>
                                                                    <li>OFF:  Color camera will not generate video frames</li>
                                                                    <li>WAKEUP: Color camera generates video frames when MP7 is woken up (default) </li>
                                                                    <li>CONTINUOUS: Color camera always generates video frames</li>
                                                                </ul>
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <td>IlluminationModeSetting</td>
                                                            <td>
                                                                <p>Set/Get Illumination Mode property</p> 
                                                                <ul>
                                                                    <li>STANDARD:  Standard Illumination mode (default)</li>
                                                                    <li>ALWAYS : Illumination always on</li>
                                                                    <li>ON,ALWAYS_OFF: Illumination always off</li>
                                                                </ul>
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <td>PowerUserModeSetting</td>
                                                            <td>
                                                                <p>Set/Get Power User Mode property</p>
                                                                <ul>
                                                                    <li>DISABLE / ENABLE : When Power User Mode is enabled Gain/White Balance Component/ White Balance Component (Auto) /Gamma are disabled.</li>
                                                                </ul>
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <td>CaptureSnapshot</td>
                                                            <td>Capture Snapshot Image </td>
                                                        </tr>
                                                        <tr>
                                                            <td>SetDefaults</td>
                                                            <td>Set camera parameters to default values</td>
                                                        </tr>
                                                        <tr>
                                                            <td>AddContinuousImageEventListener</td>
                                                            <td>Add listener for continuous image events</td>
                                                        </tr>
                                                        <tr>
                                                            <td>RemoveContinuousImageEventListener</td>
                                                            <td>Remove listener for continuous image events</td>
                                                        </tr>
                                                        <tr>
                                                            <td>AddSnapshotImageEventListener</td>
                                                            <td>Add listener for snapshot-image events</td>
                                                        </tr>
                                                        <tr>
                                                            <td>RemoveSnapshotImageEventListener</td>
                                                            <td>Remove listener for snapshot-image events</td>
                                                        </tr>
                                                        <tr>
                                                            <td>AddProduceImageEventListener</td>
                                                            <td>Add listener for produce-image events</td>
                                                        </tr>
                                                        <tr>
                                                            <td>RemoveProduceImageEventListener</td>
                                                            <td>Remove listener for produce-image events</td>
                                                        </tr>
                                                        <tr>
                                                            <td>AddDecodeImageEventListener</td>
                                                            <td>Add listener for decode-image events (generated when barcode scanned)</td>
                                                        </tr>
                                                        <tr>
                                                            <td>RemoveDecodeImageEventListener</td>
                                                            <td>Remove listener for decode-image events</td>
                                                        </tr>
                                                        <tr>
                                                            <td>AddDecodeSessionStatusChangeEventListener</td>
                                                            <td>Add listener for decode-session-status-change events </td>
                                                        </tr>
                                                        <tr>
                                                            <td>RemoveDecodeSessionStatusChangeEventListener</td>
                                                            <td>Remove listener for decode-session-status-change events</td>
                                                        </tr>
                                                    </table>

                                                    <h2 id="bcc-windows-events" class="anchor"><a class="heading-anchor" href="#bcc-windows-events"><span></span></a>Managing Events</h2>

                                                    <p>Applications can register for one or more events, to be notified when it occurs. There are several types of events:</p>

                                                    <p><em><strong>Table 2</strong> Events</p></em>
                                                    <table class="hovertable" id="#table1">
                                                        <tr>
                                                            <th>Event</th>
                                                            <th>Description</th>
                                                        </tr>
                                                        <tr>
                                                            <td>ContinuousImageEvent</td>
                                                            <td>Event notifying continuous image events.</td>
                                                        </tr>
                                                        <tr>
                                                            <td>SnapshotImageEvent</td>
                                                            <td>Event notifying snapshot image events, triggered when CaptureSnapshot method called or when camera snapshot button pressed on MP7.</td>
                                                        </tr>
                                                        <tr>
                                                            <td>ProduceImageEvent</td>
                                                            <td>Event notifying produce-image events. Image event triggered when weight placed on MP7.</td>
                                                        </tr>
                                                        <tr>
                                                            <td>DecodeImageEvent</td>
                                                            <td>Event notifying decode-image events. Image event triggered when barcode scanned with MP7. (decode data is available as metadata provided in callback event arguments).</td>
                                                        </tr>
                                                        <tr>
                                                            <td>DecodeSessionStatusChangeEvent</td>
                                                            <td>Event notifying decode-session-status-change events.  Decode-Session-Status-Change event triggered when barcode detection started/stopped in field of view of MP7.</td>
                                                        </tr>
                                                    </table>

                                                    <h3 id="bcc-windows-events-image" class="anchor"><a class="heading-anchor" href="#bcc-windows-events-image"><span></span></a>Image Events</h3>

                                                    <p>Image events returns the following image data structure:</p>

<pre class="prettyprint">
<code>
ImageEventData.ImageFormat  - Image formats: RGB,YUY2,UYVY
ImageEventData.image        - raw image buffer
</code>
</pre>

                                                    <p>Image events also return an additional image meta data structure that contain image number and additional information such as decode data (for decode image events).</p>

                                                    <h3 id="bcc-windows-events-continuous" class="anchor"><a class="heading-anchor" href="#bcc-windows-events-continuous"><span></span></a>Continuous Image Event Notification</h3>

                                                    <p>Continuous image events are fired whenever image frames are available from the MP7 color camera. To trigger events call <strong>AddContinuousImageEventListener</strong> with event handler object, and set <strong>VideoModeSetting</strong> to CONTINUOUS. The following example shows how to receive continuous image events. </p>

                                                    <p>Create an image event handler class to receive event notifications:</p>
                                                    
                                                    <!-- code segment -->
<pre class="prettyprint">
<code>
// Continuous image event handler class
class ContinuousImageEventObserver : public ContinuousImageEventListener {
    public:
        void ImageReceived(ImageEventData ev, ImageEventMetaData meta_data) {
            printf("width=%d, height=%d\r\n", ev.image.width, ev.image.height);
        }
    };
</code>
</pre>

                                                    <p>Register for continuous image events to receive notifications:</p>
                                                    
                                                    <!-- code segment -->
<pre class="prettyprint">
<code>
// Set Video Mode to continuous
camera->VideoModeSetting.Value(VideoMode::CONTINUOUS);
ContinuousImageEventObserver continuous_image_event_observer;

// Register for continuous image event notification
camera->AddContinuousImageEventListener(continuous_image_event_observer);
std::cout &lt;&lt; "Capturing video...." &lt;&lt; std::endl;

//Wait for video stream capture
getchar();
</code>
</pre>

                                                    <p>Derive from <strong>ContinuousImageEventListener</strong> and implement the <strong>ImageReceived</strong> callback in the image event handler. The image event triggered returns the image data (and attributes: width/height).</p>

                                                    <h4 id="bcc-windows-image-save" class="anchor"><a class="heading-anchor" href="#bcc-windows-image-save"><span></span></a>Image Conversion and Saving</h4>

                                                    <p>Use the Image Converter <strong>Encode</strong> API to convert the returned image buffer stream to a JPEG/BMP. The Encode method can be used to convert returned image data to a bitmap or jpeg buffer (that can be written to a file) as shown below:</p>

                                                    <!-- code segment -->
<pre class="prettyprint">
<code>
// Continuous image event handler class
class ContinuousImageEventObserver : public ContinuousImageEventListener {
    public:
        void ImageReceived(ImageEventData ev, ImageEventMetaData meta_data) {
            printf("width=%d, height=%d\r\n", ev.image.width, ev.image.height);
            std::vector&lt;uint8_t> bmp_image_buffer = Encode(FileConverter::YUY2_TO_BMP, ev.image);
            std::ofstream bmp_image_file_stream("outputImage.bmp", std::ios_base::binary);
            bmp_image_file_stream.write((const char*)&bmp_image_buffer[0], bmp_image_buffer.size());
            bmp_image_file_stream.close();
            std::vector&lt;uint8_t> jpeg_image_buffer = Encode(FileConverter::YUY2_TO_JPEG, ev.image);
            std::ofstream jpeg_image_file_stream("outputImage.jpeg", std::ios_base::binary);
            jpeg_image_file_stream.write((const char*)&jpeg_image_buffer[0], jpeg_image_buffer.size());
            jpeg_image_file_stream.close();
        }
    };
</code>
</pre>

                                                    <h3 id="bcc-windows-snapshot" class="anchor"><a class="heading-anchor" href="#bcc-windows-snapshot"><span></span></a>Snapshot Image Event Notification</h3>

                                                    <p>Snapshot image event gets fired when the user presses the camera snapshot button on the MP7000. The following example shows how to receive/save snapshot image events.</p>

                                                    <p>Create an image event handler class to receive snapshot event notifications:</p>

                                                    <!-- code segment -->
<pre class="prettyprint">
<code>
// Snapshot image event handler class
class SnapshotImageEventObserver : public SnapshotImageEventListener {
    public:
        void ImageReceived(ImageEventData ev, ImageEventMetaData md) {
            printf("Snapshot Event Triggered: width=%d, height=%d\r\n",ev.image.width,ev.image.height);
            std::vector&lt;uint8_t> bmp_image_buffer = Encode(FileConverter::YUY2_TO_BMP, ev.image);
            std::ofstream bmp_image_file_stream("outputImage.bmp", std::ios_base::binary);
            bmp_image_file_stream.write((const char*)&bmp_image_buffer[0], bmp_image_buffer.size());
            bmp_image_file_stream.close();
            std::vector&lt;uint8_t> jpeg_image_buffer = Encode(FileConverter::YUY2_TO_JPEG, ev.image);
            std::ofstream jpeg_image_file_stream("outputImage.jpeg", std::ios_base::binary);
            jpeg_image_file_stream.write((const char*)&jpeg_image_buffer[0], jpeg_image_buffer.size());
            jpeg_image_file_stream.close();
        }
};
</code>
</pre>

                                                    <p>Register for snapshot image events to receive notifications:</p>

                                                    <!-- code segment -->
<pre class="prettyprint">
<code>
//Register for snapshot image event notification
SnapshotImageEventObserver snapshot_image_event_observer;
camera->AddSnapshotImageEventListener(snapshot_image_event_observer);
std::cout &lt;&lt; "Capturing Snapshot (press MP7 snapshot button) ..." &lt;&lt; std::endl;

//Wait for snapshot image event
getchar();
</code>
</pre>

                                                    <p>Derive from <strong>SnapshotImageEventListener</strong> and implement the <strong>ImageReceived</strong> callback in the image event handler. The image event triggered returns the image data (and attributes: width/height).</p>

                                                    <h3 id="bcc-windows-decode" class="anchor"><a class="heading-anchor" href="#bcc-windows-decode"><span></span></a>Decode Image Event Notification</h3>

                                                    <p>Decode image event is fired when the MP7000 performs a barcode decode. The decode image event contains a color image of the item scanned. The image event meta data contains the corresponding barcode decode data (Note: decode data returned is limited to a maximum of 25 characters). The following example shows how to receive/save decode image events.</p>

                                                    <p>Create an image event handler class to receive decode event notifications:</p>

                                                    <!-- code segment -->
<pre class="prettyprint">
<code>
// Decode image event handler class
class DecodeImageEventObserver : public DecodeImageEventListener {
    public:
        void ImageReceived(ImageEventData ev, ImageEventMetaData md) {
            printf("Decode Event Triggered: width=%d, height=%d\r\n",ev.image.width,ev.image.height);
            printf("Image Number :%d\r\n", md.image_number);
            printf("Decode Data :%s\r\n", md.decode_data.c_str());

            std::vector&lt;uint8_t> bmp_image_buffer = Encode(FileConverter::YUY2_TO_BMP, ev.image);
            std::ofstream bmp_image_file_stream("outputImage.bmp", std::ios_base::binary);
            bmp_image_file_stream.write((const char*)&bmp_image_buffer[0], bmp_image_buffer.size());
            bmp_image_file_stream.close();

            std::vector&lt;uint8_t> jpeg_image_buffer = Encode(FileConverter::YUY2_TO_JPEG, ev.image);
            std::ofstream jpeg_image_file_stream("outputImage.jpeg", std::ios_base::binary);
            jpeg_image_file_stream.write((const char*)&jpeg_image_buffer[0], jpeg_image_buffer.size());
            jpeg_image_file_stream.close();

            // Retrieve decode data
            string decode_data = md.decode_data;
        }
};
</code>
</pre>

                                                    <p>Register for decode image events to receive notifications:</p>

                                                    <!-- code segment -->
<pre class="prettyprint">
<code>
//Register for decode image event notification
DecodeImageEventObserver decode_image_event_observer;
camera->AddDecodeImageEventListener(decode_image_event_observer);
std::cout &lt;&lt; "Scan barcode to trigger decode image event ..." &lt;&lt; std::endl;

//Wait for decode image event
getchar();
</code>
</pre>

                                                    <p>Derive from <strong>DecodeImageEventListener</strong> and implement the <strong>ImageReceived</strong> callback in the image event handler. The image event triggered returns the image data (and attributes: width/height). The decoded barcode data that corresponds to the decode image event can be retrieved using returned metadata.</p>

                                                    <h3 id="bcc-windows-produce" class="anchor"><a class="heading-anchor" href="#bcc-windows-produce"><span></span></a>Produce Image Event Notification</h3>
                                                    
                                                    <p>Produce event gets fired when the MP7000 scale detects a non-zero stable weight on the platter. The following example shows how to receive/save produce-image events.</p>

                                                    <p>Create an image event handler class to receive produce-image event notifications:</p>

                                                    <!-- code segment -->
<pre class="prettyprint">
<code>
// Produce image event handler class
class ProduceImageEventObserver : public ProduceImageEventListener {
    public:
        void ImageReceived(ImageEventData ev, ImageEventMetaData md) {
            printf("Produce Event Triggered: width=%d, height=%d\r\n", ev.image.width, ev.image.height);
            std::vector&lt;uint8_t> bmp_image_buffer = Encode(FileConverter::YUY2_TO_BMP, ev.image);
            std::ofstream bmp_image_file_stream("outputImage.bmp", std::ios_base::binary);
            bmp_image_file_stream.write((const char*)&bmp_image_buffer[0], bmp_image_buffer.size());
            bmp_image_file_stream.close();
            std::vector&lt;uint8_t> jpeg_image_buffer = Encode(FileConverter::YUY2_TO_JPEG, ev.image);
            std::ofstream jpeg_image_file_stream("outputImage.jpeg", std::ios_base::binary);
            jpeg_image_file_stream.write((const char*)&jpeg_image_buffer[0], jpeg_image_buffer.size());
            jpeg_image_file_stream.close();
        }
};
</code>
</pre>

                                                    <p>Register for produce-image events to receive notifications:</p>

                                                    <!-- code segment -->
<pre class="prettyprint">
<code>
//Register for produce image event notification
ProduceImageEventObserver produce_image_event_observer;
camera->AddProduceImageEventListener(produce_image_event_observer);
std::cout &lt;&lt; "Place weight on MP7 to trigger produce image event ..." &lt;&lt; std::endl;

//Wait for produce-image event
getchar();
</code>
</pre>


                                                    <p>Derive from <strong>ProduceImageEventListener</strong> and implement the <strong>ImageReceived</strong> callback in the image event handler. The image event triggered returns the image data (and attributes: width/height).</p>

                                                    <h3 id="decodesessioneventnotifications" class="anchor"><a class="heading-anchor" href="#decodesessioneventnotifications"><span></span></a>Decode Session Event Notification</h3>

                                                    <p>When barcode detection is started in the field of view of the Bioptic/MP7 the Decode Session Start event is triggered, and when barcode detection ends in the field of view the Decode Session End event is triggered by the Camera SDK. The following example shows how to programmatically detect Decode Session Start/End events.</p>

                                                    <!-- code segment -->
<pre class="prettyprint">
<code>
DecodeSessionStatusChangeEventHandler* decode_session_status_change_event_handler_ = nullptr;
decode_session_status_change_event_handler_ = new DecodeSessionStatusChangeEventHandler(this);

// Register for decode session status change events
camera_->AddDecodeSessionStatusChangeEventListener(*decode_session_status_change_event_handler_);

// Wait for trigger of decode session events …

// Unregister for decode session status change events
camera_->RemoveDecodeSessionStatusChangeEventListener(*decode_session_status_change_event_handler_);
</code>
</pre>

<pre class="prettyprint">
<code>
// Class to handle decode session status change events
class DecodeSessionStatusChangeEventHandler :public DecodeSessionStatusChangeEventListener
{
    public:
        void DecodeSessionStatusChanged(DecodeSessionStatus status)
        {
            if (status == DecodeSessionStatus::DECODE_SESSION_START)
            {
                std::cout &lt;&lt; "Decode Session Start event triggered" &lt;&lt; std::endl;
            }
            else if (status == DecodeSessionStatus::DECODE_SESSION_END)
            {
                std::cout &lt;&lt; "Decode Session End event triggered" &lt;&lt; std::endl;
            }
        }
};
</code>
</pre>

                                                    <h2 id="bcc-windows-setdefaults" class="anchor"><a class="heading-anchor" href="#bcc-windows-setdefaults"><span></span></a>Set Defaults</h2>

                                                    <p>Reset camera parameters to defaults by calling the <strong>SetDefaults</strong> method as follows: </p>

                                                    <!-- code segment -->
<pre class="prettyprint">
<code>
// Set Defaults 
camera->SetDefaults();
</code>
</pre>

                                                    <h2 id="bcc-windows-capture-snapshot" class="anchor"><a class="heading-anchor" href="#bcc-windows-capture-snapshot"><span></span></a>Capture Snapshot</h2>

                                                    <p>To trigger snapshot image event programmatically, call the CaptreSnapshot method as follows:</p>

                                                    <!-- code segment -->
<pre class="prettyprint">
<code>
// Capture Snapshot Image 
camera->CaptureSnapshot();
</code>
</pre>

                                                    <h2 id="bcc-windows-device-management" class="anchor"><a class="heading-anchor" href="#bcc-windows-device-management"><span></span></a>Device Management</h2>

                                                    <p>The DeviceManager class methods can be used to discover connected cameras and receive notification of MP7 camera attach/detach events (see previous “Camera Discovery” section of document). Connected cameras can be retrieve as follows:</p>

                                                    <!-- code segment -->
<pre class="prettyprint">
<code>
DeviceManager device_manager;       // Creating device manager

// Enumerate device list 
auto device_list= device_manager.EnumerateDevices();
getchar();
</code>
</pre>

                                                    <h2 id="bcc-windows-reboot-camera" class="anchor"><a class="heading-anchor" href="#bcc-windows-reboot-camera"><span></span></a>Reboot Camera</h2>

                                                    <p>The following example shows how to programmatically reboot the MP7 Camera. The Reboot method is a blocking call, the calling thread blocks until the camera gets rebooted. This method has a parameter that defines the timeout for the blocking call.</p>

                                                    <!-- code segment -->
<pre class="prettyprint">
<code>
ZebraCameraManager camera_manager;  // Create camera manager object

// Reboot the specified camera 
camera_manager.Reboot(camera, 10000);
</code>
</pre>

                                                    <h2 id="bcc-windows-load-configurations" class="anchor"><a class="heading-anchor" href="#bcc-windows-load-configurations"><span></span></a>Load Configuration</h2>

                                                    <p>The following example shows how to programmatically load a settings configuration string to the camera. Following is the sample setting XML:</p>

<!-- code segment -->
<pre class="prettyprint">
<code>
&lt;cameraconfig>
    &lt;metadata>
        &lt;modelnumber>XXXXXXXXXXXXXXXXXX&lt;/modelnumber>
        &lt;serialnumber>XXXXXXXXXXXXXXXX&lt;/serialnumber>
        &lt;firmware>CAAERS00-001-N21&lt;/firmware>
        &lt;hardwareversion>1&lt;/hardwareversion>
    &lt;/metadata>
    &lt;attrib_list>
        &lt;attribute>
            &lt;id>8194&lt;/id>
            &lt;name>Brightness&lt;/name>
            &lt;value>8&lt;/value>
        &lt;/attribute>
        &lt;attribute>
            &lt;id>8195&lt;/id>
            &lt;name>Constrast&lt;/name>
            &lt;value>10&lt;/value>
        &lt;/attribute>
        &lt;attribute>
            &lt;id>8199&lt;/id>
            &lt;name>Saturation&lt;/name>
            &lt;value>8&lt;/value>
        &lt;/attribute>
        &lt;attribute>
            &lt;id>8200&lt;/id>
            &lt;name>Sharpness&lt;/name>
            &lt;value>4&lt;/value>
        &lt;/attribute>
        &lt;attribute>
            &lt;id>8201&lt;/id>
            &lt;name>Gamma&lt;/name>
            &lt;value>25&lt;/value>
        &lt;/attribute>
        &lt;attribute>
            &lt;id>8204&lt;/id>
            &lt;name>White alance&lt;/name>
            &lt;value>
                &lt;red>3469&lt;/red>
                &lt;blue>11735&lt;/blue>
            &lt;/value>
        &lt;/attribute>
        &lt;attribute>
            &lt;id>8193&lt;/id>
            &lt;name>Backlight&lt;/name>
            &lt;value>10&lt;/value>
        &lt;/attribute>
        &lt;attribute>
            &lt;id>8196&lt;/id>
            &lt;name>Gain&lt;/name>
            &lt;value>3&lt;/value>
        &lt;/attribute>
        &lt;attribute>
            &lt;id>2052&lt;/id>
            &lt;name>Absolute Exposure Time&lt;/name>
            &lt;value>-10&lt;/value>
        &lt;/attribute>
        &lt;attribute>
            &lt;id>32769&lt;/id>
            &lt;name>Video Mode&lt;/name>
            &lt;value>2&lt;/value>
        &lt;/attribute>
        &lt;attribute>
            &lt;id>32770&lt;/id>
            &lt;name>Illumination Mode&lt;/name>
            &lt;value>0&lt;/value>
        &lt;/attribute>
    &lt;/attrib_list>
&lt;/cameraconfig>
</code>
</pre>

                                                    <p>To persist configuration, set the persist parameter to true.</p>

                                                    <!-- code segment -->
<pre class="prettyprint">
<code>
ZebraCameraManager camera_manager;  // Create camera manager object
string config_xml;
// Load configuration settings xml file as string 
config_xml = …
// Load configuration file to camera 
zebra_camera_manager.LoadConfiguration(camera, config_xml, true);
</code>
</pre>

                                                    <h2 id="bcc-windows-retrieve-configurations" class="anchor"><a class="heading-anchor" href="#bcc-windows-retrieve-configurations"><span></span></a>Retrieve Configuration</h2>

                                                    <p>The following example shows how to programmatically retrieve a xml settings configuration string from the camera.</p>

                                                    <!-- code segment -->
<pre class="prettyprint">
<code>
ZebraCameraManager camera_manager;  // Create camera manager object
string config_xml;

// Retrieve configuration file from camera 
config_xml= zebra_camera_manager.RetrieveConfiguration(camera);
</code>
</pre>

                                                    <h2 id="bcc-windows-firmware-update" class="anchor"><a class="heading-anchor" href="#bcc-windows-firmware-update"><span></span></a>Firmware Update</h2>

                                                    <p>The following example shows how to update firmware of the MP7 Camera, and receive firmware download status events. To register for firmware download notification events call <strong>AddFirmwareDownloadEventListener</strong> with corresponding event handler object.</p>

                                                    <!-- code segment -->
<pre class="prettyprint">
<code>
bool session_stop = false;
// Firmware event handler class
class FirmwareEventHandler :public FirmwareDownloadEventListener
{
    void EventReceived(FirmwareDownloadEventsArgs event_args) override
    {
        if (event_args.GetOperationCode() == FirmwareDownloadEventsArgs::OperationCode::kSessionStart)
        {
            std::cout &lt;&lt; "[FirmwareDownloadEvent][SessionStart]" &lt;&lt; std::endl;
        }
        if (event_args.GetOperationCode() == FirmwareDownloadEventsArgs::OperationCode::kDownloadStart)
        {
            std::cout &lt;&lt; "[FirmwareDownloadEvent][DownloadStart]" &lt;&lt; std::endl;
        }
        if (event_args.GetOperationCode() == FirmwareDownloadEventsArgs::OperationCode::kProgress)
        {
            std::cout &lt;&lt; "[FirmwareDownloadEvent][Progress]" &lt;&lt; to_string(event_args.GetCurrentRecord()) &lt;&lt; "/" &lt;&lt; to_string(event_args.GetTotalRecords()) &lt;&lt; std::endl;
        }
        if (event_args.GetOperationCode() == FirmwareDownloadEventsArgs::OperationCode::kDownloadEnd)
        {
            std::cout &lt;&lt; "[FirmwareDownloadEvent][DownloadEnd]" &lt;&lt; std::endl;
        }
        if (event_args.GetOperationCode() == FirmwareDownloadEventsArgs::OperationCode::kSessionStop)
        {
            std::cout &lt;&lt; "[FirmwareDownloadEvent][SessionStop]" &lt;&lt; std::endl;
            session_stop = true;
        }
    }
};
</code>
</pre>

                                                    <p>To start firmware download call <strong>DownloadFirmware</strong> with the corresponding firmware file. (firmware update progress is reported).</p>

                                                    <!-- code segment -->
<pre class="prettyprint">
<code>
ZebraCameraManager camera_manager;  // Create camera manager object
//Firmware update event handler
FirmwareEventHandler firmware_event_handler;
//Register for firmware download events
camera_manager.AddFirmwareDownloadEventListener(firmware_event_handler);
std::string firmware_file("CAAERS00-001-N15D0.DAT");
//Start firmware download
camera_manager.DownloadFirmware(camera, firmware_file);
// Wait for session end
std::chrono::system_clock::time_point startTime = std::chrono::system_clock::now();
while (session_stop == false)
{
    this_thread::sleep_for(std::chrono::milliseconds(10));
    auto newTime = std::chrono::system_clock::now();
}
camera_manager.RemoveFirmwareDownloadEventListener(firmware_event_handler);
// Flash firmware 
camera_manager.InstallFirmware(camera);
</code>
</pre>

                                                    <p>Once the firmware download is complete call <strong>InstallFirmware</strong> to start flashing the firmware to the camera. Wait for the camera firmware to flash. To unregister for firmware download events call <strong>RemoveFirmwareDownloadEventListener</strong>. To cancel firmware download, call the <strong>CancelFirmwareDownload</strong> method.</p>

                                                    <!-- code segment -->
<pre class="prettyprint">
<code>
ZebraCameraManager camera_manager;  // Create camera manager object

// Cancel firmware download  
config_xml= zebra_camera_manager.CancelFirmwareDownload(camera);
</code>
</pre>

                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>
                </div>
            </section>    
            <div class="modal fade" id="basicModal" tabindex="-1" role="dialog" aria-labelledby="basicModal" aria-hidden="true" data-backdrop="true">
			    <div class="modal-dialog">
				    <div class="modal-content">
					    <div class="modal-header">
						    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">X</button>
					    </div>
					    <div class="modal-body">
						    <div id="modalImg"></div>
					    </div>
			        </div>
		        </div>
            </div>
        </div>
        <footer id="footer" class="navbar-fixed-bottom">
            <div class="container-fluid">
                <div class="row">
                    <div class="col-sm-10">
                        ZEBRA and the stylized Zebra head are trademarks of Zebra Technologies Corporation, registered in many jurisdictions worldwide. All other trademarks are the property of their respective owners. &copy;2022 Zebra Technologies Corporation and/or its affiliates. All rights reserved. <a href="https://www.zebra.com/us/en/about-zebra/company-information/legal/terms-of-use.html">Terms &amp; Conditions</a>
                    </div>
                    <div class="col-sm-2">
                        <ul class="social-icons">
                            <li><a href="http://www.facebook.com/pages/Zebra-Technologies/107703715989073"><i class="fa fa-facebook"></i></a></li>
                            <li><a href="https://twitter.com/ZebraDevs"><i class="fa fa-twitter"></i></a></li>
                            <li><a href="http://www.youtube.com/zebratechnologies/"><i class="fa fa-youtube"></i></a></li>
                            <li><a href="https://www.linkedin.com/groups?home=&amp;gid=3220074&amp;trk=anet_ug_hm&amp;goback=%2Egmr_3220074"><i class="fa fa-linkedin"></i></a></li>
                            <li><a href="https://github.com/zebra-technologies"><i class="fa fa-github"></i></a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </footer><!--/#footer-->
        <script src="/js/bootstrap.min.js"></script>
        <script src="/js/owl.carousel.min.js"></script>
        <script src="/js/mousescroll.js"></script>
        <script src="/js/smoothscroll.js"></script>
        <script src="/js/jquery.prettyPhoto.js"></script>
        <script src="/js/jquery.isotope.min.js"></script>
        <script src="/js/jquery.inview.min.js"></script>
        <script src="/js/wow.min.js"></script>
        <script src="/js/bootstrap-treenav.min.js"></script>
        <script src="/js/prettify.js"></script>
        <script src="/js/zepto.js"></script>
        <script src="/js/jquery.waterfall.js"></script>   
        <script src="/js/main.js"></script>
        <script type="text/javascript">
            (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
                (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
                e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
            })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

            _st('install','zRzEsAUhWTTkrdEN2YfA','2.0.0');
        </script>
        <script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-72584442-1', 'auto');
            ga('send', 'pageview');
        </script> 
        <script>
            ChatraID = 'QDvZ76min4DhLW5vJ';
            (function(d, w, c) {
                var n = d.getElementsByTagName('script')[0],
                    s = d.createElement('script');
                w[c] = w[c] || function() {
                    (w[c].q = w[c].q || []).push(arguments);
                };
                s.async = true;
                s.src = (d.location.protocol === 'https:' ? 'https:': 'http:')
                    + '//call.chatra.io/chatra.js';
                n.parentNode.insertBefore(s, n);
            })(document, window, 'Chatra');
        </script>         
    </body>
</html>