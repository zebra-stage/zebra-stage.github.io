<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="description" content="Programmers can use these scanner Software Development Kits to build applications.">
        <meta name="author" content="Zebra Technologies">
        <meta name="google-site-verification" content="i4B78BrWnNy8ShJwe5feRW3jO3HE6gfYlYqYbxfl8yY">
        <meta name="msvalidate.01" content="6B651B00161BCE79B8950AC09D5C4C75">
        <meta title="JPOS Drivers for Windows and Linux">
        <title>JPOS Drivers for Windows and Linux - DirectIO - Zebra Technologies</title>
        <!-- core CSS -->
        <link href="/css/bootstrap.min.css" rel="stylesheet">
        <link href="/css/font-awesome.min.css" rel="stylesheet">
        <link href="/css/animate.min.css" rel="stylesheet">
        <link href="/css/owl.carousel.css" rel="stylesheet">
        <link href="/css/owl.transitions.css" rel="stylesheet">
        <link href="/css/prettyPhoto.css" rel="stylesheet">
        <link href="/css/main.css" rel="stylesheet">
        <link href="/css/responsive.css" rel="stylesheet">
        <link href="/css/prettify.css" rel="stylesheet">
        <link href="/css/bootstrap-treenav.min.css" rel="stylesheet">
        <link href="../../dcs_styles.css" rel="stylesheet">
        <!--[if lt IE 9]>
        <script src="js/html5shiv.js"></script>
        <script src="js/respond.min.js"></script>
        <![endif]--> 
        <script src="//load.sumome.com/" data-sumo-site-id="699cb66cf4dc59352efb45705526d15cbe314e1cd43f7761b94d96f3cf7338e8" async="async"></script>
        <link rel="shortcut icon" href="/favicon.ico">
        <script src="/js/jquery.js"></script>
    </head>
    <body id="home" class="homepage" data-spy="scroll" data-offset="100" data-target="#toc">
        <header id="header">
            <nav id="main-menu" class="navbar navbar-default navbar-fixed-top" role="banner">
                <div class="container-fluid">
                    <div class="navbar-header">
                        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                            <span class="sr-only">Toggle navigation</span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </button>
                        <a class="navbar-brand" href="/">
                            <img src="/images/logo.png" alt="logo" style="max-height:66px;float: inherit; padding-right: 3px;">
                        </a> 
                    </div>
                    <div class="collapse navbar-collapse navbar-left">
                        <ul class="nav navbar-nav">
                            <li class="navbar-text pull-left"><strong>TechDocs</strong></li>
                            <li>
                                <a href="/dcs/scanners">Barcode Scanner Tools</a>
                            </li>
                            <p class="navbar-text">JPOS Drivers for Windows and Linux</p>
                        </ul>
                    </div>
                    <div class="collapse navbar-collapse navbar-right">
                        <ul class="nav navbar-nav">
                            <li>
                                <a href="/dcs/scanners/jpos-driver/about">About</a>
                            </li>
                            <li>
                                <a href="/dcs/scanners/jpos-driver/setup">Setup</a>
                            </li>
                            <li>
                                <a href="/dcs/scanners/jpos-driver/features">Properties, Methods and Events</a>
                            </li>
                            <li>
                                <a href="/dcs/scanners/jpos-driver/sample-apps">Sample Apps</a>
                            </li>
                            <li>
                                <a href="/dcs/scanners/jpos-driver/direct-io/">DirectIO</a>
                            </li>
                            <li>
                                <a href="/dcs/scanners/jpos-driver/remote-mgt/">JPOS Remote Management Tool</a>
                            </li>
                            <li>
                                <a href="/dcs/scanners/jpos-driver/appendix/">Appendix</a>
                            </li>
                            <li>
                                <a href="/dcs/scanners/jpos-driver/download">
                                    <i class="fa fa-download"></i>
                                </a>
                            </li>
                        </ul>
                    </div>
                </div><!--/.container-->
            </nav><!--/nav-->
        </header><!--/header-->
        <div class="container-fluid">
            <section id="blog">
                <div class="">
                    <section class="content-with-sidebar">
                        <div class="row">
                            <div class="col-sm-3 hidden-sm hidden-xs" id="sidebar">
                                <nav id="toc" data-toggle="toc" data-spy="affix" style="height: 75%; max-width: 225px; overflow-y: auto; ">
                                    <ul class="nav">
                                        <li><strong>DirectIO</strong></li>
                                    </ul>
                                </nav>                    
                                <script type="text/javascript">
                                    $(document).ready(function() {
                        	            $( "#btn_SaveSmartDocOptions" ).click(function() {
                      			            console.log('Saving Options');
                      			            $("#modal-smartdocs").modal({show: false});
                    		            });
                        	            $( "#btn_SaveSmartDocOptions" ).click(function() {
                      			            console.log('Clearing Options');
                      			            $("#modal-smartdocs").modal({show: false});
                    		            });
                                    });
                                </script>
                                <link rel="stylesheet" href="https://cdn.rawgit.com/afeld/bootstrap-toc/v0.3.0/dist/bootstrap-toc.min.css">
                                <script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v0.3.0/dist/bootstrap-toc.min.js"></script>
                                <script type="text/javascript">
                                    $(document).ready(function() {                    
                                    });
                                </script>
                            </div>                
                            <div class="col-sm-9 ">
                                <div class="row">
                                    <div class="col-sm-12">
                                        <section id="cta" class="wow fadeIn">
                                            <div class="">
                                                <h1 id="jpos-windows-about" class="anchor">
                                                    <a class="heading-directio" href="#jpos-windows-directio"><span></span></a>DirectIO
                                                </h1>
                                            </div>
                                        </section>                    
                                    </div>
                                </div>
                                <div id="mainContent" class="row">
                                    <div class="col-sm-12">
                                        <div class="blog-post blog-large wow fadeInLeft" data-wow-duration="300ms" data-wow-delay="0ms">
                                            <!-- Start of guide -->
                                            <div class="service-box wow fadeInRight">
                                                <div class="">
                                                    <h2 id="overview" class="anchor"><a class="heading-anchor" href="#overview"><span></span></a>Overview</h2>
                                                    
                                                    <p>Through the DirectIO feature a POS application communicates directly with the underlying CoreScanner Service.</p>

                                                    <p>This method provides a means for a UnifiedPOS Service to provide functionality to the application that is not otherwise supported by UnifiedPOS control for its device category.</p>

                                                    <p>Information in this chapter is applicable to both scanner and scale devices.</p>

                                                    <hr>

                                                    <h2 id="jpos-windows-package" class="anchor"><a class="heading-anchor" href="#jpos-windows-package"><span></span></a>DirectIO Java Package</h2>

                                                    <p>The necessary classes to perform DirectIO are contained in the JposService.jar file under the two namespaces:</p>
                                                    
                                                    <ul>
                                                        <li>com.zebra.jpos.service</li>
                                                        <li>com.zebra.jpos.service.directio</li>
                                                    </ul>

                                                    <p>The package <strong>com.zebra.jpos.service</strong> contains the DirectIO method, while the package <strong>com.zebra.jpos.service.directio</strong> contains the supporting classes to leverage the DirectIO method.</p>

                                                    <p>Zebra JPOS Direct IO implementation is similar to the Scanner SDK.</p>

                                                    <strong>com.zebra.jpos.service.directio</strong>

                                                    <p>The directio package contains the following supporting class:</p>
                                                    <ul>
                                                        <li>DirectIOCommand</li>
                                                    </ul>

                                                    <hr>

                                                    <h2 id="jpos-windows-commands" class="anchor"><a class="heading-anchor" href="#jpos-windows-commands"><span></span></a>DirectIO Command</h2>

<pre class="prettyprint">
<code>
public class DirectIOCommand {
    public static final int GET_SCANNERS= 1;                    // get scanners list 
    public static final int RSM_ATTR_GETALL= 0x1388;            // Opcode 5000 
    public static final int RSM_ATTR_GET= 0x1389;               // Opcode 5001 
    public static final int RSM_ATTR_SET= 0x138C;               // Opcode 5004 
    public static final int RSM_ATTR_STORE= 0x138D;             // Opcode 5005
    public static final int DIO_NCR_SCAN_TONE = 0x01F5;         // 501
    public static final int DIO_NCR_SCANNER_NOF = 0x01FC;       // 508
    public static final int NCRDIO_SCAN_RESET = 0x1F6;          // 502
    public static final int NCRDIO_SCAN_STATUS = 0x1F7;         // 503
    public static final int NCRDIO_SCAN_DIRECT = 0x1FB;         // 507
    public static final int NCR_DIO_SCAL_LIVE_WEIGHT = 0x25C;   // 604
    public static final int NCRDIO_SCAL_STATUS = 0x259;         // 601
    public static final int NCRDIO_SCAL_DIRECT = 0x25D;         // 605
}        
</code>
</pre>

                                                    <h3 id="jpos-windows-command-description" class="anchor"><a class="heading-anchor" href="#jpos-windows-command-description"><span></span></a>Viewing Bar Code Data</h3>

                                                    <p><strong>GET_SCANNERS:</strong> This command must be used first when setting up DirectIO. It updates the OutXml parameter with information for available scanners, and returns ScannerIDs used in all other DirectIO calls. See the sample code in Using DirectIO on page 5-8.</p> <!-- TODO: Link to the sample source code-->

                                                    <p><strong>InOutXml:</strong> This contains the raw XML string of all of the connected scanners in the format:</p>

                                                    <!-- Code segment -->
<pre class="prettyprint">
<code>
&lt;scanners>
    &lt;scanner type="mode">
        &lt;scannerID>id1&lt;/scannerID>
        &lt;serialnumber>serial_number&lt;/serialnumber>
        &lt;GUID>S_N:XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX&lt;/GUID>
        &lt;VID>vendor_id&lt;/VID>
        &lt;PID>product_id&lt;/PID>
        &lt;modelnumber>model_number&lt;/modelnumber>
        &lt;DoM>date_of_manufacture&lt;/DoM>
        &lt;firmware>firmare_revision&lt;/firmware>
    &lt;/scanner>
    &lt;scanner type="mode">
        &lt;scannerID>id2&lt;/scannerID>
        &lt;serialnumber>serial_number&lt;/serialnumber>
        &lt;GUID>S_N:XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX&lt;/GUID>
        &lt;VID>vendor_id&lt;/VID>
        &lt;PID>product_id&lt;/PID>
        &lt;modelnumber>model_number&lt;/modelnumber>
        &lt;DoM>date_of_manufacture&lt;/DoM>
        &lt;firmware>firmare_revision&lt;/firmware>
    &lt;/scanner>
    ....
    ....
    &lt;scanner type="mode">
        &lt;scannerID>idN&lt;/scannerID>
        &lt;serialnumber>serial_number&lt;/serialnumber>
        &lt;GUID>S_N:XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX&lt;/GUID>
        &lt;VID>vendor_id&lt;/VID>
        &lt;PID>product_id&lt;/PID>
        &lt;modelnumber>model_number&lt;/modelnumber>
        &lt;DoM>date_of_manufacture&lt;/DoM>
        &lt;firmware>firmware_revision&lt;/firmware>
    &lt;/scanner>
&lt;/scanners>
</code>
</pre>

                                                    <p><strong>RSM_ATTR_GETALL:</strong> This command returns a list in XML format via the object argument, defined above, of all possible attributes that can be set. This list and what it contains is dependent on the scanning device. The scanner specific Product Reference Guide contains the definitions of all of these attributes. The XML string returned in the obj argument has the following format:</p>

                                                    <p><strong>InOutXml:</strong> This contains the raw XML string of all the supported RSM attributes:</p>

                                                    <!-- Code segment -->
<pre class="prettyprint">
<code>
&lt;?xml version="1.0" encoding="UTF-8"?>
&lt;outArgs>
    &lt;scannerID>1&lt;/scannerID>
    &lt;arg-xml>
        &lt;modelnumber>DS4801-XXXXXXXXXXX&lt;/modelnumber>
        &lt;serialnumber>S/N:B1353E3FBA73C94DB3449420F6F3B3FD&lt;/serialnumber>
        &lt;GUID>B1353E3FBA73C94DB3449420F6F3B3FD&lt;/GUID>
        &lt;response>
            &lt;opcode>5000&lt;/opcode>
            &lt;attrib_list>
                &lt;attribute name="">0&lt;/attribute>
                &lt;attribute name="">1&lt;/attribute>
                &lt;attribute name="">2&lt;/attribute>
                &lt;attribute name="">3&lt;/attribute>
                &lt;attribute name="">4&lt;/attribute>
                ....
                ....
                &lt;attribute name="">25011&lt;/attribute>
                &lt;attribute name="">25012&lt;/attribute>
            &lt;/attrib_list>
        &lt;/response>
    &lt;/arg-xml>
&lt;/outArgs>
</code>
</pre>

                                                    <p>The value of each attribute in the returned XML list can be accessed using the RSM_ATTR_GET command.</p>

                                                    <p><strong>NOTE:</strong> Calling this is not necessary if the attributes you wish to SET, or GET are known ahead of time.</p>

                                                    <p><strong>RSM_ATTR_GET:</strong> This command can be used to retrieve scanner attribute information including value, data type, and permission. For more information, refer to the Zebra Scanner SDK for Windows Developer’s Guide.</p>

                                                    <p><strong>InOutXml:</strong> For this command InOutXml argument is used to provide input and retrieve the output of the command.</p>

                                                    <p><strong>Input:</strong></p>

                                                    <!-- Code segment -->
<pre class="prettyprint">
<code>
&lt;inArgs>
    &lt;scannerID>scannerID&lt;/scannerID>
    &lt;!-- ScannerID one of the scanner which could be retrived executing GET_SCANNRS op-code -->
    &lt;cmdArgs>
        &lt;arg-xml>
            &lt;attrib_list> attribute1[,attribute2…attributeN]&lt;/attrib_list>
            &lt;!-- A comma separated list of scanner attribute numbers -->
        &lt;/arg-xml>
    &lt;/cmdArgs>
&lt;/inArgs>
</code>
</pre>

                                                    <p><strong>Output:</strong></p>

                                                    <!-- Code segment -->
<pre class="prettyprint">
<code>
&lt;outArgs>
    &lt;scannerID>1&lt;/scannerID>
    &lt;arg-xml>
        &lt;modelnumber>DS4801-XXXXXXXXXXX&lt;/modelnumber>
        &lt;serialnumber>S/N:B1353E3FBA73C94DB3449420F6F3B3FD&lt;/serialnumber>
        &lt;GUID>B1353E3FBA73C94DB3449420F6F3B3FD&lt;/GUID>
        &lt;response>
            &lt;opcode>5001&lt;/opcode>
            &lt;attrib_list>
                &lt;attribute>
                    &lt;id> attribute1&lt;/id>
                    &lt;name>&lt;/name>
                    &lt;datatype>F&lt;/datatype>
                    &lt;permission>RWP&lt;/permission>
                    &lt;value>True&lt;/value>
                &lt;/attribute>
                ....
                ....
                &lt;attribute>
                    &lt;id> attributeN&lt;/id>
                    &lt;name>&lt;/name>
                    &lt;datatype>F&lt;/datatype>
                    &lt;permission>RWP&lt;/permission>
                    &lt;value>True&lt;/value>
                &lt;/attribute>
            &lt;/attrib_list>
        &lt;/response>
    &lt;/arg-xml>
&lt;/outArgs>
</code>
</pre>

                                                    <p><strong>RSM_ATTR_SET or RSM_ATTR_STORE:</strong> Sets (volatile, cleared after device reboot) or stores (non-volatile, retained after device reboot) attributes respectively, specified in the XML string given in the obj argument. The XML string takes the following format.</p>

                                                    <p><strong>InOutXml:</strong> For this command using InOutXml argument we could provide the information for the attribute to set in XML format</p>

                                                    <p><strong>NOTE:</strong> The tabbed formatting is for brevity only, and the actual XML string has no end-line or carriage-return characters required.</p>

                                                    <!-- Code segment -->
<pre class="prettyprint">
<code>
&lt;inArgs>
    &lt;scannerID>1&lt;/scannerID>
    &lt;cmdArgs>
        &lt;arg-xml>
            &lt;attrib_list>
                &lt;attribute>
                    &lt;id>rsm_attribute_number&lt;/id>
                    &lt;!-- 7 -->
                    &lt;datatype>valid_datatype&lt;/datatype>
                    &lt;!-- F -->
                    &lt;value>value_matching_datatype&lt;/value>
                    &lt;!-- True -->
                &lt;/attribute>
            &lt;/attrib_list>
        &lt;/arg-xml>
    &lt;/cmdArgs>
&lt;/inArgs>
</code>
</pre>

                                                    <p>The following are the valid values:</p>

                                                    <ul>
                                                        <li><strong>rsm_attribute_number:</strong> One of the scanners accepted, writeable attributes numbers.</li>
                                                        <li><strong>valid_datatype:</strong> A valid datatype character: F, B, W, D, A, S</li>
                                                        <li><strong>value_matching_datatype:</strong> A value that is consistent with the datatype and the datatypes range. For example, 'F' is a 'Boolean' value that may be either 'false' or 'true'. A 'B' datatype is 'Byte' which ranges from 0-255.</li>
                                                    </ul>

                                                    <p>For example, to disable UPC Code 128, the actual XML string passed into the obj argument would look this:</p>

                                                    <!-- Code segment -->
<pre class="prettyprint">
<code>
&lt;inArgs>
    &lt;scannerID>1&lt;/scannerID>
    &lt;cmdArgs>
        &lt;arg-xml>
            &lt;attrib_list>
                &lt;attribute>
                    &lt;id>7&lt;/id>
                    &lt;datatype>F&lt;/datatype>
                    &lt;value>False&lt;/value>
                &lt;/attribute>
            &lt;/attrib_list>
        &lt;/arg-xml>
    &lt;/cmdArgs>
&lt;/inArgs>
</code>
</pre>

                                                    <p><strong>InOutXml:</strong> This contains the raw XML string of all of the connected scanners in the format:</p>

                                                    <!-- Code segment -->

                                                    <p><strong>DIO_NCR_SCAN_TONE:</strong> This command is used to execute the NCR tone pattern configured in the JPOS.xml. Tone pattern can be set for any logical device by setting the following configuration.</p>

<pre class="prettyprint">
<code>
&lt;prop name="NcrScanTonePattern" type="String" value="&lt;TonePatternID>"/>
</code>
</pre>

                                                    <p><strong>InOutXml:</strong> No need of providing an InOutXml argument.</p>

                                                    <p><strong>DIO_NCR_SCANER_NOF:</strong> This command is used to execute the NCR “Not on File” tone pattern configured in the JPOS.xml. Tone pattern can be set for any logical device by setting the following configuration.</p>

<pre class="prettyprint">
<code>
&lt;prop name="NcrScanNOFPattern" type="String" value="&lt;TonePatternID>"/>
</code>
</pre>
    
                                                    <p><strong>InOutXml:</strong> No need of providing an InOutXml argument.</p>

                                                    <p><strong>NCRDIO_SCAN_RESET:</strong> This command is used to reset the device. Executing this command is not doing any change to the device now. Once executed it always returns success.</p>

                                                    <p><strong>InOutXml:</strong> No need of providing an InOutXml argument.</p>

                                                    <p><strong>NCRDIO_SCAN_STATUS:</strong> This command is used to get the IBM USB status bytes of the scanner. Status bytes are given as a string.</p>

                                                    <p><strong>InOutXml:</strong> No need of providing an InOutXml argument.</p>

                                                    <p><strong>NCRDIO_SCAN_DIRECT:</strong> This command is used to execute direct IO commands GetAll, Get, GetNext, Set and Store attributes directly without the corresponding direct IO commands for these operations. Direct IO OpCode for these operations are passed as an attribute in the InXml.</p>

                                                    <p><strong>InOutXml:</strong> This contains the raw XML string of direct access in xml with the opcode tag.</p>

                                                    <!-- Code segment -->
<pre class="prettyprint">
<code>
&lt;inArgs>
    &lt;scannerID>1&lt;/scannerID>
    &lt;opcode>5000&lt;/opcode>
    &lt;cmdArgs>
        &lt;arg-xml>
            &lt;attrib_list>
                &lt;attribute>
                    &lt;id>6000&lt;/id>
                    &lt;datatype>X&lt;/datatype>
                    &lt;value>2&lt;/value>
                &lt;/attribute>
            &lt;/attrib_list>
        &lt;/arg-xml>
    &lt;/cmdArgs>
&lt;/inArgs>
</code>
</pre>

                                                    <p><strong>NCR_DIO_SCAL_LIVE_WEIGHT:</strong> This command is used to get the live weight value of the scale.</p> 

                                                    <p><strong>InOutXml:</strong> No need of providing an InOutXml argument.</p>

                                                    <p><strong>NCRDIO_SCALE_STATUS:</strong> This command is used to get the IBM USB status bytes of the scale. Status bytes are given as a string.</p>

                                                    <p><strong>InOutXml:</strong> No need of providing an InOutXml argument.</p>

                                                    <p><strong>NCRDIO_SCALE_DIRECT:</strong> This command is used to execute direct IO commands GetAll, Get, GetNext, Set and Store attributes directly without the corresponding direct IO commands for these operations. Direct IO OpCode for these operations are passed as an attribute in the InXml.</p>

                                                    <p><strong>InOutXml:</strong> This contains the raw XML string of direct access in xml with the opcode tag.</p>

                                                    <!-- Code segment -->
<pre class="prettyprint">
<code>
&lt;inArgs>
    &lt;scannerID>1&lt;/scannerID>
    &lt;opcode>5000&lt;/opcode>
    &lt;cmdArgs>
        &lt;arg-xml>
            &lt;attrib_list>
                &lt;attribute>
                    &lt;id>6000&lt;/id>
                    &lt;datatype>X&lt;/datatype>
                    &lt;value>2&lt;/value>
                &lt;/attribute>
            &lt;/attrib_list>
        &lt;/arg-xml>
    &lt;/cmdArgs>
&lt;/inArgs>
</code>
</pre>

                                                    <hr>

                                                    <h2 id="jpos-windows-status" class="anchor"><a class="heading-anchor" href="#jpos-windows-status"><span></span></a>DirectIO Status</h2>

                                                    <!-- Code segment -->
<pre class="prettyprint">
<code>
public class DirectIOStatus {
    public static final int STATUS_SUCCESS = 0;
}
</code>
</pre>

                                                    <p>Currently only STATUS_SUCCESS is defined. Any other value should be indicated as an error. The DirectIO method itself is an exception based method (see <a href="#jpos-windows-directio-method">The DirectIO Method</a> for more information). As a result, use a try-catch statement when calling it. The JposException class contains most of the error information.</p>

                                                    <hr>

                                                    <h2 id="jpos-windows-directio-method" class="anchor"><a class="heading-anchor" href="#jpos-windows-directio-method"><span></span></a>The DirectIO Methods</h2>

                                                    <p>The Zebra JPOS driver allows direct RSM attribute GET/SET access in order to leverage features not otherwise able to be exposed through the JPOS API Specification.</p>

                                                    <p>The JPOS DirectIO method has the following prototype (as of Zebra JPOS driver 1.0):</p>

                                                    <!-- Code segment -->
<pre class="prettyprint">
<code>
directIO ( command: int32, inout data: int32, inout obj: object ): void { raises-exception }
</code>
</pre>

                                                    <h3 id="jpos-windows-directio-arguments" class="anchor"><a class="heading-anchor" href="#jpos-windows-directio-arguments"><span></span></a>DirectIO Method Arguments</h3>
                                                    
                                                    <p>For the purposes of the Zebra scanner device class, the DirectIO method arguments are defined as:</p>

                                                    <p><strong>command: int32:</strong>	The command is passed to the CoreScanner service which is responsible for communicating with the scanner. This command is defined in the JposService.jar.</p>

                                                    <p><strong>inout data: int32:</strong> For Zebra devices, this is used to return the status of the executed op-code.</p>

                                                    <p><strong>inout obj: object:</strong> This is an object type. In Zebra JPOS Direct IO implementation, Java StringBuffer type is used to provide input and get output of the argument in XML format. See <a href="#jpos-windows-commands">DirectIO Command</a>.</p>

                                                    <h3 id="jpos-windows-directio-sample-app" class="anchor"><a class="heading-anchor" href="#jpos-windows-directio-sample-app"><span></span></a>Using the JPOS Sample Application to Send Direct I/O Commands</h3>

                                                    <p>DirectIO operations can be done using the panel highlighted in red, as shown in the screenshot given below. The required DirectIO command can be selected from the drop-down list named as the Command. Upon selecting, the InXML relevant to the chosen command will be displayed on the left side of the panel.</p>

                                                    <div style="display: block; margin: 0 auto; text-align: center;">
                                                        <img src="../../images/jpos/001-jpos-sample-app-direct-io.png" style="display: block; margin: 0 auto;"><strong>Figure 1: </strong>JPOS Sample Application - Direct IO Commands
                                                    </div><br />

                                                    <p>The <strong>OutXML</strong> corresponding to the selected DirectIO command can be retrieved by clicking on the <strong>Execute</strong> button.</p>

                                                    <div style="display: block; margin: 0 auto; text-align: center;">
                                                        <img src="../../images/jpos/002-jpos-sample-app-direct-io-output.png" style="display: block; margin: 0 auto;"><strong>Figure 2: </strong>JPOS Sample Application - Direct IO Commands Output
                                                    </div><br />

                                                    <p>To send Direct I/O commands using the JPOS sample application:</p>
                                                    <ol>
                                                        <li>Connect a Zebra scanner and switch to a management enabled host mode such as IBM OPOS, IBM Hand-held, IBM Table-top, or SNAPI.</li>
                                                        <li>Open the JPOS sample application and select the Scanner tab.</li>
                                                        <li>Enter ZebraAllScanners as the logical name and click Open.</li>
                                                        <li>Click Claim.</li>
                                                    </ol>

                                                    <p>To retrieve a list of all the scanners connected to the PC:</p>
                                                    <ul>
                                                        <li>Select GET_SCANNERS as DIO Op-Code from the Direct I/O section.</li>
                                                        <li>Click Execute. The Direct I/O OutXml text box populates with XML with all the attached scanners.</li>
                                                    </ul> 

                                                    <p>To retrieve all attributes available in the scanner:</p>
                                                    <ol>
                                                        <li>Select RSM_ATTR_GETALL as DIO Op-Code from Direct I/O section.</li>
                                                        <li>In the Direct I/O InXml text box, change the value of the ScannerID XML element to the scannerID from which you want to retrieve attributes. Use the GET_SCANNER command to find available ScannerIDs.</li>
                                                        <li>Click Execute. The Direct I/O OutXml text box populates with XML with attribute numbers of all supported attributes.</li>
                                                    </ol>

                                                    <p>To retrieve more information for an attribute:</p>
                                                    <ol>
                                                        <li>Select RSM_ATTR_GET as DIO Op-Code from the Direct I/O section.</li>
                                                        <li>In the Direct I/O InXml text box, change the value of the ScannerID XML element to the required scanner ID, and enter a comma-separated list of attribute numbers as the value of attrib_list.</li>
                                                        <li>Click Execute. The Direct I/O OutXml text box populates with XML containing a list of attributes with values and other attribute related details.</li>
                                                    </ol>

                                                    <p>To temporarily set or permanently store the value of an attribute:</p>
                                                    <ol>
                                                        <li>Select RSM_ATTR_SET or RSM_ATTR_STORE as DIO Op-Code from the Direct I/O section.</li>
                                                        <li>In the Direct I/O InXml text box, change the value of the ScannerID XML element to the required scanner ID and change the values of data_type and the value XML elements accordingly as obtained by executing the command RSM_ATTR_GET.</li>
                                                        <li>Click Execute. For these Direct I/O op-codes, an OutXml does not populate.</li>
                                                    </ol>

                                                    <p>Upon executing each Op-Code, the CoreScanner Status field populates with the status of the underlying CoreScanner driver. Any value other than 0 indicates an error.</p>

                                                    <hr>

                                                    <h2 id="jpos-windows-directio-use" class="anchor"><a class="heading-anchor" href="#jpos-windows-directio-use"><span></span></a>Using DirectIO</h2>

                                                    <p>Following is an example of how to use DirectIO when attached to a single device, assuming a returned scanner/scale ID of ‘1’.</p>

                                                    <p><strong>NOTE:</strong> The following code demonstrates how to use DirectIO with scanner JPOS control. The same pattern is applicable to scale JPOS control by declaring and instantiating JPOS scale class, and scale object instead of scanner class in the code.</p>

                                                    <!-- Code segment -->

<pre class="prettyprint">
<code>
package dio;

import jpos.*;
import com.zebra.jpos.service.directio.DirectIOCommand; 
import com.zebra.jpos.service.directio.DirectIOStatus; 
import java.io.ByteArrayInputStream;
import java.io.IOException; 
import java.util.logging.Level; 
import java.util.logging.Logger;
import javax.xml.parsers.DocumentBuilderFactory; 
import javax.xml.parsers.DocumentBuilder;
import javax.xml.parsers.ParserConfigurationException; 
import org.w3c.dom.Document;
import org.xml.sax.SAXException;

/**
*
* @author Zebra Technologies
*/
public class DirectIODemo {
    // As defined in JPOS v1.13

    public static Scanner scannerObj = new Scanner();
    // Interfacing with a single scanner connection 
    static int scannerID;

    // main function
    public static void main(String[] args) {
        // Open scanner API, claim, enable and perform get scanners 
        try {
            // open with 'ZebraAllScanners' as logical device name 
            scannerObj.open("ZebraAllScanners");
            
            // standard claim with 5000ms timeout 
            scannerObj.claim(5000); 
            
            // enable device
            scannerObj.setDeviceEnabled(true);

            // object to store DirectIO data
            StringBuffer deviceParams = new StringBuffer();

            // get scanners - this acquires the scanner ID needed to perform directIO on a specific device
            int opCode = DirectIOCommand.GET_SCANNERS; int[] csStatus = new int[1];

            scannerObj.directIO(opCode, csStatus, (Object) deviceParams); 
            if (csStatus[0] != DirectIOStatus.STATUS_SUCCESS) {
                    System.out.println("Error connecting to device"); return;
            }

            // retrieve ID number of scanner for this example, we assume at least 1 scanner is found
            DocumentBuilderFactory dbFactory = DocumentBuilderFactory.newInstance(); 
            DocumentBuilder dBuilder;
            try {
                dBuilder = dbFactory.newDocumentBuilder();
                Document doc;
                ByteArrayInputStream inIs = new ByteArrayInputStream(deviceParams.toString().getBytes());
                doc = dBuilder.parse(inIs);

                int scannerCount = doc.getElementsByTagName("scannerID").getLength();
                if (scannerCount <= 0) {
                    System.out.println("No scanner found attatched"); return;
                }

                for (int n = 0; n < scannerCount; n++) {
                    System.out.println("Scanner ID : " + doc.getElementsByTagName("scannerID").item(n).getTextContent());
                }

                System.out.println("Selected scanner ID : " + doc.getElementsByTagName("scannerID").item(0).getTextContent()); 
                scannerID = Integer.parseInt(doc.getElementsByTagName("scannerID").item(0). getTextContent());
            } 
            catch (SAXException ex) { 
                Logger.getLogger(DirectIODemo.class.getName()).log(Level.SEVERE, null, ex);
            } 
            catch (IOException ex) { 
                Logger.getLogger(DirectIODemo.class.getName()).log(Level.SEVERE, null, ex);
            } 
            catch (ParserConfigurationException ex) { 
                Logger.getLogger(DirectIODemo.class.getName()).log(Level.SEVERE, null, ex);
            }

            // retrieve model number of device

            // Setup DirectIO to do a GET Attribute setup DirectIO XML string
            String sGetAttribInXML = "&lt;inArgs>\n"
                                    + " &lt;scannerID>" + scannerID + "&lt;/scannerID>\n"
                                    + " &lt;cmdArgs>\n"
                                    + " &lt;arg-xml>\n"
                                    + " &lt;attrib_list>535&lt;/attrib_list>\n"
                                    + " &lt;/arg-xml>\n"
                                    + " &lt;/cmdArgs>\n"
                                    + "&lt;/inArgs>";

            // create new DirectIO data structure see DirectIO data definition for more information 
            StringBuffer oGETparams = new StringBuffer();

            // copy XML string into DirectIO inXML member 
            oGETparams.append(sGetAttribInXML);

            // set opcode for Atrribute GET
            opCode = DirectIOCommand.RSM_ATTR_GET;

            // set scanner ID
            int[] csSataus = new int[1];

            // make directIO call to JPOS driver 
            scannerObj.directIO(opCode, csSataus, (Object) oGETparams);

            // check status from DirectIO status member
            if (csSataus[0] != DirectIOStatus.STATUS_SUCCESS) { 
                System.out.println("Error performing DirectIO"); return;
            }

            // output XML string returned. Not that the actual model number will be contained within the &lt;value> XML tag.
            System.out.println("XML string returned: " + oGETparams.toString());

            // disable UPC-A barcode on scanner

            // Setup DirectIO to do a SET Attribute 
            String sSetAttribInXML = "&lt;inArgs>\n"
                                    + " &lt;scannerID>" + scannerID + "&lt;/scannerID>\n"
                                    + " &lt;cmdArgs>\n"
                                    + " &lt;arg-xml>\n"
                                    + " &lt;attrib_list>\n"
                                    + " &lt;attribute>\n"
                                    + " &lt;id>6000&lt;/id>\n"
                                    + " &lt;datatype>X&lt;/datatype>\n"
                                    + " &lt;value>2&lt;/value>\n"
                                    + " &lt;/attribute>\n"
                                    + " &lt;/attrib_list>\n"
                                    + " &lt;/arg-xml>\n"
                                    + " &lt;/cmdArgs>\n"
                                    + "&lt;/inArgs>";

            // create new DirectIO data structure
            // see DirectIO data definition for more information 
            StringBuffer oSETparams = new StringBuffer();

            // copy XML string into DirectIO inXML member 
            oSETparams.append(sSetAttribInXML);

            // set opcode for Atrribute SET
            opCode = DirectIOCommand.RSM_ATTR_SET;

            // set scanner ID
            csSataus[0] = scannerID;

            // make directIO call to JPOS driver 
            scannerObj.directIO(opCode, csSataus, (Object) oSETparams);

            // check status from DirectIO status member
            if (csSataus[0] != DirectIOStatus.STATUS_SUCCESS) { 
                System.out.println("Error performing DirectIO");
            }
        } 
        catch (JposException ex) { 
            System.out.println("Exception: " + ex.getMessage());
        }
    }
}
</code>
</pre>

                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>
                </div>
            </section>    
            <div class="modal fade" id="basicModal" tabindex="-1" role="dialog" aria-labelledby="basicModal" aria-hidden="true" data-backdrop="true">
			    <div class="modal-dialog">
				    <div class="modal-content">
					    <div class="modal-header">
						    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">X</button>
					    </div>
					    <div class="modal-body">
						    <div id="modalImg"></div>
					    </div>
			        </div>
		        </div>
            </div>
        </div>
        <footer id="footer" class="navbar-fixed-bottom">
            <div class="container-fluid">
                <div class="row">
                    <div class="col-sm-10">
                        ZEBRA and the stylized Zebra head are trademarks of Zebra Technologies Corporation, registered in many jurisdictions worldwide. All other trademarks are the property of their respective owners. &copy;2022 Zebra Technologies Corporation and/or its affiliates. All rights reserved. <a href="https://www.zebra.com/us/en/about-zebra/company-information/legal/terms-of-use.html">Terms &amp; Conditions</a>
                    </div>
                    <div class="col-sm-2">
                        <ul class="social-icons">
                            <li><a href="http://www.facebook.com/pages/Zebra-Technologies/107703715989073"><i class="fa fa-facebook"></i></a></li>
                            <li><a href="https://twitter.com/ZebraDevs"><i class="fa fa-twitter"></i></a></li>
                            <li><a href="http://www.youtube.com/zebratechnologies/"><i class="fa fa-youtube"></i></a></li>
                            <li><a href="https://www.linkedin.com/groups?home=&amp;gid=3220074&amp;trk=anet_ug_hm&amp;goback=%2Egmr_3220074"><i class="fa fa-linkedin"></i></a></li>
                            <li><a href="https://github.com/zebra-technologies"><i class="fa fa-github"></i></a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </footer><!--/#footer-->
        <script src="/js/bootstrap.min.js"></script>
        <script src="/js/owl.carousel.min.js"></script>
        <script src="/js/mousescroll.js"></script>
        <script src="/js/smoothscroll.js"></script>
        <script src="/js/jquery.prettyPhoto.js"></script>
        <script src="/js/jquery.isotope.min.js"></script>
        <script src="/js/jquery.inview.min.js"></script>
        <script src="/js/wow.min.js"></script>
        <script src="/js/bootstrap-treenav.min.js"></script>
        <script src="/js/prettify.js"></script>
        <script src="/js/zepto.js"></script>
        <script src="/js/jquery.waterfall.js"></script>   
        <script src="/js/main.js"></script>
        <script type="text/javascript">
            (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
                (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
                e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
            })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

            _st('install','zRzEsAUhWTTkrdEN2YfA','2.0.0');
        </script>
        <script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-72584442-1', 'auto');
            ga('send', 'pageview');
        </script> 
        <script>
            ChatraID = 'QDvZ76min4DhLW5vJ';
            (function(d, w, c) {
                var n = d.getElementsByTagName('script')[0],
                    s = d.createElement('script');
                w[c] = w[c] || function() {
                    (w[c].q = w[c].q || []).push(arguments);
                };
                s.async = true;
                s.src = (d.location.protocol === 'https:' ? 'https:': 'http:')
                    + '//call.chatra.io/chatra.js';
                n.parentNode.insertBefore(s, n);
            })(document, window, 'Chatra');
        </script>         
    </body>
</html>