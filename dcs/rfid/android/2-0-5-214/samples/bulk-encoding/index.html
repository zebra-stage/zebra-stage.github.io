
<!DOCTYPE html>
<html lang="en"><head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Online Documentation for Zebra Technologies developer tools and utiltiescomp including EMDK for Android, EMDK for Xamarin, StageNow, Enterprise Browser.">
    <meta name="author" content="Zebra Technologies">
    <meta name="google-site-verification" content="i4B78BrWnNy8ShJwe5feRW3jO3HE6gfYlYqYbxfl8yY">
    <meta name="msvalidate.01" content="6B651B00161BCE79B8950AC09D5C4C75">
    <meta title="Hello RFID Application">
    <title>Hello RFID Application - Zebra Technologies Techdocs</title>
    <!-- core CSS -->
    <link href="/css/bootstrap.min.css" rel="stylesheet">
    <link href="/css/font-awesome.min.css" rel="stylesheet">
    <link href="/css/animate.min.css" rel="stylesheet">
    <link href="/css/owl.carousel.css" rel="stylesheet">
    <link href="/css/owl.transitions.css" rel="stylesheet">
    <link href="/css/prettyPhoto.css" rel="stylesheet">
    <link href="/css/main.css" rel="stylesheet">
    <link href="/css/responsive.css" rel="stylesheet">
    <link href="/css/prettify.css" rel="stylesheet">
    <link href="/css/bootstrap-treenav.min.css" rel="stylesheet">
    <!--[if lt IE 9]>
    <script src="js/html5shiv.js"></script>
    <script src="js/respond.min.js"></script>
    <![endif]--> 

    <script src="//load.sumome.com/" data-sumo-site-id="699cb66cf4dc59352efb45705526d15cbe314e1cd43f7761b94d96f3cf7338e8" async="async"></script>
    <link rel="shortcut icon" href="/favicon.ico">
<script src="/js/jquery.js"></script></head><!--/head-->


<body id="home" class="homepage" data-spy="scroll" data-offset="100" data-target="#toc">

    <header id="header">
        <nav id="main-menu" class="navbar navbar-default navbar-fixed-top" role="banner">
            <div class="container-fluid">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="/"><img src="/images/logo.png" alt="logo" style="max-height:66px;float: inherit;
    padding-right: 3px;"></a> 
                    
                   
                </div>
                <div class="collapse navbar-collapse navbar-left">
                    <ul class="nav navbar-nav">
                        <li class="navbar-text pull-left"><strong>TECHDOCS</strong></li>
                        <li>
                                <a href="/dcs/rfid">RFID</a>
                        </li>
                        <p class="navbar-text">RFID SDK for Android</p>                
                    </ul>
                </div>
                                <div class="collapse navbar-collapse navbar-right">
                    <ul class="nav navbar-nav">
                        


                        <li>
                            <a href="/dcs/rfid/android/2-0-5-214/guide/about">
                                    About
                            </a>
                        </li>
                        <li>
                            <a href="/dcs/rfid/android/2-0-5-214/guide/gettingstarted">
                                    Getting Started
                            </a>
                        </li>
                        <li>
                            <a href="/dcs/rfid/android/2-0-5-214/tutorials">
                                    Tutorials
                            </a>
                        </li>                        
                        <li>
                            <a href="/dcs/rfid/android/2-0-5-214/samples">
                                    Samples
                            </a>
                        </li>
                        <li>
                            <a href="/dcs/rfid/android/2-0-5-214/guide/programming-guides">
                                    Guides
                            </a>
                        </li>
                        <li>
                            <a href="/dcs/rfid/android/2-0-5-214/apis">
                                    APIs
                            </a>
                        </li>
                        <li>
                            <a href="https://developer.zebra.com/community/home/discussions/">
                                    <i class="fa fa-comments-o"></i>
                            </a>
                        </li>
                        <li>
                            <a href="/dcs/rfid/android/2-0-5-214/search">
                                    <i class="fa fa-search"></i>
                            </a>
                        </li>
                        
                        <!-- <li ><a href="/products">SDKs</a></li>
                        <li ><a href="/samples">Samples</a></li>
                        <li ><a href="/guides">Guides</a></li>
                        <li ><a href="/tutorials">Tutorials</a></li>
                        <li ><a href="/apis">APIs</a></li> -->
                        <!-- <li><a href="#"><input type="text" class="st-default-search-input"></a></li> -->
                    </ul>
                </div>
            </div><!--/.container-->
        </nav><!--/nav-->
    </header><!--/header-->
<div class="container-fluid">
    <section id="blog">
        <div class="">
            <section class="content-with-sidebar">
            <div class="row">
                <div class="col-sm-3 hidden-sm hidden-xs" id="sidebar">
                    
                    
                    <nav id="toc" data-toggle="toc" data-spy="affix" style="height: 75%; max-width: 225px; overflow-y: auto; ">
                        
                        <ul class="nav">
                            <li><strong>Bulk Encoding</strong></li>
                        </ul>
                    </nav>
                    
                    <script type="text/javascript">
                        $(document).ready(function() {
                        	$( "#btn_SaveSmartDocOptions" ).click(function() {
                      			console.log('Saving Options');
                      			$("#modal-smartdocs").modal({show: false});
                    		});
                        	$( "#btn_SaveSmartDocOptions" ).click(function() {
                      			console.log('Clearing Options');
                      			$("#modal-smartdocs").modal({show: false});
                    		});
                        });
                    </script><link rel="stylesheet" href="https://cdn.rawgit.com/afeld/bootstrap-toc/v0.3.0/dist/bootstrap-toc.min.css">
                    <script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v0.3.0/dist/bootstrap-toc.min.js"></script>
                    <script type="text/javascript">
                        $(document).ready(function() {
                    
                        });
                    
                    
                    </script>
                </div>                
                <div class="col-sm-9 ">
                    <div class="row">
                        <div class="col-sm-12">
                            <section id="cta" class="wow fadeIn">
                                <div class="">
                                    <h1 id="hello-rfid-tutorial" class="anchor"><a class="heading-anchor" href="#hello-rfid-tutorial"><span></span></a>Bulk Encoding</h1>
                                    <p>
                                      RFID SDK For Android
                                            2.0.5.214
                              </p>
                                </div>
                            </section>                    
                        </div>
                    </div>
                    <div id="mainContent" class="row">
                        <div class="col-sm-12">
                            <div class="blog-post blog-large wow fadeInLeft" data-wow-duration="300ms" data-wow-delay="0ms">
                            <!-- Start of guide -->
                                <div class="service-box wow fadeInRight">
                                    <div class="">

                                        <p></p><h2 id="overview" class="anchor"><a class="heading-anchor" href="#overview"><span></span></a>Overview</h2>
<p>This section introduces the purpose and scope of the Bulk Encoding sample application. It outlines how the app demonstrates the use of <a href="../../apis">Zebra's RFID3 API</a> to perform bulk RFID tag encoding for retail inventory management.</p>

<blockquote>
  <p>Note: <strong>The demo app in this guide is intended for tutorial purposes only</strong> and should not be used in production environments. </p>
</blockquote>

<hr>
<h3 id="basicaddition" class="anchor"><a class="heading-anchor" href="#enableandroidpermissions"><span></span></a>Prerequisites</h3>

<ol>
<li><p>Developer machine with latest Android studio</p></li>
<li><p>Developer machine with Zebra Android device USB driver installed</p></li>
<li><p>Zebra Android device with developer mode turned on</p></li>
<li><p>Reader regulatory is configured as per norms using RFID Manager or Zebra RFID Demo application</p></li>
</ol>

<h3 id="createtheproject" class="anchor"><a class="heading-anchor" href="#createtheproject"><span></span></a>Create The Project</h3>

<p>Start by creating a new project in Android Studio. Call it <code>Bulk Encoding</code> to match later references in this guide. For help, see the <a href="../../tutorials/tutCreateProjectAndroidStudio">Android Studio tutorial</a>. </p>

<h3 id="basicaddition" class="anchor"><a class="heading-anchor" href="#enableandroidpermissions"><span></span></a>Adding essentials</h3>

<p>Modify the application's <code>MainActivity.java</code> file to use the RFID SDK library.</p>

<ol>
<li><p>Declare RFID readers fields</code>:  </p>
<pre class="prettyprint"><code>
    private static Readers readers;`
    private static ArrayList<ReaderDevice> availableRFIDReaderList;
    private static ReaderDevice readerDevice;
    private static RFIDReader reader;
    private static String TAG = "DEMO";
</code></pre></li>

<li><p>Create SDK <code>Readers</code> instance</p>

<pre class="prettyprint"><code>
        // SDK
        if (readers == null) {
            readers = new Readers(this, ENUM_TRANSPORT.SERVICE_SERIAL);
        }
</code></pre>
<p><strong>Note :</strong> For RFD40XX USB connectivity create reader instance with
    </p>
    <pre class="prettyprint"><code>
     readers = new Readers(this, ENUM_TRANSPORT.SERVICE_USB)
    </code></pre>

<p><strong>Note :</strong> For Bluetooth instance
</p>
<pre class="prettyprint"><code>
readers = new Readers(this, ENUM_TRANSPORT.BLUETOOTH)
</code></pre>

<p><strong>Note :</strong> For TC53E/EM45/ET6x device
</p>
<pre class="prettyprint"><code>
readers = new Readers(this, ENUM_TRANSPORT.RE_SERIAL)
</code></pre>
</li>

<li><p>Create <code>AsyncTask</code> to retrieve available readers using <code>GetAvailableRFIDReaderList</code> </p>
<pre class="prettyprint"><code>
        new AsyncTask<Void, Void, Boolean>() {
            @Override
            protected Boolean doInBackground(Void... voids) {
                try {
                    if (readers != null) {
                        if (readers.GetAvailableRFIDReaderList() != null) {
                            availableRFIDReaderList = readers.GetAvailableRFIDReaderList();
                            if (availableRFIDReaderList.size() != 0) {
                                // get first reader from list
                                readerDevice = availableRFIDReaderList.get(0);
                                reader = readerDevice.getRFIDReader();
                                if (!reader.isConnected()) {
                                    // Establish connection to the RFID Reader
                                    reader.connect();
                                    ConfigureReader();
                                    return true;
                                }
                            }
                        }
                    }
                } catch (InvalidUsageException e) {
                    e.printStackTrace();
                } catch (OperationFailureException e) {
                    e.printStackTrace();
                    Log.d(TAG, "OperationFailureException " + e.getVendorMessage());
                }
                return false;
            }

            @Override
            protected void onPostExecute(Boolean aBoolean) {
                super.onPostExecute(aBoolean);
                if (aBoolean) {
                    Toast.makeText(getApplicationContext(), "Reader Connected", Toast.LENGTH_LONG).show();
                    //textView.setText("Reader connected");
                }
            }
        }.execute();
</code></pre></li>


<li><p>Add <code>ConfigureReader</code> method to configure the reader for trigger type and adding event handler / listener <code>addEventsListener</code> </p>
<pre class="prettyprint"><code>
    private void ConfigureReader() {
        if (reader.isConnected()) {
            TriggerInfo triggerInfo = new TriggerInfo();
            triggerInfo.StartTrigger.setTriggerType(START_TRIGGER_TYPE.START_TRIGGER_TYPE_IMMEDIATE);
            triggerInfo.StopTrigger.setTriggerType(STOP_TRIGGER_TYPE.STOP_TRIGGER_TYPE_IMMEDIATE);
            try {
                // receive events from reader
                if (eventHandler == null)
                    eventHandler = new EventHandler();
                reader.Events.addEventsListener(eventHandler);
                // HH event
                reader.Events.setHandheldEvent(true);
                // tag event with tag data
                reader.Events.setTagReadEvent(true);
                // application will collect tag using getReadTags API
                reader.Events.setAttachTagDataWithReadEvent(false);
                // set trigger mode as rfid so scanner beam will not come
                reader.Config.setTriggerMode(ENUM_TRIGGER_MODE.RFID_MODE, true);
                // set start and stop triggers
                reader.Config.setStartTrigger(triggerInfo.StartTrigger);
                reader.Config.setStopTrigger(triggerInfo.StopTrigger);
            } catch (InvalidUsageException e) {
                e.printStackTrace();
            } catch (OperationFailureException e) {
                e.printStackTrace();
            }
        }
    }
</code></pre></li>

<li><p>Add <code>EventHandler</code> class to handle Reader operation events - <code>eventReadNotify</code> and Reader status events - <code>eventStatusNotify</code> </p>
<pre class="prettyprint"><code>
    // Read/Status Notify handler
    // Implement the RfidEventsListener class to receive event notifications
    public class EventHandler implements RfidEventsListener {
        // Read Event Notification
        public void eventReadNotify(RfidReadEvents e) {
            TagData[] tags = reader.Actions.getReadTags(100);
            int accessSuccess = 0;
            int accessFailure = 0;
    
            if (tags != null) {
                for (TagData tag : tags) {
                    Log.d(TAG,tag.getTagID() + " :: " + tag.getOpCode() + " :: " + tag.getOpStatus());
                    if (tag.getOpCode() == ACCESS_OPERATION_CODE.ACCESS_OPERATION_LOCK) {
                        if (tag.getOpStatus() == ACCESS_OPERATION_STATUS.ACCESS_SUCCESS) {
                            accessSuccess++;
                            Log.d(TAG,"LOCK SUCCESS");
                        }
                    } else if (tag.getOpCode() == ACCESS_OPERATION_CODE.ACCESS_OPERATION_WRITE) {
                        if (tag.getOpStatus() == ACCESS_OPERATION_STATUS.ACCESS_SUCCESS) {
                            accessSuccess++;
                            Log.d(TAG,"WRITE SUCCESS");
                        }
                    }else if (tag.getOpCode() == ACCESS_OPERATION_CODE.ACCESS_OPERATION_READ) {
                        if (tag.getOpStatus() == ACCESS_OPERATION_STATUS.ACCESS_SUCCESS) {
                            accessSuccess++;
                            Log.d(TAG,"READ SUCCESS");
                        }
                    }
    
                    if (tag.getOpStatus() != ACCESS_OPERATION_STATUS.ACCESS_SUCCESS) {
                        accessFailure++;
                        try {
                            reader.Actions.TagAccess.OperationSequence.deleteAll();
                        }catch (InvalidUsageException ex) {
                            ex.printStackTrace();
                        } catch (final OperationFailureException ex) {
                            ex.printStackTrace();
                        }
                    }
                    if(accessSuccess == 6){
                        System.out.println(tag.getTagID() + " All Encoding Success ");
                        try {
                            reader.Actions.TagAccess.OperationSequence.deleteAll();
                        }catch (InvalidUsageException ex) {
                            ex.printStackTrace();
                        } catch (final OperationFailureException ex) {
                            ex.printStackTrace();
                        }
                    }
                }
                Log.d(TAG,"ACCESS SUCCESS: " + accessSuccess);
                Log.d(TAG,"NOT ACCESS SUCCESS: " + accessFailure);
            }
        }
    

        // Status Event Notification
        public void eventStatusNotify(RfidStatusEvents rfidStatusEvents) {
            Log.d(TAG, "Status Notification: " + rfidStatusEvents.StatusEventData.getStatusEventType());
        }
    }
    
</code></pre></li>
</ol>


<h2 id="runningapp" class="anchor"><a class="heading-anchor" href="#code1"><span></span></a>Running the application</h2>

<h3 id="basicaddition" class="anchor"><a class="heading-anchor" href="#enableandroidpermissions"><span></span></a>Connection with device</h3>

<ol>
<li><p>Connect any android terminal with PC over USB</p></li>
<li><p>Make sure project is already built successfully</p></li>
<li><p>Click on <code>Run app (shift+F10)</code> from top right corner</p></li>
<li><p>Now Application should be launched on Zebra Android device</p></li>
<li><p>Application should be showing <code>Reader connected</code> on screen</p></li>
<p><img src="../../images/CreatingProjectAndroidStudioImages/hellorfid_launch.png" alt="img"></p></li>
</ol>

<h2 id="tips" class="anchor"><a class="heading-anchor" href="#tips"><span></span></a>Programming tips</h2>
<ol>
<li><p> <code>GetAvailableRFIDReaderList</code> must be called from background thread, in current example uses <code>AsyncTask</code> for same purpose</p></li>
<li><p>At time of exit, application shounld disconnect with reader using <code>Disconnect</code> API and free up SDK instance. Refer MainActivity <code>OnDestroy</code> method </p></li>
<li><p>In case of failures or exceptions, refer messages returned by API call to get more details</p></li>
</ol>

<h2 id="whatsnext" class="anchor"><a class="heading-anchor" href="#whatsnext"><span></span></a>What's Next</h2>

<p>Add code to perfrom bulk encoding.</p>
<ol>
<li><p>Create a filter to specify which tags should be operated on. </p>
<pre class="prettyprint"><code>
    private AccessFilter setAccessFilter(String tagID) 
    {
        int len = tagID.length()/2;
        AccessFilter accessFilter = new AccessFilter();
        byte[] tagMask = new byte[len];
        byte[] tagData = hexStringToByteArray(tagID);
        for(int i=0; i < len; i++){
            tagMask[i] = (byte)0xff;
        }

        accessFilter.TagPatternA.setMemoryBank(MEMORY_BANK.MEMORY_BANK_EPC);
        accessFilter.TagPatternA.setTagPattern(tagData);
        accessFilter.TagPatternA.setTagPatternBitCount(len*8);
        accessFilter.TagPatternA.setBitOffset(32);
        accessFilter.TagPatternA.setTagMask(tagMask);
        accessFilter.TagPatternA.setTagMaskBitCount(tagMask.length*8);
        accessFilter.setAccessFilterMatchPattern(FILTER_MATCH_PATTERN.A);
        
        return accessFilter;
    }
</code></pre></li>

<li><p>Perform a sequence of operations to encode RFID tags </p>
<pre class="prettyprint"><code>
    public void bulkEncoding (String EpcID, String currentPassword) { 
        try 
        { 
            TagAccess tagAccess = new TagAccess(); 
            TagAccess.Sequence opSequence = tagAccess.new Sequence(tagAccess); 

            //Read EPC memory 
            TagAccess.Sequence.Operation op1 = opSequence.new Operation(); 
            op1.setAccessOperationCode(ACCESS_OPERATION_CODE.ACCESS_OPERATION_READ); 
            op1.ReadAccessParams.setMemoryBank(MEMORY_BANK.MEMORY_BANK_EPC); 
            op1.ReadAccessParams.setOffset(2); 
            op1.ReadAccessParams.setCount(6); 
            reader.Actions.TagAccess.OperationSequence.add(op1); 

            // Unlocking the EPC memory 
            TagAccess.Sequence.Operation op2 = opSequence.new Operation(); 
            op2.setAccessOperationCode(ACCESS_OPERATION_CODE.ACCESS_OPERATION_LOCK); 
            op2.LockAccessParams.setLockPrivilege(LOCK_DATA_FIELD.LOCK_EPC_MEMORY, LOCK_PRIVILEGE.LOCK_PRIVILEGE_UNLOCK); 
            op2.LockAccessParams.setAccessPassword(Long.decode("0X" + currentPassword)); 
            reader.Actions.TagAccess.OperationSequence.add(op2); 

            // Write EPC ID 
            TagAccess.Sequence.Operation op3 = opSequence.new Operation(); 
            op3.setAccessOperationCode(ACCESS_OPERATION_CODE.ACCESS_OPERATION_WRITE); 
            op3.WriteAccessParams.setMemoryBank(MEMORY_BANK.MEMORY_BANK_EPC); 
            op3.WriteAccessParams.setOffset(2); 
            op3.WriteAccessParams.setWriteData(EpcID); 
            op3.WriteAccessParams.setWriteDataLength(EpcID.length()/4); 
            reader.Actions.TagAccess.OperationSequence.add(op3); 

            // Write to User memory bank 
            String userMemoryData = "7777"; 
            TagAccess.Sequence.Operation op4 = opSequence.new Operation(); 
            op4.setAccessOperationCode(ACCESS_OPERATION_CODE.ACCESS_OPERATION_WRITE); 
            op4.WriteAccessParams.setMemoryBank(MEMORY_BANK.MEMORY_BANK_USER); 
            op4.WriteAccessParams.setOffset(0); 
            op4.WriteAccessParams.setWriteData(userMemoryData); 
            op4.WriteAccessParams.setWriteDataLength(userMemoryData.length()/4); 
            reader.Actions.TagAccess.OperationSequence.add(op4); 

            // Write new access password to reserved memory bank 
            String newPassword = "AAAABBBB"; 
            TagAccess.Sequence.Operation op5 = opSequence.new Operation(); 
            op5.setAccessOperationCode(ACCESS_OPERATION_CODE.ACCESS_OPERATION_WRITE); 
            op5.WriteAccessParams.setMemoryBank(MEMORY_BANK.MEMORY_BANK_RESERVED); 
            op5.WriteAccessParams.setOffset(2); 
            op5.WriteAccessParams.setWriteData(newPassword); 
            op5.WriteAccessParams.setWriteDataLength(newPassword.length()/4); 
            reader.Actions.TagAccess.OperationSequence.add(op5); 

            //Lock the tag with the new access password 
            TagAccess.Sequence.Operation op6 = opSequence.new Operation(); 
            op6.setAccessOperationCode(ACCESS_OPERATION_CODE.ACCESS_OPERATION_LOCK); 
            op6.LockAccessParams.setLockPrivilege(LOCK_DATA_FIELD.LOCK_EPC_MEMORY, LOCK_PRIVILEGE.LOCK_PRIVILEGE_READ_WRITE); 
            op6.LockAccessParams.setAccessPassword(Long.decode("0X" + newPassword)); 
            reader.Actions.TagAccess.OperationSequence.add(op6); 

            reader.Actions.TagAccess.OperationSequence.performSequence(setAccessFilter(EpcID), null, null); 
        } 
        catch (InvalidUsageException e) { 
            e.printStackTrace(); 
        } catch (OperationFailureException e) { 
            e.printStackTrace(); 
        } 
    }

</code></pre></li>
</ol>
                                
<h2 id="fullapp" class="anchor"><a class="heading-anchor" href="#fullapp"><span></span></a>Complete MainActivity.java Implementation</h2>

<p>Below is the complete implementation of MainActivity.java which combines all the code snippets discussed earlier. This class handles RFID reader initialization, connection, configuration, event handling, and performs the bulk encoding operations. Key features include:</p>

<ul>
<li>Reader connection and configuration in an AsyncTask</li>
<li>Implementation of the EventHandler for processing RFID events</li>
<li>Setting up triggers for inventory operations</li>
<li>Proper resource cleanup in onDestroy()</li>
<li>The complete bulkEncoding() method to perform sequential tag operations</li>
</ul>

<pre class="prettyprint"><code>
package com.zebra.demorfid.bulkEncoding;

import android.os.AsyncTask;
import android.os.Bundle;
import android.support.design.widget.FloatingActionButton;
import android.support.design.widget.Snackbar;
import android.support.v7.app.AppCompatActivity;
import android.support.v7.widget.Toolbar;
import android.util.Log;
import android.view.View;
import android.view.Menu;
import android.view.MenuItem;
import android.widget.TextView;
import android.widget.Toast;

import com.zebra.rfid.api3.*;

import java.util.ArrayList;

public class MainActivity extends AppCompatActivity {

    private static Readers readers;
    private static ArrayList<ReaderDevice> availableRFIDReaderList;
    private static ReaderDevice readerDevice;
    private static RFIDReader reader;
    private static String TAG = "DEMO";
    TextView textView;
    private EventHandler eventHandler;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
        Toolbar toolbar = (Toolbar) findViewById(R.id.toolbar);
        setSupportActionBar(toolbar);

        FloatingActionButton fab = (FloatingActionButton) findViewById(R.id.fab);
        fab.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View view) {
                Snackbar.make(view, "Replace with your own action", Snackbar.LENGTH_LONG)
                        .setAction("Action", null).show();
            }
        });

        //
        // UI
        textView = (TextView) findViewById(R.id.TagText);
        // SDK
        if (readers == null) {
            readers = new Readers(this, ENUM_TRANSPORT.SERVICE_SERIAL);
        }
        new AsyncTask<Void, Void, Boolean>() {
            @Override
            protected Boolean doInBackground(Void... voids) {
                try {
                    if (readers != null) {
                        if (readers.GetAvailableRFIDReaderList() != null) {
                            availableRFIDReaderList = readers.GetAvailableRFIDReaderList();
                            if (availableRFIDReaderList.size() != 0) {
                                // get first reader from list
                                readerDevice = availableRFIDReaderList.get(0);
                                reader = readerDevice.getRFIDReader();
                                if (!reader.isConnected()) {
                                    // Establish connection to the RFID Reader
                                    reader.connect();
                                    ConfigureReader();
                                    // apply filter to specify which tags should be operated on. 
                                    setAccessFilter("E28011112222400F97D3DA44");
                                    // perform bulk encoding operation
                                    bulkEncoding("E28011112222400F97D3DA44", "11112222");
                                    return true;
                                }
                            }
                        }
                    }
                } catch (InvalidUsageException e) {
                    e.printStackTrace();
                } catch (OperationFailureException e) {
                    e.printStackTrace();
                    Log.d(TAG, "OperationFailureException " + e.getVendorMessage());
                }
                return false;
            }

            @Override
            protected void onPostExecute(Boolean aBoolean) {
                super.onPostExecute(aBoolean);
                if (aBoolean) {
                    Toast.makeText(getApplicationContext(), "Reader Connected", Toast.LENGTH_LONG).show();
                    textView.setText("Reader connected");
                }
            }
        }.execute();
    }

    @Override
    public boolean onCreateOptionsMenu(Menu menu) {
        // Inflate the menu; this adds items to the action bar if it is present.
        getMenuInflater().inflate(R.menu.menu_main, menu);
        return true;
    }

    @Override
    public boolean onOptionsItemSelected(MenuItem item) {
        // Handle action bar item clicks here. The action bar will
        // automatically handle clicks on the Home/Up button, so long
        // as you specify a parent activity in AndroidManifest.xml.
        int id = item.getItemId();

        //noinspection SimplifiableIfStatement
        if (id == R.id.action_settings) {
            return true;
        }

        return super.onOptionsItemSelected(item);
    }

    private void ConfigureReader() {
        if (reader.isConnected()) {
            TriggerInfo triggerInfo = new TriggerInfo();
            triggerInfo.StartTrigger.setTriggerType(START_TRIGGER_TYPE.START_TRIGGER_TYPE_IMMEDIATE);
            triggerInfo.StopTrigger.setTriggerType(STOP_TRIGGER_TYPE.STOP_TRIGGER_TYPE_IMMEDIATE);
            try {
                // receive events from reader
                if (eventHandler == null)
                    eventHandler = new EventHandler();
                reader.Events.addEventsListener(eventHandler);
                // HH event
                reader.Events.setHandheldEvent(false);
                // tag event with tag data
                reader.Events.setTagReadEvent(true);
                // application will collect tag using getReadTags API
                reader.Events.setAttachTagDataWithReadEvent(false);
                // set trigger mode as rfid so scanner beam will not come
                reader.Config.setTriggerMode(ENUM_TRIGGER_MODE.RFID_MODE, true);
                // set start and stop triggers
                reader.Config.setStartTrigger(triggerInfo.StartTrigger);
                reader.Config.setStopTrigger(triggerInfo.StopTrigger);
            } catch (InvalidUsageException e) {
                e.printStackTrace();
            } catch (OperationFailureException e) {
                e.printStackTrace();
            }
        }
    }

    @Override
    protected void onDestroy() {
        super.onDestroy();
        try {
            if (reader != null) {
                reader.Events.removeEventsListener(eventHandler);
                reader.disconnect();
                Toast.makeText(getApplicationContext(), "Disconnecting reader", Toast.LENGTH_LONG).show();
                reader = null;
                readers.Dispose();
                readers = null;
            }
        } catch (InvalidUsageException e) {
            e.printStackTrace();
        } catch (OperationFailureException e) {
            e.printStackTrace();
        } catch (Exception e) {
            e.printStackTrace();
        }
    }

    // Read/Status Notify handler
    // Implement the RfidEventsLister class to receive event notifications
    public class EventHandler implements RfidEventsListener {
        // Read Event Notification
        public void eventReadNotify(RfidReadEvents e) {
            TagData[] tags = reader.Actions.getReadTags(100);
            int accessSuccess = 0;
            int accessFailure = 0;
    
            if (tags != null) {
                for (TagData tag : tags) {
                    Log.d(TAG,tag.getTagID() + " :: " + tag.getOpCode() + " :: " + tag.getOpStatus());
                    if (tag.getOpCode() == ACCESS_OPERATION_CODE.ACCESS_OPERATION_LOCK) {
                        if (tag.getOpStatus() == ACCESS_OPERATION_STATUS.ACCESS_SUCCESS) {
                            accessSuccess++;
                            Log.d(TAG,"LOCK SUCCESS");
                        }
                    } else if (tag.getOpCode() == ACCESS_OPERATION_CODE.ACCESS_OPERATION_WRITE) {
                        if (tag.getOpStatus() == ACCESS_OPERATION_STATUS.ACCESS_SUCCESS) {
                            accessSuccess++;
                            Log.d(TAG,"WRITE SUCCESS");
                        }
                    }else if (tag.getOpCode() == ACCESS_OPERATION_CODE.ACCESS_OPERATION_READ) {
                        if (tag.getOpStatus() == ACCESS_OPERATION_STATUS.ACCESS_SUCCESS) {
                            accessSuccess++;
                            Log.d(TAG,"READ SUCCESS");
                        }
                    }
    
                    if (tag.getOpStatus() != ACCESS_OPERATION_STATUS.ACCESS_SUCCESS) {
                        accessFailure++;
                        try {
                            reader.Actions.TagAccess.OperationSequence.deleteAll();
                        }catch (InvalidUsageException ex) {
                            ex.printStackTrace();
                        } catch (final OperationFailureException ex) {
                            ex.printStackTrace();
                        }
                    }
                    if(accessSuccess == 6){
                        System.out.println(tag.getTagID() + " All Encoding Success ");
                        try {
                            reader.Actions.TagAccess.OperationSequence.deleteAll();
                        }catch (InvalidUsageException ex) {
                            ex.printStackTrace();
                        } catch (final OperationFailureException ex) {
                            ex.printStackTrace();
                        }
                    }
                }
                Log.d(TAG,"ACCESS SUCCESS: " + accessSuccess);
                Log.d(TAG,"NOT ACCESS SUCCESS: " + accessFailure);
            }
        }
    

        // Status Event Notification
        public void eventStatusNotify(RfidStatusEvents rfidStatusEvents) {
            Log.d(TAG, "Status Notification: " + rfidStatusEvents.StatusEventData.getStatusEventType());
        }
    }
}


</code></pre>

<!-- 4/24/18- dead link removed. No corresponding folder or sample found. -EC
## Downloading the Sample
Download the source for this project in the [associated sample](/emdk-for-android/6-10/guide/sample/samplebatteryintent).

 --><p></p>
                                        


                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                </div><!--/.col-sm-6-->
            </div>
            </section>
        </div>
    </section>    

<div class="modal fade" id="basicModal" tabindex="-1" role="dialog" aria-labelledby="basicModal" aria-hidden="true" data-backdrop="true">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal" aria-hidden="true">X</button>
					</div>
					<div class="modal-body">
						<div id="modalImg">
						
						</div>
					</div>
			</div>
		  </div>
		</div> </div>
         <footer id="footer" class="navbar-fixed-bottom">
            <div class="container-fluid">
                <div class="row">
                    <div class="col-sm-10">
                        ZEBRA and the stylized Zebra head are trademarks of Zebra Technologies Corporation, registered in many jurisdictions worldwide. All other trademarks are the property of their respective owners. ©2024 Zebra Technologies Corporation and/or its affiliates. All rights reserved. <a href="https://www.zebra.com/us/en/about-zebra/company-information/compliance/information-privacy/terms-of-use.html">Terms &amp; Conditions</a>
                    </div>
    <!--                 
                    <div class="col-sm-2">
                        <ul class="social-icons">
                            <li><a href="http://www.facebook.com/pages/Zebra-Technologies/107703715989073"><i class="fa fa-facebook"></i></a></li>
                            <li><a href="https://twitter.com/ZebraDevs"><i class="fa fa-twitter"></i></a></li>
                            <li><a href="http://www.youtube.com/zebratechnologies/"><i class="fa fa-youtube"></i></a></li>
                            <li><a href="https://www.linkedin.com/groups?home=&gid=3220074&trk=anet_ug_hm&goback=%2Egmr_3220074"><i class="fa fa-linkedin"></i></a></li>
                            <li><a href="https://github.com/developer-zebra"><i class="fa fa-github"></i></a></li>
                        </ul>
                    </div> -->
                </div>
            </div>
        </footer><!--/#footer-->
    <script src="/js/bootstrap.min.js"></script>
    <script src="/js/owl.carousel.min.js"></script>
    <script src="/js/mousescroll.js"></script>
    <script src="/js/smoothscroll.js"></script>
    <script src="/js/jquery.prettyPhoto.js"></script>
    <script src="/js/jquery.isotope.min.js"></script>
    <script src="/js/jquery.inview.min.js"></script>
    <script src="/js/wow.min.js"></script>
    <script src="/js/bootstrap-treenav.min.js"></script>
    <script src="/js/prettify.js"></script>
    <script src="/js/zepto.js"></script>
    <script src="/js/jquery.waterfall.js"></script>   
    <script src="/js/main.js"></script>

<script type="text/javascript">
  (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
  (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
  e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
  })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

  _st('install','zRzEsAUhWTTkrdEN2YfA','2.0.0');
</script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-72584442-1', 'auto');
  ga('send', 'pageview');

</script> 

<script>
    ChatraID = 'QDvZ76min4DhLW5vJ';
    (function(d, w, c) {
        var n = d.getElementsByTagName('script')[0],
            s = d.createElement('script');
        w[c] = w[c] || function() {
            (w[c].q = w[c].q || []).push(arguments);
        };
        s.async = true;
        s.src = (d.location.protocol === 'https:' ? 'https:': 'http:')
            + '//call.chatra.io/chatra.js';
        n.parentNode.insertBefore(s, n);
    })(document, window, 'Chatra');
</script>         


</body></html>