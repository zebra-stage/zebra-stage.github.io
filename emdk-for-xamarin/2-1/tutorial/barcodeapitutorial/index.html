
<!DOCTYPE html>
<html lang="en"><head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Online Documentation for Zebra Technologies developer tools and utiltiescomp including EMDK for Android, EMDK for Xamarin, StageNow, Enterprise Browser.">
    <meta name="author" content="Zebra Technologies">
    <meta name="google-site-verification" content="i4B78BrWnNy8ShJwe5feRW3jO3HE6gfYlYqYbxfl8yY">
    <meta name="msvalidate.01" content="6B651B00161BCE79B8950AC09D5C4C75">
    <meta title="Basic Scanning Tutorial using Barcode API">
    <title>Basic Scanning Tutorial using Barcode API - Zebra Technologies Techdocs</title>
    <!-- core CSS -->
    <link href="/css/bootstrap.min.css" rel="stylesheet">
    <link href="/css/font-awesome.min.css" rel="stylesheet">
    <link href="/css/animate.min.css" rel="stylesheet">
    <link href="/css/owl.carousel.css" rel="stylesheet">
    <link href="/css/owl.transitions.css" rel="stylesheet">
    <link href="/css/prettyPhoto.css" rel="stylesheet">
    <link href="/css/main.css" rel="stylesheet">
    <link href="/css/responsive.css" rel="stylesheet">
    <link href="/css/prettify.css" rel="stylesheet">
    <link href="/css/bootstrap-treenav.min.css" rel="stylesheet">
    <!--[if lt IE 9]>
    <script src="js/html5shiv.js"></script>
    <script src="js/respond.min.js"></script>
    <![endif]--> 

    <script src="//load.sumome.com/" data-sumo-site-id="699cb66cf4dc59352efb45705526d15cbe314e1cd43f7761b94d96f3cf7338e8" async="async"></script>
    <script type="text/javascript">
(function(e, t) {
    function r(e, t) {
        e[t] = function() {
            e.push([ t ].concat(Array.prototype.slice.call(arguments, 0)));
        };
    }
    var n = "JacoRecorder";
    (function(e, t, i, s) {
        if (!i.__VERSION) {
            e[n] = i;
            var o = [ "init", "identify", "startRecording", "stopRecording", "removeUserTracking", "setUserInfo" ];
            for (var u = 0; u < o.length; u++) r(i, o[u]);
            i.__VERSION = .9, i.__INIT_TIME = 1 * new Date;
            var a = t.createElement("script");
            a.async = !0, a.setAttribute("crossorigin", "anonymous"), a.src = s;
            var f = t.getElementsByTagName("head")[0];
            f.appendChild(a);
        }
    })(e, t, e[n] || [], "//recorder-assets.getjaco.com/recorder.js");
}).call(window, window, document), window.JacoRecorder.push([ "init", "0e8738ef-44eb-4eed-8d47-e564ec9b5587", {} ]);
</script>
    <link rel="shortcut icon" href="/favicon.ico">
<script src="/js/jquery.js"></script></head><!--/head-->


<body id="home" class="homepage" data-spy="scroll" data-offset="100" data-target="#toc">

    <header id="header">
        <nav id="main-menu" class="navbar navbar-default navbar-fixed-top" role="banner">
            <div class="container-fluid">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="/"><img src="/images/logo.png" alt="logo" style="max-height:42px;float: inherit;
    padding-right: 3px;"></a> 
                    
                   
                </div>
                <div class="collapse navbar-collapse navbar-left">
                    <ul class="nav navbar-nav">
                        <li class="navbar-text pull-left"><strong>TechDocs</strong></li>
                        <li class="dropdown">
                          <button class="btn btn-default dropdown-toggle" type="button" data-toggle="dropdown"> EMDK For Xamarin 2.1
                          <span class="caret"></span></button>
                          <ul class="dropdown-menu">
                                <li><a onclick="changeVersion('2-1','1-0','/emdk-for-xamarin/1-0/guide/about')">EMDK For Xamarin 1.0</a></li>
                                <li><a onclick="changeVersion('2-1','2-0','/emdk-for-xamarin/2-0/guide/about')">EMDK For Xamarin 2.0</a></li>
                          </ul>
                        </li>                    
                    </ul>
                </div>
                <div class="collapse navbar-collapse navbar-right">
                    <ul class="nav navbar-nav">
                        


                        <li>
                            <a href="/emdk-for-xamarin/2-1/guide/about">
                                    Home
                            </a>
                        </li>
                        <li>
                            <a href="/emdk-for-xamarin/2-1/guide/gettingstarted">
                                    Getting Started
                            </a>
                        </li>
                        <li>
                            <a href="/emdk-for-xamarin/2-1/tutorial/">
                                    Tutorials
                            </a>
                        </li>
                        <li>
                            <a href="/emdk-for-xamarin/2-1/samples">
                                    Samples
                            </a>
                        </li>
                        <li>
                            <a href="/emdk-for-xamarin/2-1/guide/programming-guides">
                                    Guides
                            </a>
                        </li>
                        <li>
                            <a href="/emdk-for-xamarin/2-1/guide/profile-manager-guides">
                                    Profile Manager
                            </a>
                        </li>
                        <li>
                            <a href="/emdk-for-xamarin/2-1/api">
                                    APIs
                            </a>
                        </li>
                        <li>
                            <a href="/emdk-for-xamarin/2-1/search">
                                    <i class="fa fa-search"></i>
                            </a>
                        </li>
                        <!-- <li ><a href="/products">SDKs</a></li>
                        <li ><a href="/samples">Samples</a></li>
                        <li ><a href="/guides">Guides</a></li>
                        <li ><a href="/tutorials">Tutorials</a></li>
                        <li ><a href="/apis">APIs</a></li> -->
                        <!-- <li><a href="#"><input type="text" class="st-default-search-input"></a></li> -->
                    </ul>
                </div>
            </div><!--/.container-->
        </nav><!--/nav-->
    </header><!--/header-->
<div class="container-fluid">
    <section id="blog">
        <div class="">
            <section class="content-with-sidebar">
            <div class="row">
                <div class="col-sm-3 hidden-sm hidden-xs" id="sidebar">
                    
                    
                    <nav id="toc" data-toggle="toc" data-spy="affix" style="height: 75%; max-width: 225px; overflow-y: auto; ">
                        
                        <ul class="nav">
                            <li><strong>Basic Scanning Tutorial using Barcode API</strong></li>
                        </ul>
                    </nav>
                    <div class="modal fade" id="modal-smartdocs" tabindex="-1" role="dialog" aria-labelledby="basicModal" aria-hidden="true" data-backdrop="true">
                    	<div class="modal-dialog">
                    		<div class="modal-content">
                    			<div class="modal-header">
                    				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">X</button>
                    			</div>
                    			<div class="modal-body">
                    				<form>
                    				  <div class="form-group">
                    				    <label for="exampleInputEmail1">MX Version On Device:</label>
                    				    <select class="form-control">
                    					  <option value="4.0">4.0</option>
                    					  <option value="4.1">4.1</option>
                    					  <option value="4.2">4.2</option>
                    					  <option value="4.3">4.3</option>
                    					  <option value="5.0">5.0</option>
                    					</select>
                    				  </div>						
                    				  <div class="form-group">
                    				    <label for="exampleInputEmail1">OSX Version On Device:</label>
                    				    <select class="form-control">
                    					  <option value="1.0">1.0</option>
                    					  <option value="1.2">1.2</option>
                    					  <option value="1.3.4-56">1.3.4-56</option>
                    					  <option value="3.4">3.4</option>
                    					  <option value="3.5">3.5</option>
                    					  <option value="3.6">3.6</option>
                    					  <option value="4.1">4.1</option>
                    					  <option value="4.2">4.2</option>
                    					  <option value="4.3">4.3</option>
                    					  <option value="4.4">4.4</option>
                    					</select>
                    				  </div>						
                    				  <div class="form-group">
                    				    <label for="exampleInputEmail1">Android Version On Device:</label>
                    				    <select class="form-control">
                    					  <option value="23">6.0 Marshmallow</option>
                    					  <option value="22">5.1 Lollipop</option>
                    					  <option value="21">5.0 Lollipop</option>
                    					  <option value="19">4.4 Kitkat</option>
                    					  <option value="18">4.3 Jellybean</option>
                    					  <option value="17">4.2.x Jellybean</option>
                    					  <option value="16">4.1.x Jellybean</option>
                    					  <option value="15">4.0.3-4.0.4 Ice Cream Sandwich</option>
                    					  <option value="14">4.0-4.0.2 Ice Cream Sandwich</option>
                    					  <option value="10">2.3.3-2.3.4 Gingerbread</option>
                    					</select>
                    				  </div>
                    				  <div class="form-group">
                    				  	<button class="primary" id="btn_SaveSmartDocOptions">Save Changes</button><button class="primary" id="btn_ClearSmartDocOptions">Clear Changes</button>
                    				  </div>
                    				</form>
                    			</div>
                    	</div>
                      </div>
                    </div>
                    
                    <script type="text/javascript">
                        $(document).ready(function() {
                        	$( "#btn_SaveSmartDocOptions" ).click(function() {
                      			console.log('Saving Options');
                      			$("#modal-smartdocs").modal({show: false});
                    		});
                        	$( "#btn_SaveSmartDocOptions" ).click(function() {
                      			console.log('Clearing Options');
                      			$("#modal-smartdocs").modal({show: false});
                    		});
                        });
                    </script><link rel="stylesheet" href="https://cdn.rawgit.com/afeld/bootstrap-toc/v0.3.0/dist/bootstrap-toc.min.css">
                    <script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v0.3.0/dist/bootstrap-toc.min.js"></script>
                    <script type="text/javascript">
                        $(document).ready(function() {
                    
                        });
                    
                    
                    </script>
                </div>                
                <div class="col-sm-9 ">
                    <div class="row">
                        <div class="col-sm-12">
                            <section id="cta" class="wow fadeIn">
                                <div class="">
                                    <h1 id="basic-scanning-tutorial-using-barcode-api" class="anchor"><a class="heading-anchor" href="#basic-scanning-tutorial-using-barcode-api"><span></span></a>Basic Scanning Tutorial using Barcode API</h1>
                                    <p>
                                        EMDK For Xamarin
                                        2.1
                                    </p>
                                </div>
                            </section>                    
                        </div>
                    </div>
                    <div id="mainContent" class="row">
                        <div class="col-sm-12">
                            <div class="blog-post blog-large wow fadeInLeft" data-wow-duration="300ms" data-wow-delay="0ms">
                            <!-- Start of guide -->
                                <div class="service-box wow fadeInRight">
                                    <div class="">

                                        <p></p><p>This guide will walk you through creating an EMDK For Xamarin application that will use Barcode/Scanning APIs  to perform Scanning operations on your Symbol Android devices without using Profile Wizard. The API uses Barcode Manager, which is the primary object to access barcode scanning feature.</p>

<h2 id="prerequisites" class="anchor"><a class="heading-anchor" href="#prerequisites"><span></span></a>Prerequisites</h2>

<p>Before starting this tutorial you must install the following software.</p>

<ul>
<li>Visual Studio 2013 or later</li>

<li><a href="http://xamarin.com/download">Xamarin Plaform</a></li>

<li><a href="/emdk-for-xamarin/2-1/guide/vs/setup">Symbol EMDK for Xamarin Add-in for Visual Studio</a> or <a href="/emdk-for-xamarin/2-1/guide/xs/setup">Symbol EMDK for Xamarin Add-in for Xamarin Studio</a></li>
</ul>

<h2 id="createanewproject" class="anchor"><a class="heading-anchor" href="#createanewproject"><span></span></a>Create a new project</h2>

<p>When creating a project for this tutorial use the project name <strong>BasicScanningTutorial</strong></p>

<p>Follow this <a href="/emdk-for-xamarin/2-1/guide/newprojectvisualstudio">guide</a> to create a new project in Visual Studio.</p>

<p>Follow this <a href="/emdk-for-xamarin/2-1/guide/newprojectxamarinstudio">guide</a> to create a new project in Xamarin Studio.</p>

<h2 id="addsymbolemdkcomponent" class="anchor"><a class="heading-anchor" href="#addsymbolemdkcomponent"><span></span></a>Add Symbol EMDK Component</h2>

<p>Follow this <a href="/emdk-for-xamarin/2-1/guide/component/install">guide</a> to add the needed component you your project.</p>

<h2 id="setupandroidmanifestxml" class="anchor"><a class="heading-anchor" href="#setupandroidmanifestxml"><span></span></a>Setup AndroidManifest.xml</h2>

<p>In order to use the Symbol EMDK for Xamarin in your project we first need to add a few items to the AndroidManifest.xml in your project.</p>

<p><strong>Perform the following steps to setup your AndroidManifest</strong></p>

<ol>
<li><p>Open the AndroidManifest.xml in your project from the <strong>Solution pane</strong> &gt; "Project Name" &gt; Properties</p></li>

<li><p>Replace the <code>&lt;uses-sdk /&gt;</code> line with  <code>&lt;uses-sdk android:minSdkVersion="19" /&gt;</code></p></li>

<li><p>Add a new android permission directly below the <code>uses-sdk</code> line.</p>

<pre class="prettyprint"><code>
&lt;uses-permission android:name="com.symbol.emdk.permission.EMDK" /&gt;
</code></pre></li>

<li><p>Now add a <code>uses-library</code> tag inside the <code>application</code> node.</p>

<pre class="prettyprint"><code>
&lt;uses-library android:name="com.symbol.emdk" /&gt;
</code></pre></li>
</ol>

<p><strong>Your completed AndroidManifest.xml should resemble the following:</strong></p>

<pre class="prettyprint"><code>
&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;manifest xmlns:android="http://schemas.android.com/apk/res/android" package="BasicScanningTutorial.BasicScanningTutorial" android:versionCode="1" android:versionName="1.0"&gt;
  &lt;uses-sdk android:minSdkVersion="19" /&gt;
  &lt;uses-permission android:name="com.symbol.emdk.permission.EMDK" /&gt;
    &lt;application android:label="BasicScanningTutorial" android:icon="@drawable/Icon"&gt;
    &lt;uses-library android:name="com.symbol.emdk" /&gt;
  &lt;/application&gt;
&lt;/manifest&gt;
</code></pre>

<h2 id="setupuserinterface" class="anchor"><a class="heading-anchor" href="#setupuserinterface"><span></span></a>Setup User Interface</h2>

<p>Lets begin by adding some new strings to our Strings.xml Resource file. The Strings we add will be use as static text for our TextView UI labels.</p>

<ol>
<li><p>Open the Strings.xml file by selecting <strong>Solution pane</strong> &gt; "Project Name" &gt; Resources &gt; values &gt; Strings.xml</p></li>

<li><p>Add the following xml inside the <strong>resources</strong> node.</p>

<pre class="prettyprint"><code>
&lt;string name="statusView_text"&gt;Status:&lt;/string&gt;
&lt;string name="dataView_text"&gt;Data:&lt;/string&gt;
</code></pre></li>
</ol>

<p>Your completed Strings.xml should resemble the following:</p>

<pre class="prettyprint"><code>
&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;resources&gt;
    &lt;string name="Hello"&gt;Hello World, Click Me!&lt;/string&gt;
    &lt;string name="ApplicationName"&gt;BasicScanningTutorial&lt;/string&gt;

    &lt;string name="statusView_text"&gt;Status:&lt;/string&gt;
    &lt;string name="dataView_text"&gt;Data:&lt;/string&gt;
&lt;/resources&gt;
</code></pre>

<p>Next we will add new Resource file that will hold a few Dimension values that will be used to properly position our UI elements.</p>

<ol>
<li><p>In the <strong>Solution pane</strong>, expand the <strong>Resources</strong> folder, right click on the <strong>values</strong> folder, and select <strong>Add</strong> &gt; <strong>New Item</strong>.</p></li>

<li><p>In the center pane of the <strong>Add New Item</strong> dialog, select XML File.</p></li>

<li><p>Enter Dimens.xml in the <strong>Name:</strong> field, then click <strong>Add</strong>.</p></li>

<li><p>Now open the new Dimens.xml file, add the following xml.</p>

<pre class="prettyprint"><code>
&lt;resources&gt;
  &lt;dimen name="activity_horizontal_margin"&gt;16dp&lt;/dimen&gt;
  &lt;dimen name="activity_vertical_margin"&gt;16dp&lt;/dimen&gt;
&lt;/resources&gt;
</code></pre></li>
</ol>

<p>Your completed Dimens.xml should resemble the following</p>

<pre class="prettyprint"><code>  
  &lt;?xml version="1.0" encoding="utf-8" ?&gt;
  &lt;resources&gt;
    &lt;dimen name="activity_horizontal_margin"&gt;16dp&lt;/dimen&gt;
    &lt;dimen name="activity_vertical_margin"&gt;16dp&lt;/dimen&gt;
  &lt;/resources&gt;
</code></pre>

<p>Now lets build our User Interface by opening our main layout file and modifying the underlying XML.</p>

<ol>
<li><p>Open our main layout by selecting <strong>Solution pane</strong> &gt; "Project Name" &gt; Resources &gt; layout &gt; Main.axml</p></li>

<li><p>Wait for the layout to load in the Form Builder.</p></li>

<li><p>Switch from <strong>Design view</strong> to <strong>Source view</strong> by selecting the <strong>Source Tab</strong> in the bottom left corner of the <strong>Form Builder</strong></p></li>

<li><p>Select and delete all xml in the source view.</p></li>

<li><p>Now add the following xml to the source view:  </p>

<pre class="prettyprint"><code>
&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:paddingLeft="@dimen/activity_horizontal_margin"
    android:paddingRight="@dimen/activity_horizontal_margin"
    android:paddingTop="@dimen/activity_vertical_margin"
    android:paddingBottom="@dimen/activity_vertical_margin"
    tools:context=".MainActivity"&gt;
  &lt;TextView
      android:layout_width="wrap_content"
      android:layout_height="wrap_content"
      android:text="@string/statusView_text"
      android:layout_below="@+id/textView"
      android:layout_marginTop="20dp"
      android:id="@+id/statusViewTitle" /&gt;
  &lt;TextView
      android:layout_width="wrap_content"
      android:layout_height="wrap_content"
      android:text=""
      android:layout_below="@+id/statusViewTitle"
      android:id="@+id/statusView" /&gt;
  &lt;TextView
      android:layout_width="wrap_content"
      android:layout_height="wrap_content"
      android:text="@string/dataView_text"
      android:layout_below="@+id/statusView"
      android:id="@+id/DataViewTitle" /&gt;
  &lt;ScrollView
      android:layout_width="wrap_content"
      android:layout_height="wrap_content"
      android:id="@+id/scrollView2"
      android:layout_alignParentLeft="true"
      android:layout_alignParentStart="true"
      android:layout_alignParentRight="true"
      android:layout_alignParentEnd="true"
      android:layout_alignParentBottom="true"
      android:layout_below="@+id/DataViewTitle"&gt;
    &lt;TextView
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_below="@+id/scrollView2"
        android:id="@+id/DataView" /&gt;
  &lt;/ScrollView&gt;
&lt;/RelativeLayout&gt;
</code></pre></li>

<li><p>Now switch back to <strong>Design view</strong> to see our completed User Interface.</p></li>
</ol>

<h2 id="addsomecode" class="anchor"><a class="heading-anchor" href="#addsomecode"><span></span></a>Add Some Code</h2>

<p>Now lets add some code to our project.</p>

<ol>
<li><p>Start by opening up our MainActivity, select <strong>Solution pane</strong> &gt; "Project Name" &gt; MainActivity.cs</p></li>

<li><p>Add a <code>using</code> directive that references the Symbol EMDK for Xamarin</p>

<pre class="prettyprint"><code>
using Symbol.XamarinEMDK;
using Symbol.XamarinEMDK.Barcode;
</code></pre></li>

<li><p>Now lets add some global variables to the MainActivity class for later use.</p>

<pre class="prettyprint"><code>
private TextView statusView = null;
private TextView dataView = null;

EMDKManager emdkManager = null;
BarcodeManager barcodeManager = null;
Scanner scanner = null;
</code></pre></li>

<li><p>When our OnCreate Activity lifecycle method is called, we call the Activity's SetContentVeiw() method, which will pull in the layout we created previously in Main.axml. We now need to initialize our User Interface global variables so they can be referenced anywhere in the MainActivity class. We will do that inside our OnCreate method just below where SetContentVeiw() is called.</p>

<pre class="prettyprint"><code>    
    statusView = FindViewById&lt;TextView&gt;(Resource.Id.statusView);
    dataView = FindViewById&lt;TextView&gt;(Resource.Id.DataView);
</code></pre></li>


<li><p>Also in our OnCreate method, we will call the EMDKManager.GetEMDKManger() method to start the EMDKManger initialization process. Then we will check the result of the method and alert the user by updating the statusView TextView.</p>

<pre class="prettyprint"><code>    
    EMDKResults results = EMDKManager.GetEMDKManager(Android.App.Application.Context, this);
    if (results.StatusCode != EMDKResults.STATUS_CODE.Success)
    {
        statusView.Text = "Status: EMDKManager object creation failed ...";
    }
    else
    {
        statusView.Text = "Status: EMDKManager object creation succeeded ...";
    }
</code></pre></li>

<li><p>In step 5, we updated the statusView.Text property directly, which is safe to do since we are doing so on the UI thread. Later in this tutorial we will be receiving information off of the UI tread, and we will want to update the statusVeiw and dataView from that background thread. In order to do this safely, we will implement a few helper methods to check which thread we are on, and perform the proper thread safe method to update the Text property of our UI element.</p>

<p>Add the following helper methods to your Activity class</p>

<pre class="prettyprint"><code>

void displayStatus(String status)
{

<pre><code>if (Looper.MainLooper.Thread == Java.Lang.Thread.CurrentThread())
{
    statusView.Text = status;
}
else
{
    RunOnUiThread(() =&amp;gt; statusView.Text = status);
}
</code></pre>

}


void displaydata(string data)
{

<pre><code>if (Looper.MainLooper.Thread == Java.Lang.Thread.CurrentThread())
{
    dataView.Text += (data + "\n");
}
else
{
    RunOnUiThread(() =&amp;gt; dataView.Text += data + "\n");
}
</code></pre>

}
</code></pre></li>





<li><p>Next we will need to add and interface to our Activity that notifies the client ( MainActivity ) that the EMDKManager object is ready to use <code>OnOpened</code> or is no longer available for use <code>OnClosed</code>.</p>

<ol>
<li><p>Add the the interface to our MainActivity</p>

<pre class="prettyprint"><code>
public class MainActivity : Activity, EMDKManager.IEMDKListener
</code></pre></li>

<li><p>Add the IEMDKListener methods <strong>OnOpened</strong> and <strong>OnClosed</strong> to the MainActivity class</p>

<pre class="prettyprint"><code>
void EMDKManager.IEMDKListener.OnOpened(EMDKManager emdkManager)
{

}

void EMDKManager.IEMDKListener.OnClosed()
{

}
</code></pre></li>

<li><p>When the OnOpened method is called, an instance of the EMDKManger is passed as its only argument. We will
use this instance of the EMDKManger to initialize our global EMDKManager object. We will also alert the user that EMDKManager was successfully Opened and is ready for use. This is also a good time to initialize the barcode scanner by calling a helper method <strong>InitScanner</strong> that we will cover later in this tutorial.</p>

<pre class="prettyprint"><code>
void EMDKManager.IEMDKListener.OnOpened(EMDKManager emdkManager)
{
    statusView.Text = "Status: EMDK Opened successfully ...";

<pre><code>this.emdkManager = emdkManager;

InitScanner();
</code></pre>

}
</code></pre></li>

<li><p>We also need to make sure we clean up the EMDKManger references when they can no longer be used. We will do this in the OnClosed method.</p>

<pre class="prettyprint"><code>
void EMDKManager.IEMDKListener.OnClosed()
{
    statusView.Text = "Status: EMDK Open failed unexpectedly. ";

<pre><code>if (emdkManager != null)
{
    emdkManager.Release();
    emdkManager = null;
}
</code></pre>

}
</code></pre></li></ol></li>

<li><p>During the lifecycle of our application we will need to initialize the scanner when our application resumes and de-initialize the scanner to insure that the scanner hardware is available to other applications if our application is not in the foreground. To simplify the process, we will encapsulate all scanner initialization code into a method called <strong>InitScanner</strong> and all of the de-initialization code into method called <strong>DeinitScanner</strong>.</p>

<h3 id="initscanner" class="anchor"><a class="heading-anchor" href="#initscanner"><span></span></a>InitScanner</h3>

<p>In the <strong>InitScanner</strong> method we insure that our emdkManager object is not null, and then if our barcodeManager object has not already been initialized, we retrieve an instance of the barcode manager from the emdkManager by calling emdkManager.GetInstance() and pass a Barcode Feature type as an argument.</p>

<pre class="prettyprint"><code>
barcodeManager = (BarcodeManager)emdkManager.GetInstance(EMDKManager.FEATURE_TYPE.Barcode);
</code></pre>

<p>Once our barcodeManger object is initialized, we can initialize our scanner object by calling barcodeManger.GetDevice().</p>

<pre class="prettyprint"><code>
scanner = barcodeManager.GetDevice(BarcodeManager.DeviceIdentifier.Default);
</code></pre>

<p>The GetDevice method takes a DeviceIdentifier type as an argument.  By specifying <strong>Default</strong>, we tell the barcodeManager Object what we want a scanner instance of the hardware that is default for a given device.  For instance, a TC55 that has laser hardware, <strong>Defualt</strong> would return an laser scanner instance.</p>

<p>Now that we have our scanner object instance, we can attach some event handlers that will be used to asynchronously receive scanner data and status messages.  At this time we will just attach the handlers and then we will cover the handlers in depth later in this tutorial.</p>

<pre class="prettyprint"><code>
//Attahch the Data Event handler to get the data callbacks.
scanner.Data += scanner_Data;

//Attach Scanner Status Event to get the status callbacks.
scanner.Status += scanner_Status;
</code></pre>

<p>Now we can Enable enable and configure our scanner instance, by calling <strong>scanner.Enable()</strong>, and then retrieving the scanners current config with <strong>scanner.GetConfig</strong>. We will then modify the config and set the scanner's configuration to our modified version.</p>

<pre class="prettyprint"><code>
scanner.Enable();

//EMDK: Configure the scanner settings
ScannerConfig config = scanner.GetConfig();
config.SkipOnUnsupported = ScannerConfig.SkipOnUnSupported.None;
config.ScanParams.DecodeLEDFeedback = true;
config.ReaderParams.ReaderSpecific.ImagerSpecific.PickList = ScannerConfig.PickList.Enabled;
config.DecoderParams.Code39.Enabled = true;
config.DecoderParams.Code128.Enabled = false;
scanner.SetConfig(config);
</code></pre>

<p>Your completed <strong>InitScanner()</strong> should resemble the following</p>

<pre class="prettyprint"><code>
void InitScanner()
{
    if (emdkManager != null)
    {

<pre><code>    if (barcodeManager == null)
    {
        try
        {

            //Get the feature object such as BarcodeManager object for accessing the feature.
            barcodeManager = (BarcodeManager)emdkManager.GetInstance(EMDKManager.FEATURE_TYPE.Barcode);

            scanner = barcodeManager.GetDevice(BarcodeManager.DeviceIdentifier.Default);

            if (scanner != null)
            {

                //Attahch the Data Event handler to get the data callbacks.
                scanner.Data += scanner_Data;

                //Attach Scanner Status Event to get the status callbacks.
                scanner.Status += scanner_Status;

                scanner.Enable();

                //EMDK: Configure the scanner settings
                ScannerConfig config = scanner.GetConfig();
                config.SkipOnUnsupported = ScannerConfig.SkipOnUnSupported.None;
                config.ScanParams.DecodeLEDFeedback = true;
                config.ReaderParams.ReaderSpecific.ImagerSpecific.PickList = ScannerConfig.PickList.Enabled;
                config.DecoderParams.Code39.Enabled = true;
                config.DecoderParams.Code128.Enabled = false;
                scanner.SetConfig(config);

            }
            else
            {
                displayStatus("Failed to enable scanner.\n");
            }
        }
        catch (ScannerException e)
        {
            displayStatus("Error: " + e.Message);
        }
        catch (Exception ex)
        {
            displayStatus("Error: " + ex.Message);
        }
    }
}
</code></pre>

}
</code></pre>

<h3 id="deinitscanner" class="anchor"><a class="heading-anchor" href="#deinitscanner"><span></span></a>DeinitScanner</h3>

<p>In the <strong>DeinitScanner</strong> method we will detach our scanner data and status events and disable the scanner.</p>

<pre class="prettyprint"><code>
scanner.Data -= scanner_Data;
scanner.Status -= scanner_Status;

scanner.Disable();
</code></pre>

<p>Then we will clean up our used barcodeManager resources my telling the emdkManger to release the barcodeManager.</p>

<pre class="prettyprint"><code>
emdkManager.Release(EMDKManager.FEATURE_TYPE.Barcode);
</code></pre>

<p>Your completed <strong>DeinitScanner</strong> should resemble the following</p>

<pre class="prettyprint"><code>
void DeinitScanner()
{
    if (emdkManager != null)
    {

<pre><code>    if (scanner != null) {
        try {

            scanner.Data -= scanner_Data;
            scanner.Status -= scanner_Status;

            scanner.Disable();


        } catch (ScannerException e) {
            Log.Debug(this.Class.SimpleName, "Exception:" + e.Result.Description);
        }
    }

    if (barcodeManager != null)
    {
        emdkManager.Release(EMDKManager.FEATURE_TYPE.Barcode);
    }
    barcodeManager = null;
    scanner = null;
}
</code></pre>

}
</code></pre>

<h3 id="scanner_dataeventhandler" class="anchor"><a class="heading-anchor" href="#scanner_dataeventhandler"><span></span></a>scanner_Data event handler</h3>

<p>As mention earlier in this tutorial, we need to implement an event handler to asynchronously receive scanner data. When the scanner_Data event is called an DataEventArgs will be passed. We will need to pull the ScanDataCollection from the DataEventArgs and then iterate through ScanDataCollection appending the data to our dataView</p>

<pre class="prettyprint"><code>
void scanner_Data(object sender, Scanner.DataEventArgs e)
{
    ScanDataCollection scanDataCollection = e.P0;

<pre><code>if ((scanDataCollection != null) &amp;amp;&amp;amp; (scanDataCollection.Result == ScannerResults.Success))
{
    IList&amp;lt;ScanDataCollection.ScanData&amp;gt; scanData = scanDataCollection.GetScanData();

    foreach (ScanDataCollection.ScanData data in scanData)
    {
        displaydata(data.LabelType + " : " + data.Data);
    }
}
</code></pre>

}
</code></pre>

<h3 id="scanner_statuseventhandler" class="anchor"><a class="heading-anchor" href="#scanner_statuseventhandler"><span></span></a>scanner_Status event handler</h3>

<p>When the scanner_Status event is called an StatusEventArgs will be passed. Will need to pull the Scanner State from the EventArgs and then update the statusView with the proper message based on the scanner state.</p>

<pre class="prettyprint"><code>
void scanner_Status(object sender, Scanner.StatusEventArgs e)
{
    String statusStr = "";

<pre><code>//EMDK: The status will be returned on multiple cases. Check the state and take the action.
StatusData.ScannerStates state = e.P0.State;

if (state == StatusData.ScannerStates.Idle)
{
    statusStr = "Scanner is idle and ready to submit read.";
    try
    {
        if (scanner.IsEnabled &amp;amp;&amp;amp; !scanner.IsReadPending)
        {
            scanner.Read();
        }
    }
    catch (ScannerException e1)
    {
        statusStr = e1.Message;
    }
}
if (state == StatusData.ScannerStates.Waiting)
{
    statusStr = "Waiting for Trigger Press to scan";
}
if (state == StatusData.ScannerStates.Scanning)
{
    statusStr = "Scanning in progress...";
}
if (state == StatusData.ScannerStates.Disabled)
{
    statusStr = "Scanner disabled";
}
if (state == StatusData.ScannerStates.Error)
{
    statusStr = "Error occurred during scanning";

}
displayStatus(statusStr);
</code></pre>

}
</code></pre></li>


<li><p>Lastly we need to make sure we handle the lifecycle methods in our application by overriding OnPause and OnResume to properly handle our application going to the background and coming back to the foreground. We also need to clean up references EMDKManager before our application exits by overriding OnDestroy.</p>

<pre class="prettyprint"><code>
protected override void OnResume()
{
    base.OnResume();
    InitScanner();
}


protected override void OnPause()
{
    base.OnPause();
    DeinitScanner();
}



protected override void OnDestroy()
{
    base.OnDestroy();

<pre><code>//Clean up the emdkManager
if (emdkManager != null)
{
    //EMDK: Release the EMDK manager object
    emdkManager.Release();
    emdkManager = null;
}
</code></pre>

}
</code></pre></li>
</ol>

<h2 id="runningtheapplication" class="anchor"><a class="heading-anchor" href="#runningtheapplication"><span></span></a>Running the application</h2>

<p>Now that we are finished with our Barcode API Application, lets see how it runs.</p>

<blockquote>
  <p>NOTE: Make sure the device is connected to your development system via a USB cable, and that Developer Mode/USB debugging is enabled on the device.</p>
</blockquote>

<ol>
<li>Start the application by pressing the "Play" button on the toolbar in your IDE.
The IDE will install the new application on the device and run it.</li>

<li>If all goes well, you should eventually see your application start and the status message change to <code>Scanner is idle and ready to submit read.</code></li>

<li>Now point the scanner at a barcode and press the <code>Hardware Scan Trigger</code>.</li>

<li>The Barcode type and data should be appended to dataView and the Status Message should now read <code>Waiting for Trigger Press to scan</code> indicating that it is ready to scan again.</li>
</ol>

<h2 id="downloadthesource" class="anchor"><a class="heading-anchor" href="#downloadthesource"><span></span></a>Download the Source</h2>

<p>The project source to this tutorial can be <a href="https://github.com/EMDK/xamarin-samples/archive/BasicScanningTutorial.zip">downloaded (Internet Connection Required)</a>.</p><p></p>
                                        


                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                </div><!--/.col-sm-6-->
            </div>
            </section>
        </div>
    </section>    

<div class="modal fade" id="basicModal" tabindex="-1" role="dialog" aria-labelledby="basicModal" aria-hidden="true" data-backdrop="true">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal" aria-hidden="true">X</button>
					</div>
					<div class="modal-body">
						<div id="modalImg">
						
						</div>
					</div>
			</div>
		  </div>
		</div> </div>
         <footer id="footer" class="navbar-fixed-bottom">
            <div class="container-fluid">
                <div class="row">
                    <div class="col-sm-10">
                        © 2015 ZIH Corp and/or its affiliates. All rights reserved. Zebra and the stylized Zebra head are trademarks of ZIH Corp., registered in many jurisdictions worldwide. All other trademarks are the property of their respective owners. <a href="https://www.zebra.com/us/en/about-zebra/company-information/compliance/information-privacy/terms-of-use.html">Terms &amp; Conditions</a>
                    </div>
                    <div class="col-sm-2">
                        <ul class="social-icons">
                            <li><a href="http://www.facebook.com/pages/Zebra-Technologies/107703715989073"><i class="fa fa-facebook"></i></a></li>
                            <li><a href="https://twitter.com/ZebraDevs"><i class="fa fa-twitter"></i></a></li>
                            <li><a href="http://www.youtube.com/zebratechnologies/"><i class="fa fa-youtube"></i></a></li>
                            <li><a href="https://www.linkedin.com/groups?home=&amp;gid=3220074&amp;trk=anet_ug_hm&amp;goback=%2Egmr_3220074"><i class="fa fa-linkedin"></i></a></li>
                            <li><a href="https://github.com/developer-zebra"><i class="fa fa-github"></i></a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </footer><!--/#footer-->
    <script src="/js/bootstrap.min.js"></script>
    <script src="/js/owl.carousel.min.js"></script>
    <script src="/js/mousescroll.js"></script>
    <script src="/js/smoothscroll.js"></script>
    <script src="/js/jquery.prettyPhoto.js"></script>
    <script src="/js/jquery.isotope.min.js"></script>
    <script src="/js/jquery.inview.min.js"></script>
    <script src="/js/wow.min.js"></script>
    <script src="/js/bootstrap-treenav.min.js"></script>
    <script src="/js/prettify.js"></script>
    <script src="/js/zepto.js"></script>
    <script src="/js/jquery.waterfall.js"></script>   
    <script src="/js/main.js"></script>

<script type="text/javascript">
  (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
  (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
  e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
  })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

  _st('install','zRzEsAUhWTTkrdEN2YfA','2.0.0');
</script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-72584442-1', 'auto');
  ga('send', 'pageview');

</script> 

<script>
    ChatraID = 'QDvZ76min4DhLW5vJ';
    (function(d, w, c) {
        var n = d.getElementsByTagName('script')[0],
            s = d.createElement('script');
        w[c] = w[c] || function() {
            (w[c].q = w[c].q || []).push(arguments);
        };
        s.async = true;
        s.src = (d.location.protocol === 'https:' ? 'https:': 'http:')
            + '//call.chatra.io/chatra.js';
        n.parentNode.insertBefore(s, n);
    })(document, window, 'Chatra');
</script>         


</body></html>