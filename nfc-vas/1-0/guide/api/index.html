
<!DOCTYPE html>
<html lang="en"><head>

    <meta charset="utf-8">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="-1">
    <meta http-equiv="CACHE-CONTROL" content="NO-CACHE">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Online Documentation for Zebra Technologies developer tools and utilties, including EMDK for Android, EMDK for Xamarin, StageNow and Enterprise Browser.">
    <meta name="author" content="Zebra Technologies">
    <meta name="google-site-verification" content="i4B78BrWnNy8ShJwe5feRW3jO3HE6gfYlYqYbxfl8yY">
    <meta name="msvalidate.01" content="6B651B00161BCE79B8950AC09D5C4C75">
    <meta title="API">
    <title>API - TechDocs</title>
    <!-- core CSS -->
    <link href="/css/bootstrap.min.css" rel="stylesheet">
<!--     
    <link href="/css/font-awesome.min.css" rel="stylesheet">
 -->    
    <link href="/css/all.css" rel="stylesheet">
    <link href="/css/v4-shims.css" rel="stylesheet">
    <link href="/css/animate.min.css" rel="stylesheet">
    <link href="/css/owl.carousel.css" rel="stylesheet">
    <link href="/css/owl.transitions.css" rel="stylesheet">
    <link href="/css/prettyPhoto.css" rel="stylesheet">
    <link href="/css/main.css" rel="stylesheet">
    <link href="/css/responsive.css" rel="stylesheet">
    <link href="/css/prettify.css" rel="stylesheet">
    <link href="/css/bootstrap-treenav.min.css" rel="stylesheet">
    <!--[if lt IE 9]>
    <script src="js/html5shiv.js"></script>
    <script src="js/respond.min.js"></script>
    <![endif]--> 

    <script src="//load.sumome.com/" data-sumo-site-id="699cb66cf4dc59352efb45705526d15cbe314e1cd43f7761b94d96f3cf7338e8" async="async"></script>
    <link rel="shortcut icon" href="/favicon.ico">
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-01QJCMQM9N"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-01QJCMQM9N');
</script><script src="/js/jquery.js"></script></head><!--/head-->

<!-- Google tag -->





<body id="home" class="homepage" data-spy="scroll" data-offset="100" data-target="#toc">

    <header id="header">
        <nav id="main-menu" class="navbar navbar-default navbar-fixed-top" role="banner">
            <div class="container-fluid">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="/"><img src="/images/logo.png" alt="logo" style="max-height:66px;float: inherit;
    padding-right: 3px;"></a> 
                    
                   
                </div>
                <div class="collapse navbar-collapse navbar-left">
                    <ul class="nav navbar-nav">
                        <li class="navbar-text pull-left"><strong>TechDocs</strong></li>
                        <p class="navbar-text">
                                            Zebra Apple VAS SDK
                                            1.0
                        </p>

                    </ul>
                </div>
                <div class="collapse navbar-collapse navbar-right">
                    <ul class="nav navbar-nav">
                        


                        <li>
                            <a href="/nfc-vas/1-0/guide/about">
                                    About
                            </a>
                        </li>
                        <li>
                            <a href="/nfc-vas/1-0/guide/api">
                                    API
                            </a>
                        </li>
                        <li>
                            <a href="/nfc-vas/1-0/guide/demo">
                                    Demo
                            </a>
                        </li>
                        <li>
                            <a href="/nfc-vas/1-0/search">
                                    <i class="fa fa-search"></i>
                            </a>
                        </li>
                        
                        <!-- <li ><a href="/products">SDKs</a></li>
                        <li ><a href="/samples">Samples</a></li>
                        <li ><a href="/guides">Guides</a></li>
                        <li ><a href="/tutorials">Tutorials</a></li>
                        <li ><a href="/apis">APIs</a></li> -->
                        <!-- <li><a href="#"><input type="text" class="st-default-search-input"></a></li> -->
                    </ul>
                </div>
            </div><!--/.container-->
        </nav><!--/nav-->
    </header><!--/header-->
<div class="container-fluid">
    <section id="blog">
        <div class="">
            <section class="content-with-sidebar">
            <div class="row">
                <div class="col-sm-3 hidden-sm hidden-xs" id="sidebar">
                    
                    
                    <nav id="toc" data-toggle="toc" data-spy="affix" style="height: 75%; max-width: 225px; overflow-y: auto; ">
                        
                        <ul class="nav">
                            <li><strong>API</strong></li>
                        </ul>
                    </nav>
                    <div class="modal fade" id="modal-smartdocs" tabindex="-1" role="dialog" aria-labelledby="basicModal" aria-hidden="true" data-backdrop="true">
                    	<div class="modal-dialog">
                    		<div class="modal-content">
                    			<div class="modal-header">
                    				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">X</button>
                    			</div>
                    			<div class="modal-body">
                    				<form>
                    				  <div class="form-group">
                    				    <label for="exampleInputEmail1">MX Version On Device:</label>
                    				    <select class="form-control">
                    					  <option value="4.0">4.0</option>
                    					  <option value="4.1">4.1</option>
                    					  <option value="4.2">4.2</option>
                    					  <option value="4.3">4.3</option>
                    					  <option value="5.0">5.0</option>
                    					</select>
                    				  </div>						
                    				  <div class="form-group">
                    				    <label for="exampleInputEmail1">OSX Version On Device:</label>
                    				    <select class="form-control">
                    					  <option value="1.0">1.0</option>
                    					  <option value="1.2">1.2</option>
                    					  <option value="1.3.4-56">1.3.4-56</option>
                    					  <option value="3.4">3.4</option>
                    					  <option value="3.5">3.5</option>
                    					  <option value="3.6">3.6</option>
                    					  <option value="4.1">4.1</option>
                    					  <option value="4.2">4.2</option>
                    					  <option value="4.3">4.3</option>
                    					  <option value="4.4">4.4</option>
                    					</select>
                    				  </div>						
                    				  <div class="form-group">
                    				    <label for="exampleInputEmail1">Android Version On Device:</label>
                    				    <select class="form-control">
                    					  <option value="23">6.0 Marshmallow</option>
                    					  <option value="22">5.1 Lollipop</option>
                    					  <option value="21">5.0 Lollipop</option>
                    					  <option value="19">4.4 Kitkat</option>
                    					  <option value="18">4.3 Jellybean</option>
                    					  <option value="17">4.2.x Jellybean</option>
                    					  <option value="16">4.1.x Jellybean</option>
                    					  <option value="15">4.0.3-4.0.4 Ice Cream Sandwich</option>
                    					  <option value="14">4.0-4.0.2 Ice Cream Sandwich</option>
                    					  <option value="10">2.3.3-2.3.4 Gingerbread</option>
                    					</select>
                    				  </div>
                    				  <div class="form-group">
                    				  	<button class="primary" id="btn_SaveSmartDocOptions">Save Changes</button><button class="primary" id="btn_ClearSmartDocOptions">Clear Changes</button>
                    				  </div>
                    				</form>
                    			</div>
                    	</div>
                      </div>
                    </div>
                    
                    <script type="text/javascript">
                        $(document).ready(function() {
                        	$( "#btn_SaveSmartDocOptions" ).click(function() {
                      			console.log('Saving Options');
                      			$("#modal-smartdocs").modal({show: false});
                    		});
                        	$( "#btn_SaveSmartDocOptions" ).click(function() {
                      			console.log('Clearing Options');
                      			$("#modal-smartdocs").modal({show: false});
                    		});
                        });
                    </script><link rel="stylesheet" href="https://cdn.rawgit.com/afeld/bootstrap-toc/v0.3.0/dist/bootstrap-toc.min.css">
                    <script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v0.3.0/dist/bootstrap-toc.min.js"></script>
                    <script type="text/javascript">
                        $(document).ready(function() {
                    
                        });
                    
                    
                    </script>
                </div>                
                <div class="col-sm-9 ">
                    <div class="row">
                        <div class="col-sm-12">
                            <section id="cta" class="wow fadeIn">
                                <div class="">
                                    <h1 id="api" class="anchor"><a class="heading-anchor" href="#api"><span></span></a>API</h1>
                                    <p>
                                            Zebra Apple VAS SDK
                                            1.0
                                    </p>
                                </div>
                            </section>                    
                        </div>
                    </div>
                    <div id="mainContent" class="row">
                        <div class="col-sm-12">
                            <div class="blog-post blog-large wow fadeInLeft" data-wow-duration="300ms" data-wow-delay="0ms">
                            <!-- Start of guide -->
                                <div class="service-box wow fadeInRight">
                                    <div class="">

                                        <p></p><h2 id="overview" class="anchor"><a class="heading-anchor" href="#overview"><span></span></a>Overview</h2>

<p><font size="5" color="red">Review all content in the page for accuracy and completeness.</font></p>

<p><strong>Zebra Apple VAS SDK</strong> is an Android library built on top of the existing Android NFC APIs and Apple VAS protocol. It offers streamlined configuration and management of the necessary procedures involved in accessing and processing data from the Apple VAS NFC pass stored in the Apple Wallet. For simplicity, "Apple VAS NFC pass" will be referred to as "NFC pass" in this document.</p>

<p>This section discusses the contents of the NFC pass, offers guidance on developing an application to read the NFC pass, and presents the available APIs within the Zebra Apple VAS SDK. </p>

<h3 id="installsdk" class="anchor"><a class="heading-anchor" href="#installsdk"><span></span></a>Install SDK</h3>

<p>Download the SDK from the Zebra support portal and import the Android .AAR file into the "libs" folder of the Android application project.</p>

<hr>

<!--
## Pass Information

Information stored within an NFC pass include:

* **Pass Type Identifier -** The provided string is used to search for passes within an Apple Wallet. It is recommended to use the format "pass.com.developer.appname". When an NFC reader specifies one or more Pass Type Identifiers, only passes that match those identifiers are retrieved.
* **MerchantID -** The merchant ID is derived from the Pass Type Identifier as a SHA256 hash value. Each Pass Type Identifier has a corresponding MerchantID, establishing a direct relationship between them. Consequently, when using the Zebra Apple VAS SDK, supplying the Pass Type Identifier alone is sufficient. The MerchantID can be read from the AppleVasConfig object.
* **Private Key -** The NFC pass on the iPhone or Apple Watch is encrypted prior to being communicated to the Zebra mobile computer. The key used to encrypt the message is the encryption public key, provided in the json description for the pass. To decrypt the pass, the Zebra NFC VAS SDK needs the associated private key. The private key is acquired during pass creation, either by the developer with Apple's permission to create the pass or from the company that issued the NFC-enabled pass. If a private key is _not_ provided to the Zebra Apple VAS SDK, the SDK returns the message encrypted and it is the developer's responsibility to decrypt it. For example, this may include sending the encrypted pass to a backend server to be decrypted and processed.
* **Merchant URL -** (Optional) Passes are often used as loyalty cards. In situations where a customer is not yet a loyalty member, the user could simply tap the reader, and the Merchant URL can be transmitted to the device, guiding the user to a sign-up page. This implementation requires specific server APIs and processes that are beyond the scope of this document.
* **Filter -** (Optional) A company may issue passes for different reasons and/or uses. The filter offers the ability to issue numerous similar passes with distinguiahsable variations. 
    * A sample use case could involve a company issuing a season of tickets to a sporting event. In this case, all the tickets originate from the same company, with each ticket sharing similarities except for access date, which serves as the sole distinguishing factor. This distinguishing factor is used as the filter to identify any combination of dates. For example, consider a scenario where there are 4 games taking place on different dates. The developer could assign each game a specific within the date filter. The Zebra NFC VAS SDK can support all 4 games by determining which bit is set. When using the NFC reader, a filter can be specified with one bit set for the current game, and it can be designated as a bit-mask. By doing so, any pass with the corresponding bit set for the present date can be read, while passes without the bit set can be skipped.

At a minimum, the following information is required to read an Apple VAS pass:
* Pass Type Identifier
* Private Key

-----
-->

<h2 id="sdkobjects" class="anchor"><a class="heading-anchor" href="#sdkobjects"><span></span></a>SDK Objects</h2>

<p>The main SDK components are:</p>

<ol>
<li><strong>ZebraNfcVas -</strong> operational core </li>

<li><strong>VasConfig -</strong> configuration object </li>

<li><strong>Pass -</strong> an object representing the received NFC pass</li>
</ol>

<p><img src="flow-diagram.jpg" alt="" style="height:450px"></p>

<p><font size="5" color="red">Add description for diagram</font></p>

<h3 id="zebranfcvas" class="anchor"><a class="heading-anchor" href="#zebranfcvas"><span></span></a>ZebraNfcVas</h3>

<p><strong>ZebraNfcVAS object</strong> is the main component of the SDK which establishes a connection with the Zebra NFC VAS service,  handles all the communication with the NFC passes, configures the NFC reader, and reads the pass from the Apple wallet. This object must be explicitly created and initialized. After the pass is successfully read, ZebraNfcVas decrypts the data (given that a private key is provided and all information is correct and intact) and returns the Pass object back to the caller.</p>

<h3 id="vasconfig" class="anchor"><a class="heading-anchor" href="#vasconfig"><span></span></a>VasConfig</h3>

<p><strong>VasConfig</strong> is a configuration object automatically generated by calling createAppleVasConfig method from the SDK. It contains configuration for the NFC pass, including pass type identifier, private key, etc. Only one configuration object can be created at a time. The configuration object contains one or more Pass Type Identifier(s), which identifies the pass to be returned, and may contain an associated private key, used to decrypt data from the pass.</p>

<p>Example 1 of a configuration object:</p>

<ul>
<li>Pass Type Identifier:


<ul>
<li>pass.com.zebra.customer_loyalty</li>

<li>pass.com.zebra.cafe_loyalty</li></ul>
</li>

<li>Private Key: decrypts data from either of the two above pass types</li>

<li>Filter (optional)</li>

<li>Merchant URL (optional)</li>
</ul>

<p>Example 2 of a configuration object:</p>

<ul>
<li>Pass Type Identifier:


<ul>
<li>pass.com.zebra.special_holiday_event_pass </li></ul>
</li>

<li>Private Key: decrypts the data from the pass</li>

<li>Filter (optional)</li>

<li>Merchant URL (optional)</li>
</ul>

<h3 id="pass" class="anchor"><a class="heading-anchor" href="#pass"><span></span></a>Pass</h3>

<p>The <strong>Pass object</strong> contains both the payload data and supplementary metadata associated with the NFC pass. It encapsulates the information about the pass that is read. This includes:</p>

<ul>
<li>Payload data (decrypted, if the private key is available)</li>

<li>Payload date (date and time the pass was read)</li>

<li>Pass type (Apple VAS)</li>

<li>Pass Type Identifier and MerchantID (Pass Type Identifier converted to SHA256)</li>
</ul>

<p>The Pass object enables developers to verify the pass type and ensure it is not a repeat (the date and time is within 10 seconds of the actual date and time), adhering to Apple requirements.</p>

<hr>

<h2 id="developerguide" class="anchor"><a class="heading-anchor" href="#developerguide"><span></span></a>Developer Guide</h2>

<p>The following serves as a guide to develop an application that reads an NFC pass from Apple Wallet:</p>

<ol>
<li><p><strong>Implement IZebraServiceConnection Interface -</strong> It is required to implement IZebraServiceConnection Interface to receive callback methods from the Zebra NFC VAS service on the service connection/disconnection and NFC pass object. The 3 callback methods are: onServiceConnected, onServiceDisconnected, and onPassDetected.</p>

<pre class="prettyprint"><code>public class AppleVASActivity extends AppCompatActivity implements IZebraServiceConnection { 
    ...
} 
</code></pre>

<p>Replace "AppleVASActivity" with the name of the class implemented within your application.</p></li>

<li><p><strong>Create a ZebraNFCVAS object and intialize the object -</strong> ZebraNfcVas object should be declared in onCreate() and initialized by calling init().  </p>

<pre class="prettyprint"><code>private ZebraNfcVas vasSDK; 

@Override 
protected void onCreate(Bundle savedInstanceState) { 
    super.onCreate(savedInstanceState);  
    setContentView(R.layout.activity_main);  
    init(); //UI Initialization  

<pre><code>vasSdkInit();
</code></pre>

} 

private void vasSdkInit() { 
    Log.e(TAG, "vasSdkInit"); 
    vasSDK = new ZebraNfcVas(this); 
    vasSDK.init(); 
} 
</code></pre></li>

<li><p><strong>After initialization, a callback to onServiceConnection is available.</strong> Proceed with the subsequent steps for implementation of this method. </p>

<pre class="prettyprint"><code>@Override 
public void onServiceConnection() { 
    Log.e(TAG,"onServiceConnection"); 
    //Start with the app implemenation 
} 
</code></pre>

<p>a. <strong>Create an AppleVasConfig object -</strong> This is the object that the SDK uses to know how to interact with a presented NFC pass.  </p>

<pre class="prettyprint"><code>vasSDK.createAppleVasConfig(); 
</code></pre>

<p>b. <strong>Set the appropriate configuration values in the AppleVasConfig object</strong> by using the following APIs: </p>

<ul>
<li>setPassTypeIds </li>

<li>setPrivateKey </li>

<li>setFilter</li>

<li>setMerchantURL</li></ul>

<p>c. <strong>Create the ZebraNFCVAS object.</strong> This holds the instance of a VasConfig object for pass detection operation.</p>

<pre class="prettyprint"><code>vasSDK.createZebraNfcVasConfig();   
</code></pre>

<p>d. <strong>Set the AppleVasConfig object into the ZebraNFCVAS object -</strong> This informs the SDK about the configuration data to use when reading the NFC pass.</p>

<pre class="prettyprint"><code>vasSDK.setVasConfig(); 
</code></pre>

<p>e. <strong>Call connectToReader -</strong> This establishes the connection with the NFC reader. </p>

<pre class="prettyprint"><code>vasSDK.connectToReader(); 
</code></pre>

<p>f. <strong>Call enableReadPassMode -</strong> Only reader/writer capabilities are enabled and polling is configure to read Type A and Type B cards. </p>

<pre class="prettyprint"><code>vasSDK.enableReadPassMode(); 
</code></pre>

<p>g. <strong>When an NFC pass is read, onPassDetected() is called -</strong> This method receives the Pass object when a pass is read. Process the data read from the pass based on business needs. </p>

<pre class="prettyprint"><code>public void onPassDetected(Pass pass) {  
    Log.v(TAG, "&gt;&gt;&gt; PASS DETECTED &lt;&lt;&lt;"); 
    // Process data read from the pass 
} 
</code></pre>

<p>h. <strong>Call disableReadPassMode before the app goes to the background or when the activity ends -</strong> This returns the polling to the standard configuration. <font size="4" color="red">Check with Marek</font></p>

<pre class="prettyprint"><code>@Override 
public void onPause() { 
    super.onPause(); 
    Log.i(TAG, "onPause called &amp; Reader Mode Deactivated ....."); 
    vasSDK.disableReadPassMode(); 
} 
</code></pre></li>
</ol>

<hr>

<h2 id="apis" class="anchor"><a class="heading-anchor" href="#apis"><span></span></a>APIs</h2>

<p>APIs available:</p>

<ul>
<li><a href="#init">init</a></li>

<li><a href="#onserviceconnected">onServiceConnected</a></li>

<li><a href="#onservicedisconnected">onServiceDisconnected</a></li>

<li><a href="#createapplevasconfig">createAppleVasConfig</a></li>

<li><a href="#setpasstypeids">setPassTypeIds</a></li>

<li><a href="#setprivatekey">setPrivateKey</a></li>

<li><a href="#setfilter">setFilter</a></li>

<li><a href="#setmerchanturl">setMerchantURL</a></li>

<li><a href="#setvasconfig">setVasConfig</a></li>

<li><a href="#clearconfigs">clearConfigs</a></li>

<li><a href="#createzebravasconfig">createZebraVasConfig</a></li>

<li><a href="#connecttoreader">connectToReader</a></li>

<li><a href="#enablereadpassmode">enableReadPassMode</a></li>

<li><a href="#disablereadpassmode">disableReadPassMode</a></li>

<li><a href="#gettype">getType</a></li>

<li><a href="#getmerchanturl">getMerchantUrl</a></li>

<li><a href="#getterminalmode">getTerminalMode</a></li>

<li><a href="#onpassdetected">onPassDetected</a></li>

<li><a href="#getsdkversion">getSdkVersion</a></li>
</ul>

<h3 id="init" class="anchor"><a class="heading-anchor" href="#init"><span></span></a>init</h3>

<pre class="prettyprint"><code>    public void init() 
</code></pre>

<p>Initializes and binds to the Zebra NFC VAS Service.</p>

<p><strong>Parameter:</strong> None</p>

<p><strong>Return value:</strong> None</p>

<p><strong>Throws:</strong> <code>RuntimeException</code> if the service is not available or the security/signature does not match.</p>

<h3 id="onserviceconnected" class="anchor"><a class="heading-anchor" href="#onserviceconnected"><span></span></a>onServiceConnected</h3>

<p>This is a callback method invoked when Zebra NFC VAS service is connected. IZebraServiceConnection interface must be implemented. When init() is called, it tries to connect to the Zebra NFC VAS service. If successful, it calls onServiceConnected. </p>

<h3 id="onservicedisconnected" class="anchor"><a class="heading-anchor" href="#onservicedisconnected"><span></span></a>onServiceDisconnected</h3>

<p>This is a callback method invoked when Zebra NFC VAS service is disconnected. IZebraServiceConnection interface must be implemented. When init() is called, it tries to connect to the Zebra NFC VAS service. If unsuccessful, it calls onServiceDisconnected. </p>

<h3 id="createapplevasconfig" class="anchor"><a class="heading-anchor" href="#createapplevasconfig"><span></span></a>createAppleVasConfig</h3>

<pre class="prettyprint"><code>    public void createAppleVasConfig() 
</code></pre>

<p>Creates the VASConfig object and specific instance of a VasConfig object. This can only be called once.</p>

<p><strong>Parameter:</strong> None</p>

<p><strong>Return value:</strong> None</p>

<h3 id="setpasstypeids" class="anchor"><a class="heading-anchor" href="#setpasstypeids"><span></span></a>setPassTypeIds</h3>

<pre class="prettyprint"><code>    public void setPassTypeIds(String[] passTypeIds)
</code></pre>

<p>Sets the Pass Type Identifiers, the unique string values used to match an NFC pass within the Apple Wallet. The pass on the Apple device contains a matching PassTypeID. These identifiers are typically in the form 'com.company.pass.x' or other similar reverse domain string. When an NFC reader specifies one or more Pass Type Identifiers, only passes that match those identifiers are retrieved. This overwrites any existing values.</p>

<p><strong>Parameter:</strong> String[] passTypeIds <br>
This is an array of one or more Pass Type IDs. For example, it could be in the form {“pass.com.zebra”} or {“pass.com.zebra”, “pass.com.xyz.somethingspecific”}. When attempting to read a pass, the pass is checked against each Pass Type ID in the array. Consequently, a pass that matches any of the specified Pass Type IDs is retrieved.</p>

<p><font size="5" color="red">Different examples are provided for the pass type ID. Need consistency.</font> </p>

<p><strong>Return value:</strong> None</p>

<p><strong>Throws:</strong></p>

<ul>
<li><code>InvalidParameterException</code> if there are null or empty strings in the array, invalid characters, or the aray is empty in any of the Pass Type IDs.</li>

<li><code>UnsupportedEncodingException</code> if the UTF-8 conversion encoding is not available. <font size="5" color="red">What do you mean by 'not available'? Isn't SHA256 used, not UTF8?</font> This is required to
convert the PassTypeID string into byte encoding for the MerchantID calculation.  </li>

<li><code>NoSuchAlgorithmException</code> if the SHA256 algorithm is not available. <font size="5" color="red">What do you mean by 'not available'? If not, how is it made available?</font> This is required to automatically convert the PassTypeID to the equivalent MerchantID.</li>
</ul>

<h3 id="setprivatekey" class="anchor"><a class="heading-anchor" href="#setprivatekey"><span></span></a>setPrivateKey</h3>

<pre class="prettyprint"><code>    public void setPrivateKey(String key) 
</code></pre>

<p>Sets the PEM-formatted private key used to decrypt the pass object. It overwrites any pre-existing value. The NFC pass on the Apple Wallet is encrypted prior to being communicated to the Zebra mobile computer. To decrypt the pass, the Zebra NFC VAS SDK needs the associated private key. The private key is acquired during pass creation, either by the developer with Apple's permission to create the pass or from the company that issued the NFC-enabled pass. If a private key is <em>not</em> provided to the SDK, the SDK returns the message encrypted and it is the developer's responsibility to decrypt it. For example, this may include sending the encrypted pass to a backend server to be decrypted and processed.</p>

<p><strong>Parameter:</strong> String key </p>

<p>Example:</p>

<pre class="prettyprint"><code>    -----BEGIN EC PARAMETERS-----\n
    alkidnklde==\n
    -----END EC PARAMETERS-----\n 
    -----BEGIN EC PRIVATE KEY——\n 
    Aslkdflhksdfjfkk728klxld...\n
    ak7hjvgn9b8o3bv9hae98fn2...\ 
    n 9asjh90fuh34n2uh33==\n
    -----END EC PRIVATE KEY-----\n
</code></pre>

<p><strong>Return value:</strong> None</p>

<p><strong>Throws:</strong> <code>InvalidParameterException</code> if the key is null, empty, or incorrectly formatted.</p>

<h3 id="setfilter" class="anchor"><a class="heading-anchor" href="#setfilter"><span></span></a>setFilter</h3>

<pre class="prettyprint"><code>    public void setFilter(byte[] filter, FilterType type)
</code></pre>

<p>(Optional) Sets the filter information to be read for the NFC pass. The filter is supplied by the merchant of the NFC pass. This overwrites any pre-existing value. A company may issue passes for different reasons and/or uses. The filter offers the ability to issue numerous similar passes with distinguiahsable variations. <font size="5" color="red">Check with Marek</font></p>

<p>A sample use case could involve a company issuing a season of tickets to a sporting event. In this case, all the tickets originate from the same company, with each ticket sharing similarities except for access date, which serves as the sole distinguishing factor. This distinguishing factor is used as the filter to identify any combination of dates. For example, consider a scenario where there are 4 games taking place on different dates. The developer could assign each game a specific within the date filter. The Zebra NFC VAS SDK can support all 4 games by determining which bit is set. When using the NFC reader, a filter can be specified with one bit set for the current game, and it can be designated as a bit-mask. By doing so, any pass with the corresponding bit set for the present date can be read, while passes without the bit set can be skipped.</p>

<p><strong>Parameter:</strong> </p>

<ul>
<li><strong>byte[] filter -</strong> This is a 4-byte array that is the filter value used during the pass retrieval process. </li>

<li><strong>FilterType type -</strong> This is one of two constants: 


<ul>
<li>FILTER_TYPE_EXACT_MATCH - If the specified filter value exactly matches the merchant pass filter value, the match is successful.</li>

<li>FILTER_TYPE_BIT_MASK - If the specified filter value is bitwise ANDed with the merchant pass filter value and the result equals the merchant pass filter value, the match is successful.</li></ul>
</li>
</ul>

<p><strong>Return value:</strong> None</p>

<p><strong>Throws:</strong> <code>InvalidParameterException</code> if the filter value is not exactly 4 bytes in size.</p>

<h3 id="setmerchanturl" class="anchor"><a class="heading-anchor" href="#setmerchanturl"><span></span></a>setMerchantURL</h3>

<pre class="prettyprint"><code>    public void setMerchantURL(String url)
</code></pre>

<p>(Optional) Sets the VAS Merchant URL where the Apple device should be directed if no pass is currently available on the device. This overwrites any pre-existing value. </p>

<p>Passes are often used as loyalty cards. In situations where a customer is not yet a loyalty member, the user could simply tap the reader, and the Merchant URL can be transmitted to the device, guiding the user to a sign-up page. This implementation requires specific server APIs and processes that are beyond the scope of this document.</p>

<p><strong>Parameter:</strong> String url <br>
This is the merchant URL string for the associated pass, which is generally used to sign-up for a pass. It MUST use include "https://". The maximum string length is 64 bytes.</p>

<p><strong>Return value:</strong> None</p>

<p><strong>Throws:</strong> <code>InvalidParameterException</code> if the length is too long or does not contain a valid "https://" header.</p>

<h3 id="setvasconfig" class="anchor"><a class="heading-anchor" href="#setvasconfig"><span></span></a>setVasConfig</h3>

<pre class="prettyprint"><code>    public void setVASConfig() 
</code></pre>

<p>Specifies the VASConfig object to be used for interacting with the passes. Prior to using this method,createAppleVasConfig() must be called to create the VasConfig object. To retrieve or pass data, call createZebraVasConfig().</p>

<p><strong>Parameter:</strong> None</p>

<p><strong>Return value:</strong> None</p>

<p><strong>Throws:</strong> <code>InvalidParameterException</code> or <code>RuntimeException</code> if VasConfig object is null. </p>

<h3 id="clearconfigs" class="anchor"><a class="heading-anchor" href="#clearconfigs"><span></span></a>clearConfigs</h3>

<pre class="prettyprint"><code>    public void clearConfigs() 
</code></pre>

<p>Clears the VASConfig object that is used for interacting with passes. After clearing the object, data from the NFC passes cannot be retrieved until calling: setPrivateKey(), setFilter(), setPassIds(), and setVasConfig(). </p>

<p><strong>Parameter:</strong> None</p>

<p><strong>Return value:</strong> None</p>

<p>Throws: <code>RuntimeException</code> if VasConfig object is null.</p>

<h3 id="createzebravasconfig" class="anchor"><a class="heading-anchor" href="#createzebravasconfig"><span></span></a>createZebraVasConfig</h3>

<p>Creates the ZebraConfig object and holds the instance of a VasConfig object for pass detection operation.</p>

<pre class="prettyprint"><code>    public void createZebraVasConfig() 
</code></pre>

<p><strong>Parameter:</strong> None</p>

<p><strong>Return:</strong> None</p>

<h3 id="connecttoreader" class="anchor"><a class="heading-anchor" href="#connecttoreader"><span></span></a>connectToReader</h3>

<pre class="prettyprint"><code>    pubilc void connectToReader() 
</code></pre>

<p>Obtains a connection to the NFC adapter. </p>

<p><strong>Parameter:</strong> None</p>

<p><strong>Return value:</strong> Returns error code indicating success or failure:</p>

<ul>
<li><code>ERROR_NFC_IS_DISABLED</code> - the NFC adapter is disabled</li>

<li><code>ERROR_NO_NFC_SUPPORT</code> - the hardware does not have NFC support</li>

<li><code>ERROR_SUCCESS</code> - connection is successful</li>
</ul>

<h3 id="enablereadpassmode" class="anchor"><a class="heading-anchor" href="#enablereadpassmode"><span></span></a>enableReadPassMode</h3>

<pre class="prettyprint"><code>    pubilc void enableReadPassMode() 
</code></pre>

<p>Reader/writer capabilities are enabled and polling is configured for the Zebra NFC reader to read Tech Type A and Type B cards. Card emulation mode is disabled. <font size="5" color="red">Add link for reference, check with Marek</font></p>

<p><strong>Parameter:</strong> None</p>

<p><strong>Return value:</strong> None</p>

<blockquote>
  <p>Since the NFC resources are fully allocated, no other application (running on the foreground or background) can request for NFC resources.</p>
</blockquote>

<h3 id="disablereadpassmode" class="anchor"><a class="heading-anchor" href="#disablereadpassmode"><span></span></a>disableReadPassMode</h3>

<pre class="prettyprint"><code>    public void disableReadPassMode() 
</code></pre>

<p>Return to default polling mode. This method should be called whenever the app moves to the background or when the activity is terminated. <font size="5" color="red">Check with Marek – standard or default polling; does it detect Type A and B?</font></p>

<p><strong>Parameter:</strong> None</p>

<p><strong>Return value:</strong> None</p>

<h3 id="gettype" class="anchor"><a class="heading-anchor" href="#gettype"><span></span></a>getType</h3>

<pre class="prettyprint"><code>    public String getType() 
</code></pre>

<p>Returns the type of the object. </p>

<p><strong>Return value:</strong> Static string: ‘APPLE_VAS’ </p>

<h3 id="getmerchanturl" class="anchor"><a class="heading-anchor" href="#getmerchanturl"><span></span></a>getMerchantURL</h3>

<pre class="prettyprint"><code>    public String getMerchantURL() 
</code></pre>

<p>Gets the Merchant URL string which the Apple device should be directed if no pass is currently available on the device. Generally this is provided for the user to sign-up for a pass.</p>

<p><strong>Parameter:</strong> None</p>

<p><strong>Return value:</strong> </p>

<ul>
<li>If successful, returns the string of the merchant URL.</li>

<li>If unsuccessful and no merchant URL has been set, returns null.</li>
</ul>

<h3 id="getterminalmode" class="anchor"><a class="heading-anchor" href="#getterminalmode"><span></span></a>getTerminalMode</h3>

<pre class="prettyprint"><code>    public AppleVasConfig.TerminalMode getTerminalMode() 
</code></pre>

<p>Gets the current operating mode for the reader.</p>

<p><strong>Parameter:</strong> None</p>

<p><strong>Return value:</strong> TerminalMode.VasOnly </p>

<p><strong>Throws:</strong> <code>RuntimeException</code> when the Zebra NFC VAS service is not connected</p>

<h3 id="onpassdetected" class="anchor"><a class="heading-anchor" href="#onpassdetected"><span></span></a>onPassDetected()</h3>

<pre class="prettyprint"><code>    public void onPassDetected(Pass pass) 
</code></pre>

<p>The interface method onPassDetected is a callback that gets invoked when a NFC pass is read. The SDK passes the NFC pass and identifies whether the pass is encrypted or decrypted. <strong>Pass</strong> is a class where all Pass data can be accessed via getter methods: </p>

<ul>
<li><code>public String getStatusWord()</code> – Returns the StatusWord of the NFC pass detected</li>

<li><code>public Result getResultCode()</code> - Returns the ResultCode of the NFC pass detected</li>

<li><code>public byte[] getMerchantId()</code> - Returns the MerchantID (Pass Type Identifier converted to SHA256) of the NFC pass detected</li>

<li><code>public String getPassTypeId()</code> - Returns the PassTypeID of the NFC pass detected</li>

<li><code>public Type getPassType()</code> - Returns the PassType of the NFC pass detected</li>

<li><code>public byte[] getPayloadMessage()</code> - Returns the PayloadMessage of the NFC pass detected</li>

<li><code>public Date getPayloadDate()</code> - Returns the PayloadDate of the NFC pass detected</li>

<li><code>public boolean isDecrypted()</code> – Returns the status of the payload message: decrypted or encrypted</li>
</ul>

<p><strong>Parameter:</strong> Pass object </p>

<p><strong>Return value:</strong> None</p>

<h3 id="getsdkversion" class="anchor"><a class="heading-anchor" href="#getsdkversion"><span></span></a>getSdkVersion()</h3>

<pre class="prettyprint"><code>    public String getSdkVersion() 
</code></pre>

<p>Returns the version of the SDK formatted as MAJ.MIN.BUG.</p>

<p><strong>Parameter:</strong> <code>Activity activity</code> - this is the activity that registered for the NFC intent Response resp, the class that has implemented the response interface and receives the pass data.</p>

<p><strong>Return value:</strong> String - the SDK version in MAJOR.MINOR.BUG_FIX format. </p>

<hr>

<h2 id="security" class="anchor"><a class="heading-anchor" href="#security"><span></span></a>Security</h2>

<p>Zebra Apple VAS SDK implemented advanced security features to help protect the private key operation and communication between the authorized Zebra NFC VAS service and the line-of-business application. Since the Zebra NFC VAS service requires installation via the supplied .APK file, the enhanced security mechanism is designed to ensure the application connects with a genuine Zebra NFC VAS service.</p>

<p>The Zebra Apple VAS SDK incorporates security measures to ensure the authenticity of the Zebra NFC VAS service. This includes but is not limited to the following:</p>

<ul>
<li>Since the Zebra VAS Service is not part of the device system software (OS), the Zebra NFC VAS service is signed by a Zebra key (unprivileged) to ensure it is obtained from a trusted source.</li>

<li>The Zebra Apple VAS SDK validates the Zebra NFC VAS service by checking the signature of the service.</li>

<li>The Zebra NFC VAS service source code and binary are secured with an obfuscation tool.</li>
</ul>

<p>Considering the SDK is an Android .AAR file that is imported into the application project, it is possible to decompile the .AAR file and regenerate it into a modified version that connects to a malicious service. This could compromise the security and encryption of the private key, as well as other essential data, introducing potential security vulnerabilities. </p>

<p><strong>Zebra recommends application developers to implement the following integrity check to ensure the authenticity of Zebra Apple VAS SDK:</strong> To ensure the authenticity of the Zebra Apple VAS SDK, check whether the .AAR file checksum matches the checksum of the SDK provided by Zebra. The SDK is posted on the <a href="https://www.zebra.com/us/en/support-downloads.html">Zebra support portal</a> along with its file checksum details. To run the checksum of the SDK, Zebra recommends using any free “sha512sum” verification tool. Compare the result checksum with the checksum for Zebra Apple VAS SDK (.AAR), which is the following for version 1.0.0:</p>

<pre class="prettyprint"><code>    VAS SDK (.aar) version: 1.0.0
    sha512 check sum:
    d34da9a55d40bf6bd05b8120db9281d90ffe5f3857cfbd717a1ac24adce78f1d887b1993e05b92c
    1f8dcc5657963ff3645c2edd727c18aa35e755a3c2eaa4d63
</code></pre>

<!-- 
**VasConfig -** base class object used to provide an interface for storing and accessing merchant parameters required to access a VAS pass
* VasConfig() - constructor
* getType() - return the specific type of the VAS object
* setPrivateKey() - set the private key
* getPrivateKey() - return the current private key in the config object

**AppleVASConfig -** a VASConfig object that contains the Apple VAS specific parameters for accessing and processing an Apple VAS pass
* appleVasConfig constructor - create a new VAS Config object, with initialization, that contains details specific to Apple VAS interactions
* setPassTypeIds() - Mandatory - specify an array of PassTypeIds needed to read an Apple VAS pass
* setFilter() - Optional - configure the filter used to read an Apple VAS pass
* setFilterNone() - clear the filter parameter so it won’t be used
* setMerchantUrl() - specify the merchant URL needed to read an Apple VAS pass
* getPassTypeIds() - return the array of pass type IDs
* getMerchantIds() - get the calculated Merchant ID
* getFilter() - return the current filter configuration
* getMerchantUrl() - get the current merchant URL
* getTerminalMode() - get the current terminal operating mode 
* getProtocol() - get the current VAS Protocol

**ZebraNfcVas -** class that receives tag notifications, determines if it’s a valid pass and if so, processes the pass, providing either a decrypted pass if the correct PrivateKey was set or an encrypted pass (if no PrivateKey, or the wrong PrivateKey was set).
* ZebraNfcVas constructor - provide the current activity and the object that implements the response interface
* connectToReader() - attach to the NFC system and register the caller to receive the notifications
* getVersionString - get the version of the API as a string (Major Minor Build Revision)
* getVersion() - get the version of the API as a byte array
* getName() - get the name of the API
* setVasConfig() - add one VasConfig object to the internal list of config objects that should be used
* setVasConfgs() - add an array of VasConfig objects to the internal list
* clearConfigs() - clear the internal list of configurations
* enableReadPassMode() - configure the polling to only read for the types of cards in which passes are stored
* disabelReadPassMode() - return the polling to it’s original configuration
* Interface: onPassDetected() - interface function that will provide the final pass contents as well as the merchantId that matched the pass that was read.

---

## VasConfig

VasConfig for a configuration object. It will contain the specific configuration information for accessing and interpreting a VAS pass. This is a base class (interface) and shall not be instantiated by itself.

VasConfig() - constructor

### getType()


<pre class="prettify">
    <code>
public VasType getType()
    </code>
</pre>


Returns the type of the VASConfig object

**Return values:**
VasType will always return VasType.APPLE_VAS

### setPrivateKey()


<pre class="prettify">
    <code>
public void setPrivateKey(String key)
    </code>
</pre>

Sets the private key in PEM format.

**Parameters:**
<code>String key</code>

PEM formatted EC Private key. This must not be null and the string must not be empty. It must also be correctly formatted or decryption to succeed. Example:

     -----BEGIN EC PARAMETERS-----\n
     alkidnklde==\n
     -----END EC PARAMETERS-----\n
     -----BEGIN EC PRIVATE KEY——\n
     aslkdflaksdfjfkk328klxld...\n
     ak7ujvbn9b8o3bv9hae98fn2...\n
     9asjh90fuh34n2uh33==\n
     -----END EC PRIVATE KEY-----\n

**Return values:**
None

**Throws:**
<code>InvalidParameterException</code> if there the parameter is null or the empty string.

### getPrivateKey()


<pre class="prettify">
<code>public String getPrivateKey()</code>
</pre>


Get the currently configured private key

**Return values:**
String - PEM formatted private key value that was provided to the VasConfig

---

## AppleVASConfig 

This is the configuration class object for Apple VAS passes. This is setting information used to select passes that will be read. The passes that will be read must match the configuration provided by the AppleVASConfig object. AppleVasConfig Implements VasConfig.

### AppleVasConfig()


<pre class="prettify">
<code>public void AppleVasConfig()</code>
</pre>


Constructor that creates an empty AppleVasConfig object with initialization, that contains details specific to Apple VAS interactions

### setPassTypeIds()


<pre class="prettify">
<code>public void setPassTypeIds(String[] passTypeIds)</code>
</pre>


Sets the Pass Type IDs that should match the VAS pass to read. This is a list of zero or more Pass Type IDs as strings. This will OVERWRITE any existing values.

**Parameters:**
<code>String[] passTypeIds</code>

This is an array of one or more Pass Type IDs. A Pass Type ID is generally of the form: {“pass.com.zebra”} or {“pass.com.zebra”, “pass.com.xyz.somethingspecific”}

When attempting to read a pass, each Pass Type ID in the array will be used to attempt to read the pass. This means that a pass that matches any of the specified Pass Type IDs will be returned.

**Return values:**
None

**Throws:**
<code>InvalidParameterException</code> if there are null or empty strings in the array, if there are invalid characters in any of the pass Type Ids, or if the array is empty.

### setFilter() 


<pre class="prettify">
<code>public void setFilter(byte[] filter, FilterType type)</code>
</pre>


Set the filter information for the VAS pass to read. This will OVERWRITE any existing value

**Parameters:**

<code>byte[] filter</code>

This is a 4-byte array that is the filter value that will be used during the pass retrieval process. It will be used according to the filter type specified in parameter one.

<code>FilterType type</code>

This is one of two constants: `FILTER_TYPE_EXACT_MATCH` or `FILTER_TYPE_BIT_MASK`

Exact Match will exactly match the filter value to the value specified in the pass.

Bit Mask will match the specified filter value bit-wise ANDed with the merchant pass filter value. If the result is equal to the merchant pass filter value, then the match is a success.
Zebra NFC VAS SDK User’s Guide v1.0.0.1 10

**Return values:**
None

**Throws:**
`InvalidParameterException` if the filter value is not exactly 4 bytes in size

### setFilterNone()


<pre class="prettify">
<code>public void setFilterNone()</code>
</pre>


Clear the Filter. This means that any filter value in a pass (including no filter value) will be accepted.

### setMerchantUrl() 


<pre class="prettify">
<code>public void setMerchantURL(String url)</code>
</pre>


Set the merchant’s URL information for the VAS pass to read. This will OVERWRITE any existing value

**Parameters:**
<code>String url</code>

This is the merchant URL string for the associated pass. This is the URL generally used to sign up for a pass. It MUST use the https:// format and must include the https://

Maximum length is 64 bytes

**Return values:**
None

**Throws:**
`InvalidParameterException` if too long or does not contain a valid https:// header

### setPassTypeIds()


<pre class="prettify">
<code>public String[] getPassTypeIds()</code>
</pre>


Get the list of currently configured Pass Type IDs. This contains a list of zero or more Pass Type IDs as Strings

**Parameters:**
None

**Return values:**
`String[]` of Pass Type Ids.
`null` if no passTypeIds have been set.

### getMerchantIds()


<pre class="prettify">
<code>public byte[][] getMerchantIds()</code>
</pre>


Get the list of currently configured Merchant IDs. This contains a list of zero or more Merchant IDs as byte arrays. The merchant ID is the SHA256 of the Pass Type ID.

**Parameters:**
None

**Return values:**
`byte[][]` of Merchant Ids.
`null` if no passTypeIds have been set.

### getFilter()


<pre class="prettify">
<code>public byte[] getFilter()</code>
</pre>


Get the currently configured filter

**Parameters:**
None

**Return values:**
`byte[]` of the filter. This will always be exactly 5 bytes, or `null` if no filter has been set
The `filter[5]` will contain the filter type (0x01 is exact match, 0x02 is bit_mask).

### getMerchantURL()


<pre class="prettify">
<code>public String getMerchantURL()</code>
</pre>


Get the Merchant URL string

**Parameters:**
None

**Return values:**
`String` of Merchant URL
`null` if no Merchant URL has been set

### getTerminalMode()


<pre class="prettify">
<code>public String getMerchantURL()</code>
</pre>


Return the private key currently configured. It will be in PEM format

**Parameters:**
None

**Return values:**
Will always return `TerminalMode.VasOnly`

### getProtocol()


<pre class="prettify">
<code>public AppleVasConfig.VasProtocol getProtocol()</code>
</pre>


Return the private key currently configured. It will be in PEM format

**Parameters:**
None

**Return values:**
will always return `VasProtocol.FullVASProtocol`

---

## ZebraNfcVas

This is the top interface for the Zebra NFC VAS SDK. It manages the tag process and interaction. ZebraNfcVas implements NfcAdapter.ReaderCallback

### ZebraNfcVas()


<pre class="prettify">
<code>public void ZebraNfcVas(Activity activity, Response resp)</code>
</pre>


constructor, connects the library to the desired activity. Must also provide the Response interface implementation which will receive the Pass read.

**Parameters:**
`Activity activity` - this is the activity that has registered for the NFC intent
Response resp - this is the class that has implemented the Response interface and will receive the pass data

**Return values:**
None

**Throws:**
`InvalidParameterException` if either parameter is NULL


<pre class="prettify">
<code>public void ZebraNfcVas(Activity activity, Response resp, VasConfig cfg)</code>
</pre>


constructor, connects the library to the desired activity. Must also provide the Response interface implementation which will receive the Pass read. This constructor allows for creating the object and specifying the desired configuration objects at the same time

**Parameters:**
`Activity activity` - this is the activity that has registered for the NFC intent
`Response resp` - this is the class that has implemented the Response interface and will receive the pass data `VasConfig cfg` - the configuration object that will be used for retrieving and reading a pass

**Return values:**
None

**Throws:**
`InvalidParameterException` if either parameter is NULL

### connectToReader()


<pre class="prettify">
<code>public int connectToReader()</code>
</pre>


Attach the ZebraNfcVas object to the NfcAdapter.

**Parameters:** None

**Return values:** int - result value:
* 0 - success
* -1 - the current hardware does not have NFC support 
* -2 - the NFC hardware is currently disabled

### getVersionString()


<pre class="prettify">
<code>public String getVersionString()</code>
</pre>


Return the version of the ZebraNFCVAS SDK formatted as MAJ.MIN.BLD.REV

**Parameters:** None

**Return values:**
* `String` - the SDK version in MAJOR.MINOR.BUILD.REVISION format 
    * Major - change in the API that is no longer compatible with previous version
    * Minor - improvements in performance or additional APIs that are still compatible with previous versions 
    * Build - Build number
    * Revision - Revision of the current version and build

### getVersion()


<pre class="prettify">
<code>public byte[] getVersion()</code>
</pre>


Return the version of the ZebraNFCVAS SDK in a 4-byte byte[]

**Parameters:** None

**Return values:**
* `byte[]` - the SDK version in MAJOR.MINOR.BUILD.REVISION format: 
    * Major - change in the API that is no longer  compatible with previous version
    * Minor - improvements in performance or additional APIs that are still compatible with previous versions 
    * Build - Build number
    * Revision - Revision of the current version and build

### getName()


<pre class="prettify">
<code>public String getName()</code>
</pre>


Return the version of the name of the ZebraNFCVAS SDK

**Parameters:** None

**Return values:**  `String` - the name of the SDK

### setVasConfig()


<pre class="prettify">
<code>public void setVasConfig(VasConfig cfg)</code>
</pre>


Specify the VasConfig object that should be used for interacting with passes. This will add to the array of current config object(s)

**Parameters:** `VasConfig` - a VasConfig object 

**Return values:** None

**Throws:** `InvalidParameterException` if cfg is `null`.

### setVasConfig()


<pre class="prettify">
<code>public void setVasConfig(VasConfig[] cfgs)</code>
</pre>


Specify the VasConfig object or objects that should be used for interacting with passes. This can have one or more VasConfig objects. This will add to the array of current config object(s)

**Parameters:** `VasConfig[]` - an array of one or more VasConfig objects.

**Return values:** None

**Throws:** `InvalidParameterException` if cfg is `null` or if there are more than one of a single VasConfig type.

### clearConfigs()


<pre class="prettify">
<code>public void clearConfigs()</code>
</pre>


Removes all VasConfig objects from the SDK.

**Parameters:** None

**Return values:** None

### enableReadPassMode()


<pre class="prettify">
<code>public void enableReadPassMode()</code>
</pre>


Configure polling for reader mode only and only for Tech TypeA and Tech TypeB

**Parameters:** None

**Return values:** None

### disableReadPassMode()


<pre class="prettify">
<code>public void disableReadPassMode()
</code>
</pre>


Return to default polling configuration

**Parameters:** None

**Return values:** None

### onPassDetected()


<pre class="prettify">
<code>public void onPassDetected(Pass pass)
</code>
</pre>


This interface must be implemented in the calling application. The interface method onPassDetected() will be called when an AppleVAS NFC token is read. The ZebraNFCVAS SDK will provide the Pass that was read. The Pass object will have the decrypted payload (if possible) and meta data about the pass

**Parameters:** Pass pass - a Pass object containing information about the pass that was read.

**Return values:** None

## Pass

This an object that contains information and the payload of the pass read from the user’s mobile device.

### getPassType()


<pre class="prettify">
<code>public Pass.Type getPassType()
</code>
</pre>


Returns the type of the Pass

**Parameters:** None

**Return values:** `Pass.Type.AppleVas`

### getPayloadDate()


<pre class="prettify">
<code>public Date getPayloadDate()
</code>
</pre>


Returns the Date of the pass. This corresponds to the time when the pass NFC message was generated by an Apple device. The date should be examined and the pass should be rejected if the time is more than 10 sec older than the current time on the reading device. This is to prevent recording and replay attacks. The Date should be within 10 sec of the current date and time

**Parameters:** None

**Return values:** `Date` date

### getPayloadMessage()


<pre class="prettify">
<code>public byte[] getPayloadMessage()
</code>
</pre>


Returns the content of the NFC message received from the Apple device. If the Private Key was provided and the decryption is successful, this will be the decrypted payload of the NFC message. Otherwise, this will be the encrypted payload.

**Parameters:** None

**Return values:** `byte[]` payload

### getPassTypeId()


<pre class="prettify">
<code>public String getPassTypeId()
</code>
</pre>


Returns the Pass Type Id that matches the pass that was read.

**Parameters:** None

**Return values:** `String` Pass Type Id

### getMerchantId()


<pre class="prettify">
<code>public byte[] getMerchantId()
</code>
</pre>


Returns the MerchantId that matches the pass that was read. This is the SHA256 of the Pass Type Id.

**Parameters:** None

**Return values:** `byte[]` MerchantId

### getResultCode()


<pre class="prettify">
<code>public Pass.Result getResultCode()
</code>
</pre>


Returns the result code for receiving the pass.

**Parameters:** None

**Return values:** 
* `Pass.Result.Success` - pass was successfully read and decrypted
* `Pass.Result.Failure` - there was a failure attempting to read the pass. The payload is not valid
* `Pass.Result.NotVas` - a tag was detected but it was not an Apple VAS pass and was not read
* `Pass.Result.IncorrectPrivateKey` - the private key provided does not correspond to the public key used to encrypt the pass. As a result, the pass could not be decrypted and the payload is encrypted
* `Pass.Result.VasNotActive` - the Apple device did not have an active Apple VAS pass. This could be for a number of reasons, including, but not limited to:
    * The user manually selected a pass that does not have an NFC enablement
    * The user’s device requires authentication (FaceID or pass code) before the NFC pass can be read • The user’s device is locked
* `Pass.Result.DecryptionFailure` - the attempt to decrypt the pass failed

---
-->

<hr>

<h2 id="seealso" class="anchor"><a class="heading-anchor" href="#seealso"><span></span></a>See Also</h2>

<ul>
<li><a href="../about">About Zebra Apple VAS SDK</a></li>

<li><a href="../demo">Demo</a></li>
</ul><p></p>
                                        


                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                </div><!--/.col-sm-6-->
            </div>
            </section>
        </div>
    </section>    

<div class="modal fade" id="basicModal" tabindex="-1" role="dialog" aria-labelledby="basicModal" aria-hidden="true" data-backdrop="true">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal" aria-hidden="true">X</button>
					</div>
					<div class="modal-body">
						<div id="modalImg">
						
						</div>
					</div>
			</div>
		  </div>
		</div> </div>
         <footer id="footer">
            <div class="container-fluid">
                <div class="row">
                    <div class="col-sm-10">
                        ZEBRA and the stylized Zebra head are trademarks of Zebra Technologies Corp., registered in many jurisdictions worldwide. All other trademarks are the property of their respective owners. ©2023 Zebra Technologies Corp. and/or its affiliates.<br> <a href="https://www.zebra.com/us/en/about-zebra/company-information/legal.html">Legal</a> | <a href="https://www.zebra.com/us/en/about-zebra/company-information/compliance/information-privacy/terms-of-use.html">Terms of Use</a> | <a href="https://www.zebra.com/us/en/about-zebra/company-information/legal/privacy-statement.html">Privacy Policy</a> 
                    </div>
                     <!--
                     <div class="col-sm-2">
                        <ul class="social-icons">
                            <li><a href="http://www.facebook.com/pages/Zebra-Technologies/107703715989073"><i class="fa fa-facebook"></i></a></li>
                            <li><a href="https://twitter.com/ZebraDevs"><i class="fa fa-twitter"></i></a></li>
                            <li><a href="http://www.youtube.com/zebratechnologies/"><i class="fa fa-youtube"></i></a></li>
                            <li><a href="https://www.linkedin.com/groups?home=&gid=3220074&trk=anet_ug_hm&goback=%2Egmr_3220074"><i class="fa fa-linkedin"></i></a></li>
                            <li><a href="https://github.com/developer-zebra"><i class="fa fa-github"></i></a></li>
                        </ul>
                    </div> -->
                 </div>
            </div>
        </footer>
    
    <!--/#footer 
        10/25/18 removed <footer id="footer" class="navbar-fixed-bottom">
    -->
    <script src="/js/bootstrap.min.js"></script>
    <script src="/js/owl.carousel.min.js"></script>
    <script src="/js/mousescroll.js"></script>
    <script src="/js/smoothscroll.js"></script>
    <script src="/js/jquery.prettyPhoto.js"></script>
    <script src="/js/jquery.isotope.min.js"></script>
    <script src="/js/jquery.inview.min.js"></script>
    <script src="/js/wow.min.js"></script>
    <script src="/js/bootstrap-treenav.min.js"></script>
    <script src="/js/prettify.js"></script>
    <script src="/js/zepto.js"></script>
    <script src="/js/jquery.waterfall.js"></script>   
    <script src="/js/main.js"></script>

<script type="text/javascript">
  (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
  (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
  e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
  })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

  _st('install','zRzEsAUhWTTkrdEN2YfA','2.0.0');
</script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-72584442-1', 'auto');
  ga('send', 'pageview');

</script> 

<script>
    ChatraID = 'QDvZ76min4DhLW5vJ';
    (function(d, w, c) {
        var n = d.getElementsByTagName('script')[0],
            s = d.createElement('script');
        w[c] = w[c] || function() {
            (w[c].q = w[c].q || []).push(arguments);
        };
        s.async = true;
        s.src = (d.location.protocol === 'https:' ? 'https:': 'http:')
            + '//call.chatra.io/chatra.js';
        n.parentNode.insertBefore(s, n);
    })(document, window, 'Chatra');
</script>         


</body></html>