
<!DOCTYPE html>
<html lang="en"><head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Online Documentation for Zebra Technologies developer tools and utiltiescomp including EMDK for Android, EMDK for Xamarin, StageNow, Enterprise Browser.">
    <meta name="author" content="Zebra Technologies">
    <meta name="google-site-verification" content="i4B78BrWnNy8ShJwe5feRW3jO3HE6gfYlYqYbxfl8yY">
    <meta name="msvalidate.01" content="6B651B00161BCE79B8950AC09D5C4C75">
    <meta title="EMDK Mobile Payment Programmers Guide">
    <title>EMDK Mobile Payment Programmers Guide - Zebra Technologies Techdocs</title>
    <!-- core CSS -->
    <link href="/css/bootstrap.min.css" rel="stylesheet">
    <link href="/css/font-awesome.min.css" rel="stylesheet">
    <link href="/css/animate.min.css" rel="stylesheet">
    <link href="/css/owl.carousel.css" rel="stylesheet">
    <link href="/css/owl.transitions.css" rel="stylesheet">
    <link href="/css/prettyPhoto.css" rel="stylesheet">
    <link href="/css/main.css" rel="stylesheet">
    <link href="/css/responsive.css" rel="stylesheet">
    <link href="/css/prettify.css" rel="stylesheet">
    <link href="/css/bootstrap-treenav.min.css" rel="stylesheet">
    <!--[if lt IE 9]>
    <script src="js/html5shiv.js"></script>
    <script src="js/respond.min.js"></script>
    <![endif]--> 

    <script src="//load.sumome.com/" data-sumo-site-id="699cb66cf4dc59352efb45705526d15cbe314e1cd43f7761b94d96f3cf7338e8" async="async"></script>
    <script type="text/javascript">
(function(e, t) {
    function r(e, t) {
        e[t] = function() {
            e.push([ t ].concat(Array.prototype.slice.call(arguments, 0)));
        };
    }
    var n = "JacoRecorder";
    (function(e, t, i, s) {
        if (!i.__VERSION) {
            e[n] = i;
            var o = [ "init", "identify", "startRecording", "stopRecording", "removeUserTracking", "setUserInfo" ];
            for (var u = 0; u < o.length; u++) r(i, o[u]);
            i.__VERSION = .9, i.__INIT_TIME = 1 * new Date;
            var a = t.createElement("script");
            a.async = !0, a.setAttribute("crossorigin", "anonymous"), a.src = s;
            var f = t.getElementsByTagName("head")[0];
            f.appendChild(a);
        }
    })(e, t, e[n] || [], "//recorder-assets.getjaco.com/recorder.js");
}).call(window, window, document), window.JacoRecorder.push([ "init", "0e8738ef-44eb-4eed-8d47-e564ec9b5587", {} ]);
</script>
    <link rel="shortcut icon" href="/favicon.ico">
<script src="/js/jquery.js"></script></head><!--/head-->


<body id="home" class="homepage" data-spy="scroll" data-offset="100" data-target="#toc">

    <header id="header">
        <nav id="main-menu" class="navbar navbar-default navbar-fixed-top" role="banner">
            <div class="container-fluid">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="/"><img src="/images/logo.png" alt="logo" style="max-height:42px;float: inherit;
    padding-right: 3px;"></a> 
                    
                   
                </div>
                <div class="collapse navbar-collapse navbar-left">
                    <ul class="nav navbar-nav">
                        <li class="navbar-text pull-left"><strong>TechDocs</strong></li>
                        <li class="dropdown">
                          <button class="btn btn-default dropdown-toggle" type="button" data-toggle="dropdown"> EMDK For Android 5.0
                          <span class="caret"></span></button>
                          <ul class="dropdown-menu">
                                <li><a onclick="changeVersion('5-0','4-2','/emdk-for-android/4-2/guide/about')">EMDK For Android 4.2</a></li>
                                <li><a onclick="changeVersion('5-0','4-0','/emdk-for-android/4-0/guide/about')">EMDK For Android 4.0</a></li>
                          </ul>
                        </li>                    
                    </ul>
                </div>
                <div class="collapse navbar-collapse navbar-right">
                    <ul class="nav navbar-nav">
                        


                        <li>
                            <a href="/emdk-for-android/5-0/guide/about">
                                    Home
                            </a>
                        </li>
                        <li>
                            <a href="/emdk-for-android/5-0/guide/gettingstarted">
                                    Getting Started
                            </a>
                        </li>
                        <li>
                            <a href="/emdk-for-android/5-0/tutorial/">
                                    Tutorials
                            </a>
                        </li>
                        <li>
                            <a href="/emdk-for-android/5-0/samples">
                                    Samples
                            </a>
                        </li>
                        <li>
                            <a href="/emdk-for-android/5-0/guide/programming-guides">
                                    Guides
                            </a>
                        </li>
                        <li>
                            <a href="/emdk-for-android/5-0/guide/profile-manager-guides">
                                    Profile Manager
                            </a>
                        </li>
                        <li>
                            <a href="/emdk-for-android/5-0/api">
                                    APIs
                            </a>
                        </li>
                        <li>
                            <a href="/emdk-for-android/5-0/search">
                                    <i class="fa fa-search"></i>
                            </a>
                        </li>
                        <!-- <li ><a href="/products">SDKs</a></li>
                        <li ><a href="/samples">Samples</a></li>
                        <li ><a href="/guides">Guides</a></li>
                        <li ><a href="/tutorials">Tutorials</a></li>
                        <li ><a href="/apis">APIs</a></li> -->
                        <!-- <li><a href="#"><input type="text" class="st-default-search-input"></a></li> -->
                    </ul>
                </div>
            </div><!--/.container-->
        </nav><!--/nav-->
    </header><!--/header-->
<div class="container-fluid">
    <section id="blog">
        <div class="">
            <section class="content-with-sidebar">
            <div class="row">
                <div class="col-sm-3 hidden-sm hidden-xs" id="sidebar">
                    
                    
                    <nav id="toc" data-toggle="toc" data-spy="affix" style="height: 75%; max-width: 225px; overflow-y: auto; ">
                        
                        <ul class="nav">
                            <li><strong>EMDK Mobile Payment Programmers Guide</strong></li>
                        </ul>
                    </nav>
                    <div class="modal fade" id="modal-smartdocs" tabindex="-1" role="dialog" aria-labelledby="basicModal" aria-hidden="true" data-backdrop="true">
                    	<div class="modal-dialog">
                    		<div class="modal-content">
                    			<div class="modal-header">
                    				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">X</button>
                    			</div>
                    			<div class="modal-body">
                    				<form>
                    				  <div class="form-group">
                    				    <label for="exampleInputEmail1">MX Version On Device:</label>
                    				    <select class="form-control">
                    					  <option value="4.0">4.0</option>
                    					  <option value="4.1">4.1</option>
                    					  <option value="4.2">4.2</option>
                    					  <option value="4.3">4.3</option>
                    					  <option value="5.0">5.0</option>
                    					</select>
                    				  </div>						
                    				  <div class="form-group">
                    				    <label for="exampleInputEmail1">OSX Version On Device:</label>
                    				    <select class="form-control">
                    					  <option value="1.0">1.0</option>
                    					  <option value="1.2">1.2</option>
                    					  <option value="1.3.4-56">1.3.4-56</option>
                    					  <option value="3.4">3.4</option>
                    					  <option value="3.5">3.5</option>
                    					  <option value="3.6">3.6</option>
                    					  <option value="4.1">4.1</option>
                    					  <option value="4.2">4.2</option>
                    					  <option value="4.3">4.3</option>
                    					  <option value="4.4">4.4</option>
                    					</select>
                    				  </div>						
                    				  <div class="form-group">
                    				    <label for="exampleInputEmail1">Android Version On Device:</label>
                    				    <select class="form-control">
                    					  <option value="23">6.0 Marshmallow</option>
                    					  <option value="22">5.1 Lollipop</option>
                    					  <option value="21">5.0 Lollipop</option>
                    					  <option value="19">4.4 Kitkat</option>
                    					  <option value="18">4.3 Jellybean</option>
                    					  <option value="17">4.2.x Jellybean</option>
                    					  <option value="16">4.1.x Jellybean</option>
                    					  <option value="15">4.0.3-4.0.4 Ice Cream Sandwich</option>
                    					  <option value="14">4.0-4.0.2 Ice Cream Sandwich</option>
                    					  <option value="10">2.3.3-2.3.4 Gingerbread</option>
                    					</select>
                    				  </div>
                    				  <div class="form-group">
                    				  	<button class="primary" id="btn_SaveSmartDocOptions">Save Changes</button><button class="primary" id="btn_ClearSmartDocOptions">Clear Changes</button>
                    				  </div>
                    				</form>
                    			</div>
                    	</div>
                      </div>
                    </div>
                    
                    <script type="text/javascript">
                        $(document).ready(function() {
                        	$( "#btn_SaveSmartDocOptions" ).click(function() {
                      			console.log('Saving Options');
                      			$("#modal-smartdocs").modal({show: false});
                    		});
                        	$( "#btn_SaveSmartDocOptions" ).click(function() {
                      			console.log('Clearing Options');
                      			$("#modal-smartdocs").modal({show: false});
                    		});
                        });
                    </script><link rel="stylesheet" href="https://cdn.rawgit.com/afeld/bootstrap-toc/v0.3.0/dist/bootstrap-toc.min.css">
                    <script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v0.3.0/dist/bootstrap-toc.min.js"></script>
                    <script type="text/javascript">
                        $(document).ready(function() {
                    
                        });
                    
                    
                    </script>
                </div>                
                <div class="col-sm-9 ">
                    <div class="row">
                        <div class="col-sm-12">
                            <section id="cta" class="wow fadeIn">
                                <div class="">
                                    <h1 id="emdk-mobile-payment-programmers-guide" class="anchor"><a class="heading-anchor" href="#emdk-mobile-payment-programmers-guide"><span></span></a>EMDK Mobile Payment Programmers Guide</h1>
                                    <p>
                                        EMDK For Android
                                        5.0
                                    </p>
                                </div>
                            </section>                    
                        </div>
                    </div>
                    <div id="mainContent" class="row">
                        <div class="col-sm-12">
                            <div class="blog-post blog-large wow fadeInLeft" data-wow-duration="300ms" data-wow-delay="0ms">
                            <!-- Start of guide -->
                                <div class="service-box wow fadeInRight">
                                    <div class="">

                                        <p></p><p>The EMDK for Android provides developers with a comprehensive set of
tools to easily create Payment application for use with the Symbol
Technologies, Inc enterprise mobility device and PD40-100 payment
device.</p>

<h2 id="enablingthepaymentdevice" class="anchor"><a class="heading-anchor" href="#enablingthepaymentdevice"><span></span></a>Enabling the payment device</h2>

<p>The following requirements must satisfy before calling enable method to
enable the payment device to do transactions.</p>

<ul>
<li><p>By default the payment device (PD40-100) is not discoverable. If the
user wants to manually pair the PD40 payment with the mobile device,
PD40 can be made discoverable by pressing Enter + 9 on the PD40.</p>

<p>The recommended solution is for developer is to use to scan the
barcode available on the backside of PD40 and programmatically pair
the PD40 with the mobile device.</p></li>

<li><p>The payment device (PD40-100) must be paired to the mobile device
before using the EMDK Mobile Payment APIs.</p></li>

<li><p>The application can get payment device object can obtained in the
following ways:</p>

<ul>
<li><p>Using device identifier to use first paired PD40 to the
mobile device.</p></li>

<li><p>Enumerate the paired PD40 payment devices and use its device
info</p></li>

<li><p>Using the device address. Providing friendly name involves
Bluetooth device discovery to get the specified
Bluetooth device. Establishing connection with payment device
using MAC address will be quicker than friendly name.</p></li></ul></li>

<li><p>The clients must implement the data listener interface and register
for notifications. The status of the enable will be returned through
the registered listener.</p></li>
</ul>

<p>The application can call other methods only after the successful
enabling of the payment device. It recommended that application must
call the disable PD40 when the application does not require anymore
which will allow other applications can use the payment device if
needed.</p>

<h2 id="paymentdeviceconfiguration" class="anchor"><a class="heading-anchor" href="#paymentdeviceconfiguration"><span></span></a>Payment Device Configuration</h2>

<p>The payment device settings can be configured using the
PaymentDevice.getConfig and PaymentDevice.setConfig methods. The payment
device must be enabled before calling getConfig and setConfig methods.
As per the current PD40-100 payment device, all the parameters set are
global across different application, but in the future PD40-100 binaries
this will be made local to the application which configures the payment
device.</p>

<h3 id="idlemessage" class="anchor"><a class="heading-anchor" href="#idlemessage"><span></span></a>idleMessage</h3>

<p>The idle message displayed on the payment device can be configured by
using idleMessage field in PaymentConfig.</p>

<h3 id="sleepmodetimeout" class="anchor"><a class="heading-anchor" href="#sleepmodetimeout"><span></span></a>sleepModeTimeout</h3>

<p>The payment device PD40-100 has the default sleep mode timeout.
Bluetooth connection with mobile computer will remain enabled even after
PD40 goes to sleep mode.</p>

<p>The application can modify the default sleep mode time. Setting the
sleep mode time out zero will turn off the device going to sleep mode.
The turning off the sleep mode will consume the some power and the
battery will discharge quickly.</p>

<h3 id="getallencypteddata" class="anchor"><a class="heading-anchor" href="#getallencypteddata"><span></span></a>getAllEncyptedData</h3>

<p>When the Encryption is ON, readCardData will return encrypted track2
data for MSR and encrypted tag “57” data for EMV by default. To get the
encrypted track1 and track2 data for MSR and encrypted tag “5A” data,
getAllEncryptedData flag must be set to true before issuing calls to
card data.</p>

<h3 id="dataencryptiontype" class="anchor"><a class="heading-anchor" href="#dataencryptiontype"><span></span></a>dataEncryptionType</h3>

<p>By default the PD40-100 payment device returns the data in as clear
text. If the payment application want to receive the card data encrypted
data, this flag must be set the required encryption type if that
encryption is supported by the payment device.</p>

<h3 id="configuringthemessagesdisplayedonthepaymentdevice" class="anchor"><a class="heading-anchor" href="#configuringthemessagesdisplayedonthepaymentdevice"><span></span></a>Configuring the Messages Displayed on the Payment Device.</h3>

<p>The readCardData and promptPin method has overloaded methods one does
not take any message and other provides an option to pass the message
which will be displayed on the payment device. The payment application
which wants use the default message defined by the payment device can
call the method without any message. The payment application which wants
to configure the message displayed on the can pass the message which be
displayed on the Payment device.</p>

<h3 id="emvtransaction" class="anchor"><a class="heading-anchor" href="#emvtransaction"><span></span></a>EMV Transaction</h3>

<p>For the EMV transaction, the card needs to be inserted until the
transaction is completed and removing the inserted card while processing
will lead to failure. When the transaction is completed, the payment
application must call the removeCard to instruct the user to remove
card. Also removeCard wipes out the EMV card data stored the payment
device. So it is recommended to call the removeCard at the end of the
EMV transaction.</p>

<h3 id="promptpin" class="anchor"><a class="heading-anchor" href="#promptpin"><span></span></a>PromptPin</h3>

<p>The promptPin API will succeed only if the payment device is injected
with debit key. When the promptPin is called, the payment device
validates the last four digits of the account number against the
previously read card data. The application can pass the maskedPAN
returned by readCardData as input to account number in the promptPin.</p>

<h3 id="getemvtags" class="anchor"><a class="heading-anchor" href="#getemvtags"><span></span></a>GetEmvTags</h3>

<p>Gets tag information from the inserted card. If there is no tag passed
to D180, then all the TLV data according to predefined getEMVTags table
will be returned. Tags Returned from getEMVTags could be found in the
GetEMVTags Table.If there is(are) one(more than one) tag(s) passed to
D180, then just the specific TLV data will be returned.</p>

<p>Specific tags can be defined in tagIDs as explained in the following.</p>

<p><strong>For example:</strong></p>

<pre class="prettyprint"><code>
ArrayList&lt;String&gt; emvTagData = new ArrayList&amp;lt;String&amp;gt;();

emvTagData.add("5F2A");

emvTagData.add("5F20");

emvTagData.add("82");
PaymentResults result = paymentDevice.getEmvTags(emvTagData);
</code></pre>

<p><strong>GetEMVTags Table</strong></p>

<table border="1">
<tbody><tr><th>Tag Identifier</th><th>Description</th></tr>
<tr><td>9F41</td><td>Transaction Sequence Counter from terminal</td></tr>
<tr><td>9F02</td><td>Amount Authorized</td></tr>
<tr><td>9F03</td><td>Amount (other) (TIP)</td></tr>
<tr><td>5F36</td><td>Transaction currency component</td></tr>
<tr><td>9F1B</td><td>Terminal Floor Limit</td></tr>
<tr><td>9F1C</td><td>Terminal Identification</td></tr>
<tr><td>9F35</td><td>Terminal Type</td></tr>
<tr><td>9F1A</td><td>Terminal Country Code</td></tr>
<tr><td>5F2A</td><td>Transaction Currency Code</td></tr>
<tr><td>82</td><td>Application Interchange Profile Indicates the capabilities of the card to support specific functions in the application</td></tr>
<tr><td>9F37</td><td>Unpredictable Number Value to provide variability and uniqueness to the generation of a cryptogram</td></tr>
<tr><td>9C</td><td>Transaction Type</td></tr>
<tr><td>9F10</td><td>Issuer Application Data</td></tr>
<tr><td>84</td><td>Dedicated File Name</td></tr>
<tr><td>9F09</td><td>Application Version Number</td></tr>
<tr><td> 9F34</td><td>CVM Cardholder verification Method</td></tr>
<tr><td>9F07</td><td>Application Usage Control Indicates issuer‘s specified restrictions on the geographic usage and services allowed for the application</td></tr>
<tr><td>9F0D</td><td>Issuer Action Code-Default</td></tr>
<tr><td>9F0E</td><td>Issuer Action Code – Denial</td></tr>
<tr><td>9F0F</td><td>Issuer Action Code – Online</td></tr>
<tr><td>9F33</td><td>Terminal Capabilities</td></tr>
<tr><td>5F34</td><td>Application PAN sequence Number</td></tr>
<tr><td>9F39</td><td>POS Entry Mode</td></tr>
<tr><td>8E</td><td>CVM List Identifies a method of verification of the cardholder supported by the application</td></tr>
<tr><td>5A</td><td>Application Primary Account Number</td></tr>
<tr><td>57</td><td>Track 2 equivalent</td></tr>
<tr><td>5F20 OR 9F0B</td><td>Cardholder name or Extended</td></tr>
<tr><td>9F1F</td><td>Track 2 discretionary data</td></tr>
<tr><td>9F7A</td><td>VLP process indicator</td></tr>
<tr><td>9F74</td><td>VLP authorization code</td></tr>
</tbody></table>

<h3 id="authorizecard" class="anchor"><a class="heading-anchor" href="#authorizecard"><span></span></a>AuthorizeCard</h3>

<p>Authorizes the EMV transaction amounts using the inserted chip (EMV)
card after processing returns authorized card data in the form of tags.</p>

<p><strong><em>Tags Returned from authorizeCard</em></strong></p>

<table border="1">
<tbody><tr><th>Tag Identifier</th><th>Description</th></tr>
<tr><td>C2</td><td>Signature Flag Authentication</td></tr>
<tr><td>9B</td><td>Transaction Status Information</td></tr>
<tr><td>9F27</td><td>Cryptogram Information Data</td></tr>
<tr><td>8A</td><td>Authorization response Code</td></tr>
<tr><td>9F26</td><td>Cryptogram returned by the ICC in response of the GENERATE AC command</td></tr>
<tr><td>9F36</td><td>Application Transaction Counter Counter maintained by the application in the ICC (incrementing the ATC is managed by the ICC)</td></tr>
<tr><td>9F1</td><td>Issuer Application Data</td></tr>
</tbody></table>

<h3 id="readcarddata" class="anchor"><a class="heading-anchor" href="#readcarddata"><span></span></a>ReadCardData</h3>

<p>Reads the card data from the PAYMENT device and after processing returns
the data in the TLV (Tag length Value) format*. *</p>

<p><strong>Tags returned from ReadCardData</strong></p>

<table border="1">
<tbody><tr><th>Tag Identifier</th><th>Description</th></tr>
<tr><td>4F</td><td>Application Identifier</td></tr>
<tr><td>9F12</td><td>Application preferred Name</td></tr>
<tr><td>50</td><td>Application Label</td></tr>
<tr><td>5F30</td><td>Service Code</td></tr>
<tr><td>5F20</td><td>Cardholder Name</td></tr>
<tr><td>57</td><td>Track 2 Equivalent<br>
Primary Account Number<br>
Field Separator (Hex 'D')<br>
Expiration Date (YYMM)<br>
Service Code<br>
Discretionary Data (defined by individual payment systems)<br>
Pad with one Hex 'F' if needed to ensure whole bytes</td></tr>

<tr><td>5A</td><td>Application Primary Account Number</td></tr>
<tr><td>5F24</td><td>Application Expiry Date</td></tr>
<tr><td>5F34</td><td>Application Primary account Number sequence number</td></tr>
<tr><td>5F25</td><td>Application Effective Date</td></tr>
</tbody></table>

<p>For ReadMode.ALL mode, The D180 will fall back to swipe mode if the card
inserted is not supported by payment device. Fallback to swipe is not
supported for read modes like INSERT only and SWIPE only.</p>

<p>If encryption type RSA is set using setConfig API, ReadCardData with
ReadMode.MANUAL mode returns the card data only if RSA Encryption key is
injected into the D180.</p>

<h3 id="completeonlineemv" class="anchor"><a class="heading-anchor" href="#completeonlineemv"><span></span></a>completeOnLineEMV</h3>

<p>Completes an online EMV transaction for PIN management.</p>

<p><strong>Tags set through completeOnlineEMV</strong></p>

<table border="1">
<tbody><tr><th>Tag Identifier</th><th>Description</th></tr>
<tr><td>91</td><td>Issuer Authentication Data. Optional tag, if issuer authentication data is returned by host</td></tr>
<tr><td>71/72</td><td>Issuer Script. Optional tag, if issuer script is returned by host</td></tr>
<tr><td>8A</td><td>Host Authorization Response Code</td></tr>
<tr><td>89</td><td>Host Authorization Code. Optional tag</td></tr>
</tbody></table>

<p><strong>Behavior of EMDK Payment API when the PD40-100 displays Bluetooth
connection status on its screen.</strong></p>

<p>The user can use key combination specified in the PD40 manual to see the
PD40 Bluetooth connection status. When this happens, PD40 shows the
Bluetooth connection status on its displayed and while this status is
displayed on the PD40 screen, calling payment API will result in
communication error.</p>

<p><strong>Behavior of re-enabling the PD40 immediately disabling</strong></p>

<p>The application enables the PD40-100 and does the transaction, then
disables the PD40-100. When applications requests EMDK to disable the
connection with the PD40-100 by disable method, the disable method will
be returned as soon it closes the Bluetooth socket connection. But
Bluetooth stack is internally might take few seconds to free-up the
resources associated with the established connection.</p>

<p>While this is happening, if the application tries to re-enable the
payment device, it might lead to connection error.</p>

<p>To overcome this error, the application either wait for few seconds or
register the BluetoothDevice.ACTION_ACL_DISCONNECTED intents or the
EMDK PaymentManager connection listener to receive notification of the
Bluetooth stack is successfully disconnected.</p>

<h3 id="choosingpaymentdevice" class="anchor"><a class="heading-anchor" href="#choosingpaymentdevice"><span></span></a>Choosing Payment Device:</h3>

<p>This section describes how can the application access the payment device
and enable it to do trasnaction.</p>

<p><strong>Case 1: Payment Device Type supported (Such as PD40), choose payment
device by friendly name.</strong></p>

<pre class="prettyprint"><code>
List&lt;DeviceInfo&gt;; supportedList =
paymentManager.getSupportedDevicesInfo();

PaymentDevice device = null;

If(!supportedList.isEmpty()) {

device = paymentManager.getDevice(friendlyname,false);

device.enable();

} else {

//Error

}
</code></pre>

<p><strong>Case 2: Multiple Payment Devices are paired and required payment
device does not exist in the list.</strong></p>

<pre class="prettyprint"><code>
List&lt;DeviceInfo&gt; pairedDevList =
paymentManager.getPairedDevicesInfo(DeviceType.PD40);

PaymentDevice device = null;

If(!pairedDevList.isEmpty()) {

//Traverse on the list of paired device and check if the required
device exists in the list.

 If(required device not in the paired list) {

//Use scan and pair API to pair the device, or required device is not
 already paired.

 // device = paymentManager.getDevice(friendly name, false);

 device = paymentManager.getDevice(macAddress, true);

 device.enable();

 }

}
</code></pre>

<p><strong>Case 3: Multiple Payment Devices are paired and choose payment device
from paired device list.</strong></p>

<p>If the multiple payment devices are paired, the application can
enumerate the list of paired devices and selects the required payment
device. If the payment device is paired, but not in range or switched
will result in the connection error during the enable.</p>

<pre class="prettyprint"><code>
 List&lt;DeviceInfo&gt; pairedDevList =
 paymentManager.getPairedDevicesInfo(DeviceType.PD40);

 PaymentDevice device = null;

 If(!pairedDevList.isEmpty()) {

 device = paymentManager.getDevice((pairedDevList.get(1));

 device.enable();

 } else {

 // No Payment devices paired

 }
</code></pre>

<p><strong>Case 4: Multiple Payment Devices are paired and chooses the default
device. The default device is the device which is first available in the
Bluetooth device paired list. If the device is paired, but not in range
or switched-off, then it will give connection error.</strong></p>

<pre class="prettyprint"><code>
PaymentDevice device =
paymentManager.getDevice(DeviceIdentifier.*DEFAULT*);

device.enable();
</code></pre>

<p><strong>Case 5: Multiple Payment Devices are paired and chooses the first
available PD40 device.</strong></p>

<pre class="prettyprint"><code>
PaymentDevice device =
paymentManager.getDevice(DeviceIdentifier.PD40);

device.enable();
</code></pre>

<p><em>*Case 6: Multiple Payment Devices are paired and chooses the device
using mac address or friendly name. *</em></p>

<pre class="prettyprint"><code>
PaymentDevice device = paymentManager.getDevice(“&lt;mac
address&gt;&gt;”, true);

 Or

 PaymentDevice device = paymentManager.getDevice(“&lt;friendly
 name&gt;&gt;;”, false);

 device.enable();
</code></pre>

<p><strong>Case 6: Multiple payment devices are paired and set the mac
address/friendly name via interface config</strong></p>

<pre class="prettyprint"><code>
PaymentDevice device = paymentManager.getDevice(DEFAULT);

 InterfaceConfig interfaceConfig = paymentDevice.getInterfaceConfig();

interfaceConfig.deviceName = "MPOS-64627969";

 paymentDevice.setInterfaceConfig(interfaceConfig);

 device.enable();
</code></pre><p></p>
                                        


                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                </div><!--/.col-sm-6-->
            </div>
            </section>
        </div>
    </section>    

<div class="modal fade" id="basicModal" tabindex="-1" role="dialog" aria-labelledby="basicModal" aria-hidden="true" data-backdrop="true">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal" aria-hidden="true">X</button>
					</div>
					<div class="modal-body">
						<div id="modalImg">
						
						</div>
					</div>
			</div>
		  </div>
		</div> </div>
         <footer id="footer" class="navbar-fixed-bottom">
            <div class="container-fluid">
                <div class="row">
                    <div class="col-sm-10">
                        © 2015 ZIH Corp and/or its affiliates. All rights reserved. Zebra and the stylized Zebra head are trademarks of ZIH Corp., registered in many jurisdictions worldwide. All other trademarks are the property of their respective owners. <a href="https://www.zebra.com/us/en/about-zebra/company-information/compliance/information-privacy/terms-of-use.html">Terms &amp; Conditions</a>
                    </div>
                    <div class="col-sm-2">
                        <ul class="social-icons">
                            <li><a href="http://www.facebook.com/pages/Zebra-Technologies/107703715989073"><i class="fa fa-facebook"></i></a></li>
                            <li><a href="https://twitter.com/ZebraDevs"><i class="fa fa-twitter"></i></a></li>
                            <li><a href="http://www.youtube.com/zebratechnologies/"><i class="fa fa-youtube"></i></a></li>
                            <li><a href="https://www.linkedin.com/groups?home=&amp;gid=3220074&amp;trk=anet_ug_hm&amp;goback=%2Egmr_3220074"><i class="fa fa-linkedin"></i></a></li>
                            <li><a href="https://github.com/developer-zebra"><i class="fa fa-github"></i></a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </footer><!--/#footer-->
    <script src="/js/bootstrap.min.js"></script>
    <script src="/js/owl.carousel.min.js"></script>
    <script src="/js/mousescroll.js"></script>
    <script src="/js/smoothscroll.js"></script>
    <script src="/js/jquery.prettyPhoto.js"></script>
    <script src="/js/jquery.isotope.min.js"></script>
    <script src="/js/jquery.inview.min.js"></script>
    <script src="/js/wow.min.js"></script>
    <script src="/js/bootstrap-treenav.min.js"></script>
    <script src="/js/prettify.js"></script>
    <script src="/js/zepto.js"></script>
    <script src="/js/jquery.waterfall.js"></script>   
    <script src="/js/main.js"></script>

<script type="text/javascript">
  (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
  (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
  e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
  })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

  _st('install','zRzEsAUhWTTkrdEN2YfA','2.0.0');
</script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-72584442-1', 'auto');
  ga('send', 'pageview');

</script> 

<script>
    ChatraID = 'QDvZ76min4DhLW5vJ';
    (function(d, w, c) {
        var n = d.getElementsByTagName('script')[0],
            s = d.createElement('script');
        w[c] = w[c] || function() {
            (w[c].q = w[c].q || []).push(arguments);
        };
        s.async = true;
        s.src = (d.location.protocol === 'https:' ? 'https:': 'http:')
            + '//call.chatra.io/chatra.js';
        n.parentNode.insertBefore(s, n);
    })(document, window, 'Chatra');
</script>         


</body></html>