
<!DOCTYPE html>
<html lang="en"><head>
    <meta charset="utf-8">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="-1">
    <meta http-equiv="CACHE-CONTROL" content="NO-CACHE">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Online Documentation for Zebra Technologies developer tools and utilties, including EMDK for Android, EMDK for Xamarin, StageNow and Enterprise Browser.">
    <meta name="author" content="Zebra Technologies">
    <meta name="google-site-verification" content="i4B78BrWnNy8ShJwe5feRW3jO3HE6gfYlYqYbxfl8yY">
    <meta name="msvalidate.01" content="6B651B00161BCE79B8950AC09D5C4C75">
    <meta title="IrDA Intents APIs">
    <title>IrDA Intents APIs - TechDocs</title>
    <!-- core CSS -->
    <link href="/css/bootstrap.min.css" rel="stylesheet">
    <link href="/css/font-awesome.min.css" rel="stylesheet">
    <link href="/css/animate.min.css" rel="stylesheet">
    <link href="/css/owl.carousel.css" rel="stylesheet">
    <link href="/css/owl.transitions.css" rel="stylesheet">
    <link href="/css/prettyPhoto.css" rel="stylesheet">
    <link href="/css/main.css" rel="stylesheet">
    <link href="/css/responsive.css" rel="stylesheet">
    <link href="/css/prettify.css" rel="stylesheet">
    <link href="/css/bootstrap-treenav.min.css" rel="stylesheet">
    <!--[if lt IE 9]>
    <script src="js/html5shiv.js"></script>
    <script src="js/respond.min.js"></script>
    <![endif]--> 

    <script src="//load.sumome.com/" data-sumo-site-id="699cb66cf4dc59352efb45705526d15cbe314e1cd43f7761b94d96f3cf7338e8" async="async"></script>
    <link rel="shortcut icon" href="/favicon.ico">
<script src="/js/jquery.js"></script></head><!--/head-->


<body id="home" class="homepage" data-spy="scroll" data-offset="100" data-target="#toc">

    <header id="header">
        <nav id="main-menu" class="navbar navbar-default navbar-fixed-top" role="banner">
            <div class="container-fluid">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="/"><img src="/images/logo.png" alt="logo" style="max-height:66px;float: inherit;
    padding-right: 3px;"></a> 
                    
                   
                </div>
                <div class="collapse navbar-collapse navbar-left">
                    <ul class="nav navbar-nav">
                        <li class="navbar-text pull-left"><strong>TechDocs</strong></li>
                        <li class="dropdown">
                          <button class="btn btn-default dropdown-toggle" type="button" data-toggle="dropdown"> EMDK For Android 7.4
                          <span class="caret"></span></button>
                          <ul class="dropdown-menu">
                                <li><a onclick="changeVersion('5-0','4-2','/emdk-for-android/4-2/guide/about')">EMDK For Android 4.2</a></li>
                                <li><a onclick="changeVersion('5-0','4-0','/emdk-for-android/4-0/guide/about')">EMDK For Android 4.0</a></li>
                          </ul>
                        </li>                    
                    </ul>
                </div>
                <div class="collapse navbar-collapse navbar-right">
                    <ul class="nav navbar-nav">
                        


                        <li>
                            <a href="/emdk-for-android/7-4/guide/about">
                                    About
                            </a>
                        </li>
                        <li>
                            <a href="/emdk-for-android/7-4/guide/gettingstarted">
                                    Get Started
                            </a>
                        </li>
                        <li>
                            <a href="/emdk-for-android/7-4/tutorial/">
                                    Tutorials
                            </a>
                        </li>
                        <li>
                            <a href="/emdk-for-android/7-4/samples">
                                    Samples
                            </a>
                        </li>
                        <li>
                            <a href="/emdk-for-android/7-4/guide/programming-guides">
                                    Guides
                            </a>
                        </li>
                        <li>
                            <a href="/emdk-for-android/7-4/guide/profile-manager-guides">
                                    Profile Manager
                            </a>
                        </li>
                        <li>
                            <a href="/emdk-for-android/7-4/faq">
                                    FAQs
                            </a>
                        </li>
                        <li>
                            <a href="/emdk-for-android/7-4/apimenu">
                                    APIs
                            </a>
                        </li>
                        <li>
                            <a href="https://developer.zebra.com/forum/search?keys=&amp;field_zebra_curated_tags_tid%5B%5D=184">
                                    <i class="fa fa-comments-o"></i>
                            </a>
                        </li>
                        <li>
                            <a href="/emdk-for-android/7-4/search">
                                    <i class="fa fa-search"></i>
                            </a>
                        </li>
                        
                        <!-- <li ><a href="/products">SDKs</a></li>
                        <li ><a href="/samples">Samples</a></li>
                        <li ><a href="/guides">Guides</a></li>
                        <li ><a href="/tutorials">Tutorials</a></li>
                        <li ><a href="/apis">APIs</a></li> -->
                        <!-- <li><a href="#"><input type="text" class="st-default-search-input"></a></li> -->
                    </ul>
                </div>
            </div><!--/.container-->
        </nav><!--/nav-->
    </header><!--/header-->
<div class="container-fluid">
    <section id="blog">
        <div class="">
            <section class="content-with-sidebar">
            <div class="row">
                <div class="col-sm-3 hidden-sm hidden-xs" id="sidebar">
                    
                    
                    <nav id="toc" data-toggle="toc" data-spy="affix" style="height: 75%; max-width: 225px; overflow-y: auto; ">
                        
                        <ul class="nav">
                            <li><strong>IrDA Intents APIs</strong></li>
                        </ul>
                    </nav>
                    <div class="modal fade" id="modal-smartdocs" tabindex="-1" role="dialog" aria-labelledby="basicModal" aria-hidden="true" data-backdrop="true">
                    	<div class="modal-dialog">
                    		<div class="modal-content">
                    			<div class="modal-header">
                    				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">X</button>
                    			</div>
                    			<div class="modal-body">
                    				<form>
                    				  <div class="form-group">
                    				    <label for="exampleInputEmail1">MX Version On Device:</label>
                    				    <select class="form-control">
                    					  <option value="4.0">4.0</option>
                    					  <option value="4.1">4.1</option>
                    					  <option value="4.2">4.2</option>
                    					  <option value="4.3">4.3</option>
                    					  <option value="5.0">5.0</option>
                    					</select>
                    				  </div>						
                    				  <div class="form-group">
                    				    <label for="exampleInputEmail1">OSX Version On Device:</label>
                    				    <select class="form-control">
                    					  <option value="1.0">1.0</option>
                    					  <option value="1.2">1.2</option>
                    					  <option value="1.3.4-56">1.3.4-56</option>
                    					  <option value="3.4">3.4</option>
                    					  <option value="3.5">3.5</option>
                    					  <option value="3.6">3.6</option>
                    					  <option value="4.1">4.1</option>
                    					  <option value="4.2">4.2</option>
                    					  <option value="4.3">4.3</option>
                    					  <option value="4.4">4.4</option>
                    					</select>
                    				  </div>						
                    				  <div class="form-group">
                    				    <label for="exampleInputEmail1">Android Version On Device:</label>
                    				    <select class="form-control">
                    					  <option value="23">6.0 Marshmallow</option>
                    					  <option value="22">5.1 Lollipop</option>
                    					  <option value="21">5.0 Lollipop</option>
                    					  <option value="19">4.4 Kitkat</option>
                    					  <option value="18">4.3 Jellybean</option>
                    					  <option value="17">4.2.x Jellybean</option>
                    					  <option value="16">4.1.x Jellybean</option>
                    					  <option value="15">4.0.3-4.0.4 Ice Cream Sandwich</option>
                    					  <option value="14">4.0-4.0.2 Ice Cream Sandwich</option>
                    					  <option value="10">2.3.3-2.3.4 Gingerbread</option>
                    					</select>
                    				  </div>
                    				  <div class="form-group">
                    				  	<button class="primary" id="btn_SaveSmartDocOptions">Save Changes</button><button class="primary" id="btn_ClearSmartDocOptions">Clear Changes</button>
                    				  </div>
                    				</form>
                    			</div>
                    	</div>
                      </div>
                    </div>
                    
                    <script type="text/javascript">
                        $(document).ready(function() {
                        	$( "#btn_SaveSmartDocOptions" ).click(function() {
                      			console.log('Saving Options');
                      			$("#modal-smartdocs").modal({show: false});
                    		});
                        	$( "#btn_SaveSmartDocOptions" ).click(function() {
                      			console.log('Clearing Options');
                      			$("#modal-smartdocs").modal({show: false});
                    		});
                        });
                    </script><link rel="stylesheet" href="https://cdn.rawgit.com/afeld/bootstrap-toc/v0.3.0/dist/bootstrap-toc.min.css">
                    <script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v0.3.0/dist/bootstrap-toc.min.js"></script>
                    <script type="text/javascript">
                        $(document).ready(function() {
                    
                        });
                    
                    
                    </script>
                </div>                
                <div class="col-sm-9 ">
                    <div class="row">
                        <div class="col-sm-12">
                            <section id="cta" class="wow fadeIn">
                                <div class="">
                                    <h1 id="irda-intents-apis" class="anchor"><a class="heading-anchor" href="#irda-intents-apis"><span></span></a>IrDA Intents APIs</h1>
                                    <p>
                                            EMDK For Android
                                            7.4
                                    </p>
                                </div>
                            </section>                    
                        </div>
                    </div>
                    <div id="mainContent" class="row">
                        <div class="col-sm-12">
                            <div class="blog-post blog-large wow fadeInLeft" data-wow-duration="300ms" data-wow-delay="0ms">
                            <!-- Start of guide -->
                                <div class="service-box wow fadeInRight">
                                    <div class="">

                                        <p></p><h2 id="overview" class="anchor"><a class="heading-anchor" href="#overview"><span></span></a>Overview</h2>

<p>EMDK for Android 7.3 (and later) contains interfaces for controlling hardware that conforms to the Infrared Data Association (IrDA) specification, an infrared line-of-sight technology that's used for data transfer between small portable devices such as mobile computers, printers, handheld remote controls and some medical devices. IrDA also refers to the protocols used for wireless data transfer using IrDA-equipped devices. </p>

<p>Zebra's IrDA implementation supports the following protocols:</p>

<ul>
<li>TinyTP</li>

<li>IrLMP</li>

<li>IrLAP/LSAP</li>

<li>IrSIR</li>

<li>IrDA:RAW</li>
</ul>

<p>Zebra IrDA APIs operate through Android intents – specific commands that can be used by Android applications to control IrDA hardware on IrDA-equipped Zebra devices. This guide explains how to communicate wirelessly between IrDA devices using IrDA Intent APIs on Zebra mobile devices. </p>

<h3 id="requirements" class="anchor"><a class="heading-anchor" href="#requirements"><span></span></a>Requirements</h3>

<p>Use of IrDA APIs requires experience with Java and Android app development, and familiarity with Android intents. For successful IrDA communication, <strong>target device(s) must contain</strong>: </p>

<ul>
<li>One or more IrDA-equipped Zebra devices</li>

<li>DataWedge version 7.3.11 or later on the device</li>

<li>IrDA transceivers in clear line of sight during data transmission</li>
</ul>

<hr>

<h2 id="irdaintentapis" class="anchor"><a class="heading-anchor" href="#irdaintentapis"><span></span></a>IrDA Intent APIs</h2>

<p>IrDA intent APIs can be used in applications that require control of IrDA communication. Supported intent actions and commands are listed below. </p>

<p><strong>IrDA Intents and Actions</strong>:</p>

<ul>
<li><p><code>com.symbol.irda.api.ACTION_DO</code>:</p>

<ul>
<li>Send data
<br>
<br></li></ul></li>

<li><p><code>com.symbol.irda.api.ACTION_GET</code>:</p>

<ul>
<li>Get server name</li>

<li>Get driver version</li>

<li>Get connection idle time
<br>
<br></li></ul></li>

<li><p><code>com.symbol.irda.api.ACTION_REGISTER</code>:</p>

<ul>
<li>Register/Unregister callbacks
<br>
<br></li></ul></li>

<li><p><code>com.symbol.irda.api.ACTION_UPDATE</code>:</p>

<p></p><ul>
<li>Set server name</li></ul><p></p>

<p></p></li><li>Set connection idle time
<br></li><p></p></ul><p></p>


<h5 id="usageinformationforeachcommandfollowsinthesectionsbelow" class="anchor"><a class="heading-anchor" href="#usageinformationforeachcommandfollowsinthesectionsbelow"><span></span></a>Usage information for each command follows in the sections below.</h5>

<hr>

<h2 id="senddata" class="anchor"><a class="heading-anchor" href="#senddata"><span></span></a>Send Data</h2>

<p>To send data over IrDA, data must be converted to byte arrays. Large data is broken into small chunks of bytes prior to delivery to the receiving device. The first <code>SEND_DATA</code> command typically requires extra time to complete; <code>SEND_DATA</code> commands sent within 30 seconds of the first complete more quickly. The 30-second time frame is adjustable; see <a href="#setconnectionidletime">Set Connection Idle Time</a> section for details.</p>

<h3 id="samplecode" class="anchor"><a class="heading-anchor" href="#samplecode"><span></span></a>Sample Code</h3>

<h4 id="tosenddataviairda" class="anchor"><a class="heading-anchor" href="#tosenddataviairda"><span></span></a>To send data via IrDA:</h4>

<pre class="prettyprint"><code>    
    Intent intent = new Intent(); //Create new intent

    //Specify the IrDA action
    intent.setAction("com.symbol.irda.api.ACTION_DO");

    //Set to run at foreground priority, with a shorter timeout interval 
    intent.addFlags(Intent.FLAG_RECEIVER_FOREGROUND); 

    //Text to be sent over IrDA
    String text = "Hello IrDA"; 

    //Convert to byte array to be accepted by SEND_DATA
    byte[] byteArray = text.getBytes();

    //Supported value up to 1024 bytes
    intent.putExtra("SEND_DATA", byteArray); 

    //Designate the broadcast receiver to receive the response
    Intent responseIntent = new Intent(getApplicationContext(), MyBroadcastReceiver.class); 

    //Set to run at foreground priority, with a shorter timeout interval
    responseIntent.addFlags(Intent.FLAG_RECEIVER_FOREGROUND);

    //Any extras are useful to identify feedback
    responseIntent.putExtra("COMMAND", "SEND_DATA"); 

    //Create pending intent
    PendingIntent piResponse = PendingIntent.getBroadcast(getApplicationContext().getApplicationContext(), REQUEST_CODE, responseIntent, PendingIntent.FLAG_UPDATE_CURRENT);

    //Send pending intent as CALLBACK_RESPONSE
    //IrDA API responds to the pending intent specified here
    intent.putExtra("CALLBACK_RESPONSE", piResponse); 

    //Send the broadcast
    sendBroadcast(intent); 
</code></pre>

<p>To determine command success, see <a href="#getfeedbackforcommands">Get Feedback for Commands</a>. </p>

<hr>

<h2 id="setservername" class="anchor"><a class="heading-anchor" href="#setservername"><span></span></a>Set Server Name</h2>

<p>For IrDA communication, the Zebra device serves as the “client” and the device it communicates with is the “server." To identify the device it communicates with, set the server name of the device. If a server name is not specified, the default “<strong>IrDA:TinyTP</strong>” is used.</p>

<h3 id="samplecode-1" class="anchor"><a class="heading-anchor" href="#samplecode-1"><span></span></a>Sample Code</h3>

<p>Set the server name:</p>

<pre class="prettyprint"><code>    
    //Create new intent 
    Intent intent = new Intent(); 

    //Specify the IrDA action
    intent.setAction("com.symbol.irda.api.ACTION_UPDATE");

    //Set to run at foreground priority with a shorter timeout interval 
    intent.addFlags(Intent.FLAG_RECEIVER_FOREGROUND); 

    //Server name to be used
    intent.putExtra("SERVER_NAME", "&lt;NEW SERVER NAME&gt;"); 

    //Mention the broadcast receiver to receive the response
    Intent responseIntent = new Intent(getApplicationContext(), MyBroadcastReceiver.class); 

    //Set to run at foreground priority with a shorter timeout interval
    responseIntent.addFlags(Intent.FLAG_RECEIVER_FOREGROUND);

    //Any extras are useful to identify feedback 
    responseIntent.putExtra("COMMAND", "SET_SERVER_NAME"); 

    //Create pending intent
    PendingIntent piResponse = PendingIntent.getBroadcast(getApplicationContext().getApplicationContext(), REQUEST_CODE, responseIntent, PendingIntent.FLAG_UPDATE_CURRENT);

    //Send pending intent as CALLBACK_RESPONSE
    //IrDA API responds to the pending intent specified here
    intent.putExtra("CALLBACK_RESPONSE", piResponse); 

    //Send the broadcast
    sendBroadcast(intent); 
</code></pre>

<p>The new server name is kept in device memory until device restart, after which the server name is reset to the “<strong>IrDA:TinyTP</strong>” default server name. To determine command success, see <a href="#getfeedbackforcommands">Get Feedback for Commands</a>.</p>

<hr>

<h2 id="registercallbacks" class="anchor"><a class="heading-anchor" href="#registercallbacks"><span></span></a>Register Callbacks</h2>

<p>The application must be registered for callbacks to receive messages or responses from the server. Once the callback is processed, the application can act accordingly depending on the response received.</p>

<h3 id="samplecode-2" class="anchor"><a class="heading-anchor" href="#samplecode-2"><span></span></a>Sample Code</h3>

<h4 id="registerandreceivecallbacksfromtheserver" class="anchor"><a class="heading-anchor" href="#registerandreceivecallbacksfromtheserver"><span></span></a>Register and receive callbacks from the server:</h4>

<pre class="prettyprint"><code>    
    //Create new intent
    Intent intent = new Intent(); 

    //Specify the IrDA action
    intent.setAction("com.symbol.irda.api.ACTION_REGISTER");

    //Set to run at foreground priority, with a shorter timeout interval 
    intent.addFlags(Intent.FLAG_RECEIVER_FOREGROUND); 

    //Intent to be sent back with status (via explicit broadcast)
    Intent responseIntent = new Intent(this, MyBroadcastReceiver.class);

    //Cross-check the extras specified here vs the intent received to the broadcast receiver to identify the related response
    responseIntent.putExtra("COMMAND", "REGISTER_CALLBACK_CALL");

    //Set to run at foreground priority, with a shorter timeout interval 
    responseIntent.addFlags(Intent.FLAG_RECEIVER_FOREGROUND); 
    PendingIntent piResponse = PendingIntent.getBroadcast(getApplicationContext(), REQUEST_CODE, responseIntent, PendingIntent.FLAG_UPDATE_CURRENT);

    //Send pending intent as CALLBACK_RESPONSE
    //IrDA API responds to the pending intent specified here
    intent.putExtra("CALLBACK_RESPONSE", piResponse); 

    //Intent called whenever data is received from the server
    int flags2 = 0;
    int requestCode2 = 3;
    Intent dataCallBackIntent = new Intent(this, MyBroadcastReceiver.class);
    dataCallBackIntent.putExtra("COMMAND", "REGISTERED_CALLBACK_DATA");

    //Set to run at foreground priority, with a shorter timeout interval
    dataCallBackIntent.addFlags(Intent.FLAG_RECEIVER_FOREGROUND); 
    PendingIntent piDataCallback = PendingIntent.getBroadcast(getApplicationContext(), requestCode2, dataCallBackIntent, flags2);

    //Send pending intent as DATA_CALLBACK
    //IrDA API responds to the pending intent specified here when a data is received from the server
    intent.putExtra("DATA_CALLBACK", piDataCallback); 

    //Send the broadcast
    sendBroadcast(intent); 
</code></pre>

<p>After executing the code above, callbacks from the server are delivered to the broadcast receiver. </p>

<p>The extras specified for the <code>dataCallBackIntent</code> versus the broadcast receiver intent can be cross-checked to identify the related response as follows:</p>

<h4 id="checkthecommandparameter" class="anchor"><a class="heading-anchor" href="#checkthecommandparameter"><span></span></a>Check the COMMAND parameter:</h4>

<pre class="prettyprint"><code>    
    public class MyBroadcastReceiver extends BroadcastReceiver {

    @Override
    public void onReceive(Context context, Intent intent) {

        String command = intent.getStringExtra("COMMAND");

        String status = "";
        if(command != null &amp;&amp; command.equalsIgnoreCase("REGISTERED_CALLBACK_DATA")) {
            byte[] data = intent.getByteArrayExtra("DATA_CALLBACK");
            status += " "+ data.length + " bytes received!";
        }
        Log.d("TAG",status);
    }
}
</code></pre>

<p>To receive the response from the server, extract the information from <code>DATA_CALLBACK</code>.</p>

<hr>

<h2 id="unregistercallbacks" class="anchor"><a class="heading-anchor" href="#unregistercallbacks"><span></span></a>Unregister Callbacks</h2>

<p>For each callback that is registered, a corresponding call is needed to unregister the callback. Set the DATA_CALLBACK parameter to NULL to unregister the callback.</p>

<h3 id="samplecode-3" class="anchor"><a class="heading-anchor" href="#samplecode-3"><span></span></a>Sample Code</h3>

<h4 id="unregisterthecallback" class="anchor"><a class="heading-anchor" href="#unregisterthecallback"><span></span></a>Unregister the callback:</h4>

<pre class="prettyprint"><code>    
    //Create new intent
    Intent intent = new Intent();  

    //Specify the IrDA action
    intent.setAction("com.symbol.irda.api.ACTION_REGISTER");

    //Set to run at foreground priority, with a shorter timeout interval 
    intent.addFlags(Intent.FLAG_RECEIVER_FOREGROUND); 

    //Mention the broadcast receiver to receive the response
    Intent responseIntent = new Intent(this, MyBroadcastReceiver.class);

    /Any extras are useful 
    responseIntent.putExtra("COMMAND", "UNREGISTER_CALLBACK_CALL"); /        
</code></pre>

<h4 id="identifythefeedbackatbroadcastreceiver" class="anchor"><a class="heading-anchor" href="#identifythefeedbackatbroadcastreceiver"><span></span></a>Identify the feedback at broadcast receiver</h4>

<pre class="prettyprint"><code>    
    //Create pending intent
    PendingIntent piResponse = PendingIntent.getBroadcast(getApplicationContext(), REQUEST_CODE, responseIntent, PendingIntent.FLAG_UPDATE_CURRENT);

    //Send pending intent as CALLBACK_RESPONSE
    //IrDA API responds to the pending intent specified here
    intent.putExtra("CALLBACK_RESPONSE", piResponse);

    //Send DATA_CALLBACK as null to stop receiving callbacks from the server
    intent.putExtra("DATA_CALLBACK", (String)null); 

    //Send the broadcast
    sendBroadcast(intent); 
</code></pre>

<hr>

<h2 id="setconnectionidletime" class="anchor"><a class="heading-anchor" href="#setconnectionidletime"><span></span></a>Set Connection Idle Time</h2>

<p>The IrDA port is opened when the first <code>SEND_DATA</code> command is received. The port is kept open for 30 seconds by default. Within this time frame, subsequent <code>SEND_DATA</code> commands are not needed to open the port again. After 30 seconds from the last IrDA API call, the port is closed. This time frame is adjustable by setting the connection idle time.</p>

<h3 id="samplecode-4" class="anchor"><a class="heading-anchor" href="#samplecode-4"><span></span></a>Sample Code</h3>

<h4 id="setconnectionidletime-1" class="anchor"><a class="heading-anchor" href="#setconnectionidletime-1"><span></span></a>Set connection idle time:</h4>

<pre class="prettyprint"><code>    
    //Create new intent
    Intent intent = new Intent(); 

    //Specify the IrDA action
    intent.setAction("com.symbol.irda.api.ACTION_UPDATE"); 

    //Set to run at foreground priority, with a shorter timeout interval.
    intent.addFlags(Intent.FLAG_RECEIVER_FOREGROUND); 

    //Set idle time to 15 seconds
    intent.putExtra("CONNECTION_IDLE_TIME", 15); 

    //Mention the broadcast receiver to receive the response
    Intent responseIntent = new Intent(getApplicationContext(), MyBroadcastReceiver.class);

    //Set to run at foreground priority, with a shorter timeout interval.
    responseIntent.addFlags(Intent.FLAG_RECEIVER_FOREGROUND);  

    //Any extras are useful to identify the feedback at the broadcast receiver
    responseIntent.putExtra("COMMAND", "SET_CONNECTION_IDLE_TIME"); 
    PendingIntent piResponse = PendingIntent.getBroadcast(getApplicationContext().getApplicationContext(), REQUEST_CODE, responseIntent, PendingIntent.FLAG_UPDATE_CURRENT);

    //Send pending intent as CALLBACK_RESPONSE
    //IrDA API responds to the pending intent specified here
    intent.putExtra("CALLBACK_RESPONSE", piResponse); 

    //Send the broadcast
    sendBroadcast(intent); 
</code></pre>

<p>To determine command success, see <a href="#getfeedbackforcommands">Get Feedback for Commands</a>. </p>

<hr>

<h2 id="getcommand" class="anchor"><a class="heading-anchor" href="#getcommand"><span></span></a>Get Command</h2>

<p>The Get command retrieves the following properties:</p>

<p><code>CONNECTION_IDLE_TIME</code> - Returns the time (in seconds) the connection remains open before automatically closing 
<code>SERVER_NAME</code> - Returns the current server name 
<code>DRIVER_VERSION</code> - Driver version </p>

<h3 id="samplecode-5" class="anchor"><a class="heading-anchor" href="#samplecode-5"><span></span></a>Sample Code</h3>

<h4 id="getdriverversion" class="anchor"><a class="heading-anchor" href="#getdriverversion"><span></span></a>Get driver version:</h4>

<pre class="prettyprint"><code>    
    //Create new intent
    Intent intent = new Intent(); 

    //Specify the IrDA action
    intent.setAction("com.symbol.irda.api.ACTION_GET");

    //Set to run at foreground priority, with a shorter timeout interval 
    intent.addFlags(Intent.FLAG_RECEIVER_FOREGROUND); 

    //Mention the properties to Retrieve
    String[] propertiesToRetrieve = {"DRIVER_VERSION", "CONNECTION_IDLE_TIME", "SERVER_NAME"};

    //Assign the properties to retrieve to PROPERTIES_TO_GET extra
    intent.putExtra("PROPERTIES_TO_GET", propertiesToRetrieve);  

    //Mention the broadcast receiver to receive the response
    Intent responseIntent = new Intent(getApplicationContext(), MyBroadcastReceiver.class);

    //Set to run at foreground priority, with a shorter timeout interval
    responseIntent.addFlags(Intent.FLAG_RECEIVER_FOREGROUND); 

    //Any extras are useful to identify the feedback at the broadcast receiver 
    responseIntent.putExtra("COMMAND", "GET_DRIVER_VERSION"); 

    //Create pending intent
    PendingIntent piResponse = PendingIntent.getBroadcast(getApplicationContext().getApplicationContext(), REQUEST_CODE, responseIntent, PendingIntent.FLAG_UPDATE_CURRENT);

    //Send pending intent as CALLBACK_RESPONSE
    //IrDA API responds to the pending intent specified here.
    intent.putExtra("CALLBACK_RESPONSE", piResponse);

    //Send the broadcast 
    sendBroadcast(intent); 
</code></pre>

<h4 id="decodethegetcommandresponse" class="anchor"><a class="heading-anchor" href="#decodethegetcommandresponse"><span></span></a>Decode the Get command response</h4>

<p>The Get command response is delivered to the broadcast receiver in the pending intent to retrieve the queried data.</p>

<h4 id="retrievedatafromthegetcommand" class="anchor"><a class="heading-anchor" href="#retrievedatafromthegetcommand"><span></span></a>Retrieve data from the Get command:</h4>

<pre class="prettyprint"><code>    
    public class MyBroadcastReceiver extends BroadcastReceiver {
        @Override
        public void onReceive(Context context, Intent intent) {

        String status = "";
        String command = intent.getStringExtra("COMMAND");
        if(command != null) {
            switch (command) {
                case "GET_SERVER_NAME":
                    status += " "+ intent.getStringExtra("SERVER_NAME");
                    break;
                case "GET_CONNECTION_IDLE_TIME":
                    status += " "+ intent.getIntExtra("CONNECTION_IDLE_TIME",0);
                    break;
                case "GET_DRIVER_VERSION":
                    status += " "+ intent.getStringExtra("DRIVER_VERSION");
                    break;

            }
        }
        Log.d("TAG",status);
    }
}
</code></pre>

<hr>

<h2 id="getfeedbackforcommands" class="anchor"><a class="heading-anchor" href="#getfeedbackforcommands"><span></span></a>Get Feedback for Commands</h2>

<p>The <code>ACTION_DO</code> and <code>ACTION_UPDATE</code> methods send a <code>RESULT_CODE</code> and a <code>RESULT_MESSAGE</code> back to the client app with feedback about whether the specified command succeeded. This response is delivered to the broadcast receiver and passed to the pending intent.</p>

<h3 id="samplecode-6" class="anchor"><a class="heading-anchor" href="#samplecode-6"><span></span></a>Sample Code</h3>

<h4 id="getfeedbackfromcommands" class="anchor"><a class="heading-anchor" href="#getfeedbackfromcommands"><span></span></a>Get feedback from commands:</h4>

<pre class="prettyprint"><code>    
    public class MyBroadcastReceiver extends BroadcastReceiver {

    @Override
    public void onReceive(Context context, Intent intent) {

        String status = "";
        String command = intent.getStringExtra("COMMAND");
        String resultCode = intent.getStringExtra("RESULT_CODE");
        String resultMessage = intent.getStringExtra("RESULT_MESSAGE");

        if(command != null)
            status += "" + command + ": ";

        if(resultCode != null)
            status += "" + resultCode;

        if(resultMessage != null)
            status += "\nMessage: " + resultMessage;

        Log.d("TAG",status);

    }
}
</code></pre>

<hr>

<h2 id="setgetconfiguration" class="anchor"><a class="heading-anchor" href="#setgetconfiguration"><span></span></a>Set/Get Configuration</h2>

<p>Used to set the configuration of the IrDA port. <strong>Only the IrDA:RAW protocol supports setting configurations</strong> at this time. Use the intent extra <code>CONFIG</code> to set the baud rate. The parameter key, data type and supported values are shown below.</p>

<ul>
<li><strong>Key</strong>: BAUD_RATES</li>

<li><strong>Data Type</strong>: String</li>

<li><strong>Supported values</strong>: 1200, 2400, 9600, 19200, 38400, 57600, 115200</li>
</ul>

<p><code>SET_CONFIGURATION_FAILED</code> - returned if an error occurrs while setting a configuration. <strong>Note</strong>: Unsupported values are ignored (no error is returned).</p>

<h3 id="samplecode-7" class="anchor"><a class="heading-anchor" href="#samplecode-7"><span></span></a>Sample Code</h3>

<h4 id="setconfiguration" class="anchor"><a class="heading-anchor" href="#setconfiguration"><span></span></a>Set configuration:</h4>

<pre class="prettyprint"><code>    
    Intent intent = new Intent();
    intent.setAction("com.symbol.irda.api.ACTION_UPDATE");

    Bundle bundle = new Bundle();
    bundle.putString("BAUD_RATES","2400");
    intent.putExtra("CONFIG", bundle);

    Intent responseIntent = new Intent(getApplicationContext(), MyBroadcastReceiver.class);
    responseIntent.addFlags(Intent.FLAG_RECEIVER_FOREGROUND);
    responseIntent.putExtra("COMMAND", "SET_CONFIG");
    PendingIntent piResponse = PendingIntent.getBroadcast(getApplicationContext().getApplicationContext(), REQUEST_CODE, responseIntent, PendingIntent.FLAG_UPDATE_CURRENT);
    intent.putExtra("CALLBACK_RESPONSE", piResponse);
    sendBroadcast(intent);
</code></pre>

<h4 id="getconfiguration" class="anchor"><a class="heading-anchor" href="#getconfiguration"><span></span></a>Get configuration:</h4>

<pre class="prettyprint"><code>    
    Intent intent = new Intent();
    intent.setAction("com.symbol.irda.api.ACTION_GET");
    String[] propertiesToRetrieve = {"CONFIG"};
    intent.putExtra("PROPERTIES_TO_GET", propertiesToRetrieve);

    Intent responseIntent = new Intent(getApplicationContext(), MyBroadcastReceiver.class);
    responseIntent.addFlags(Intent.FLAG_RECEIVER_FOREGROUND);
    responseIntent.putExtra("COMMAND", "GET_CONFIGURATIONS");
    PendingIntent piResponse = PendingIntent.getBroadcast(getApplicationContext().getApplicationContext(), REQUEST_CODE, responseIntent, PendingIntent.FLAG_UPDATE_CURRENT);
    intent.putExtra("CALLBACK_RESPONSE", piResponse);
    sendBroadcast(intent);
</code></pre>

<h4 id="getconfigurationbroadcastreceiver" class="anchor"><a class="heading-anchor" href="#getconfigurationbroadcastreceiver"><span></span></a>Get configuration broadcast receiver:</h4>

<pre class="prettyprint"><code>
public class IrDABroadcastReceiver extends BroadcastReceiver {

@Override
public void onReceive(Context context, Intent intent) {
    String config = "";
    if(intent.hasExtra("CONFIG")) {
        Bundle bundleConfig = intent.getExtras().getBundle("CONFIG");
        if(bundleConfig != null) {
            for (String key : bundleConfig.keySet()) {
                config += "\n" + key + ": " + bundleConfig.getString(key);
                }
            }
        }
    }
}
</code></pre>

<hr>

<h2 id="alsosee" class="anchor"><a class="heading-anchor" href="#alsosee"><span></span></a>Also See</h2>

<ul>
<li><a href="../datacapture">Data capture intent APIs</a></li>

<li><a href="../battery">Battery intent APIs</a></li>

<li><a href="../../api">Native APIs</a></li>
</ul><p></p>
                                        


                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                </div><!--/.col-sm-6-->
            </div>
            </section>
        </div>
    </section>    

<div class="modal fade" id="basicModal" tabindex="-1" role="dialog" aria-labelledby="basicModal" aria-hidden="true" data-backdrop="true">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal" aria-hidden="true">X</button>
					</div>
					<div class="modal-body">
						<div id="modalImg">
						
						</div>
					</div>
			</div>
		  </div>
		</div> </div>
         <footer id="footer">
            <div class="container-fluid">
                <div class="row">
                    <div class="col-sm-10">
                        ZEBRA and the stylized Zebra head are trademarks of Zebra Technologies Corp., registered in many jurisdictions worldwide. All other trademarks are the property of their respective owners. ©2020 Zebra Technologies Corp. and/or its affiliates.<br> <a href="https://www.zebra.com/us/en/about-zebra/company-information/legal.html">Legal</a> | <a href="https://www.zebra.com/us/en/about-zebra/company-information/compliance/information-privacy/terms-of-use.html">Terms of Use</a> | <a href="https://www.zebra.com/us/en/about-zebra/company-information/legal/privacy-statement.html">Privacy Policy</a> 
                    </div>
                     <!--
                     <div class="col-sm-2">
                        <ul class="social-icons">
                            <li><a href="http://www.facebook.com/pages/Zebra-Technologies/107703715989073"><i class="fa fa-facebook"></i></a></li>
                            <li><a href="https://twitter.com/ZebraDevs"><i class="fa fa-twitter"></i></a></li>
                            <li><a href="http://www.youtube.com/zebratechnologies/"><i class="fa fa-youtube"></i></a></li>
                            <li><a href="https://www.linkedin.com/groups?home=&gid=3220074&trk=anet_ug_hm&goback=%2Egmr_3220074"><i class="fa fa-linkedin"></i></a></li>
                            <li><a href="https://github.com/developer-zebra"><i class="fa fa-github"></i></a></li>
                        </ul>
                    </div> -->
                 </div>
            </div>
        </footer>
    
    <!--/#footer 
        10/25/18 removed <footer id="footer" class="navbar-fixed-bottom">
    -->
    <script src="/js/bootstrap.min.js"></script>
    <script src="/js/owl.carousel.min.js"></script>
    <script src="/js/mousescroll.js"></script>
    <script src="/js/smoothscroll.js"></script>
    <script src="/js/jquery.prettyPhoto.js"></script>
    <script src="/js/jquery.isotope.min.js"></script>
    <script src="/js/jquery.inview.min.js"></script>
    <script src="/js/wow.min.js"></script>
    <script src="/js/bootstrap-treenav.min.js"></script>
    <script src="/js/prettify.js"></script>
    <script src="/js/zepto.js"></script>
    <script src="/js/jquery.waterfall.js"></script>   
    <script src="/js/main.js"></script>

<script type="text/javascript">
  (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
  (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
  e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
  })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

  _st('install','zRzEsAUhWTTkrdEN2YfA','2.0.0');
</script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-72584442-1', 'auto');
  ga('send', 'pageview');

</script> 

<script>
    ChatraID = 'QDvZ76min4DhLW5vJ';
    (function(d, w, c) {
        var n = d.getElementsByTagName('script')[0],
            s = d.createElement('script');
        w[c] = w[c] || function() {
            (w[c].q = w[c].q || []).push(arguments);
        };
        s.async = true;
        s.src = (d.location.protocol === 'https:' ? 'https:': 'http:')
            + '//call.chatra.io/chatra.js';
        n.parentNode.insertBefore(s, n);
    })(document, window, 'Chatra');
</script>         


</body></html>