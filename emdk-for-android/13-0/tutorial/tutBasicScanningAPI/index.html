
<!DOCTYPE html>
<html lang="en"><head>

    <meta charset="utf-8">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="-1">
    <meta http-equiv="CACHE-CONTROL" content="NO-CACHE">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Online Documentation for Zebra Technologies developer tools and utilties, including EMDK for Android, EMDK for Xamarin, StageNow and Enterprise Browser.">
    <meta name="author" content="Zebra Technologies">
    <meta name="google-site-verification" content="i4B78BrWnNy8ShJwe5feRW3jO3HE6gfYlYqYbxfl8yY">
    <meta name="msvalidate.01" content="6B651B00161BCE79B8950AC09D5C4C75">
    <meta title="Basic Scanning with Barcode API">
    <title>Basic Scanning with Barcode API - TechDocs</title>
    <!-- core CSS -->
    <link href="/css/bootstrap.min.css" rel="stylesheet">
<!--     
    <link href="/css/font-awesome.min.css" rel="stylesheet">
 -->    
    <link href="/css/all.css" rel="stylesheet">
    <link href="/css/v4-shims.css" rel="stylesheet">
    <link href="/css/animate.min.css" rel="stylesheet">
    <link href="/css/owl.carousel.css" rel="stylesheet">
    <link href="/css/owl.transitions.css" rel="stylesheet">
    <link href="/css/prettyPhoto.css" rel="stylesheet">
    <link href="/css/main.css" rel="stylesheet">
    <link href="/css/responsive.css" rel="stylesheet">
    <link href="/css/prettify.css" rel="stylesheet">
    <link href="/css/bootstrap-treenav.min.css" rel="stylesheet">
    <!--[if lt IE 9]>
    <script src="js/html5shiv.js"></script>
    <script src="js/respond.min.js"></script>
    <![endif]--> 

    <!-- 6/13/24- a "crown" icon randomly appeared in the MX matrix today. Rob said it looked like sumo. 
        <script src="//load.sumome.com/" data-sumo-site-id="699cb66cf4dc59352efb45705526d15cbe314e1cd43f7761b94d96f3cf7338e8" async="async"></script> -->
    <link rel="shortcut icon" href="/favicon.ico">
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-01QJCMQM9N"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-01QJCMQM9N');
</script><script src="/js/jquery.js"></script></head><!--/head-->

<!-- Google tag -->





<body id="home" class="homepage" data-spy="scroll" data-offset="100" data-target="#toc">

    <header id="header">
        <nav id="main-menu" class="navbar navbar-default navbar-fixed-top" role="banner">
            <div class="container-fluid">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="/"><img src="/images/logo.png" alt="logo" style="max-height:66px;float: inherit;
    padding-right: 3px;"></a> 
                    
                   
                </div>
                <div class="collapse navbar-collapse navbar-left">
                    <ul class="nav navbar-nav">
                        <li class="navbar-text pull-left"><strong>TechDocs</strong></li>
                        <li class="dropdown">
                          <button class="btn btn-default dropdown-toggle" type="button" data-toggle="dropdown"> EMDK For Android 13.0
                          <span class="caret"></span></button>
                          <ul class="dropdown-menu">
                                <li><a onclick="changeVersion('5-0','4-2','/emdk-for-android/4-2/guide/about')">EMDK For Android 4.2</a></li>
                                <li><a onclick="changeVersion('5-0','4-0','/emdk-for-android/4-0/guide/about')">EMDK For Android 4.0</a></li>
                          </ul>
                        </li>                    
                    </ul>
                </div>
                <div class="collapse navbar-collapse navbar-right">
                    <ul class="nav navbar-nav">
                        


                        <li>
                            <a href="/emdk-for-android/13-0/guide/about">
                                    About
                            </a>
                        </li>
                        <li>
                            <a href="/emdk-for-android/13-0/guide/gettingstarted">
                                    Set Up
                            </a>
                        </li>
                        <li>
                            <a href="/emdk-for-android/13-0/tutorial/">
                                    Tutorials
                            </a>
                        </li>
                        <li>
                            <a href="/emdk-for-android/13-0/samples">
                                    Samples
                            </a>
                        </li>
                        <li>
                            <a href="/emdk-for-android/13-0/guide/programming-guides">
                                    Guides
                            </a>
                        </li>
                        <li>
                            <a href="/emdk-for-android/13-0/guide/profile-manager-guides">
                                    Profile Manager
                            </a>
                        </li>
                        <li>
                            <a href="/emdk-for-android/13-0/faq">
                                    FAQs
                            </a>
                        </li>
                        <li>
                            <a href="/emdk-for-android/13-0/apimenu">
                                    APIs
                            </a>
                        </li>
                        <li>
                            <a href="https://developer.zebra.com/forum/search?keys=&amp;field_zebra_curated_tags_tid%5B%5D=184">
                                    <i class="fa fa-comments-o"></i>
                            </a>
                        </li>
                        <li>
                            <a href="/emdk-for-android/13-0/search">
                                    <i class="fa fa-search"></i>
                            </a>
                        </li>
                        
                        <!-- <li ><a href="/products">SDKs</a></li>
                        <li ><a href="/samples">Samples</a></li>
                        <li ><a href="/guides">Guides</a></li>
                        <li ><a href="/tutorials">Tutorials</a></li>
                        <li ><a href="/apis">APIs</a></li> -->
                        <!-- <li><a href="#"><input type="text" class="st-default-search-input"></a></li> -->
                    </ul>
                </div>
            </div><!--/.container-->
        </nav><!--/nav-->
    </header><!--/header-->
<div class="container-fluid">
    <section id="blog">
        <div class="">
            <section class="content-with-sidebar">
            <div class="row">
                <div class="col-sm-3 hidden-sm hidden-xs" id="sidebar">
                    
                    
                    <nav id="toc" data-toggle="toc" data-spy="affix" style="height: 75%; max-width: 225px; overflow-y: auto; ">
                        
                        <ul class="nav">
                            <li><strong>Basic Scanning with Barcode API</strong></li>
                        </ul>
                    </nav>
                    <div class="modal fade" id="modal-smartdocs" tabindex="-1" role="dialog" aria-labelledby="basicModal" aria-hidden="true" data-backdrop="true">
                    	<div class="modal-dialog">
                    		<div class="modal-content">
                    			<div class="modal-header">
                    				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">X</button>
                    			</div>
                    			<div class="modal-body">
                    				<form>
                    				  <div class="form-group">
                    				    <label for="exampleInputEmail1">MX Version On Device:</label>
                    				    <select class="form-control">
                    					  <option value="4.0">4.0</option>
                    					  <option value="4.1">4.1</option>
                    					  <option value="4.2">4.2</option>
                    					  <option value="4.3">4.3</option>
                    					  <option value="5.0">5.0</option>
                    					</select>
                    				  </div>						
                    				  <div class="form-group">
                    				    <label for="exampleInputEmail1">OSX Version On Device:</label>
                    				    <select class="form-control">
                    					  <option value="1.0">1.0</option>
                    					  <option value="1.2">1.2</option>
                    					  <option value="1.3.4-56">1.3.4-56</option>
                    					  <option value="3.4">3.4</option>
                    					  <option value="3.5">3.5</option>
                    					  <option value="3.6">3.6</option>
                    					  <option value="4.1">4.1</option>
                    					  <option value="4.2">4.2</option>
                    					  <option value="4.3">4.3</option>
                    					  <option value="4.4">4.4</option>
                    					</select>
                    				  </div>						
                    				  <div class="form-group">
                    				    <label for="exampleInputEmail1">Android Version On Device:</label>
                    				    <select class="form-control">
                    					  <option value="23">6.0 Marshmallow</option>
                    					  <option value="22">5.1 Lollipop</option>
                    					  <option value="21">5.0 Lollipop</option>
                    					  <option value="19">4.4 Kitkat</option>
                    					  <option value="18">4.3 Jellybean</option>
                    					  <option value="17">4.2.x Jellybean</option>
                    					  <option value="16">4.1.x Jellybean</option>
                    					  <option value="15">4.0.3-4.0.4 Ice Cream Sandwich</option>
                    					  <option value="14">4.0-4.0.2 Ice Cream Sandwich</option>
                    					  <option value="10">2.3.3-2.3.4 Gingerbread</option>
                    					</select>
                    				  </div>
                    				  <div class="form-group">
                    				  	<button class="primary" id="btn_SaveSmartDocOptions">Save Changes</button><button class="primary" id="btn_ClearSmartDocOptions">Clear Changes</button>
                    				  </div>
                    				</form>
                    			</div>
                    	</div>
                      </div>
                    </div>
                    
                    <script type="text/javascript">
                        $(document).ready(function() {
                        	$( "#btn_SaveSmartDocOptions" ).click(function() {
                      			console.log('Saving Options');
                      			$("#modal-smartdocs").modal({show: false});
                    		});
                        	$( "#btn_SaveSmartDocOptions" ).click(function() {
                      			console.log('Clearing Options');
                      			$("#modal-smartdocs").modal({show: false});
                    		});
                        });
                    </script><link rel="stylesheet" href="https://cdn.rawgit.com/afeld/bootstrap-toc/v0.3.0/dist/bootstrap-toc.min.css">
                    <script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v0.3.0/dist/bootstrap-toc.min.js"></script>
                    <script type="text/javascript">
                        $(document).ready(function() {
                    
                        });
                    
                    
                    </script>
                </div>                
                <div class="col-sm-9 ">
                    <div class="row">
                        <div class="col-sm-12">
                            <section id="cta" class="wow fadeIn">
                                <div class="">
                                    <h1 id="basic-scanning-with-barcode-api" class="anchor"><a class="heading-anchor" href="#basic-scanning-with-barcode-api"><span></span></a>Basic Scanning with Barcode API</h1>
                                    <p>
                                            EMDK For Android
                                            13.0
                                    </p>
                                </div>
                            </section>                    
                        </div>
                    </div>
                    <div id="mainContent" class="row">
                        <div class="col-sm-12">
                            <div class="blog-post blog-large wow fadeInLeft" data-wow-duration="300ms" data-wow-delay="0ms">
                            <!-- Start of guide -->
                                <div class="service-box wow fadeInRight">
                                    <div class="">

                                        <p></p><div class="alert alert-danger alert-dismissible fade in" role="alert"> <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">×</span></button> <h4 id="regarding-emdk-barcode-scanning-apis" class="anchor"><a class="heading-anchor" href="#regarding-emdk-barcode-scanning-apis"><span></span></a>Regarding EMDK Barcode Scanning APIs</h4> <p><u>Zebra strongly recommends the use of DataWedge for all applications that require barcode scanning</u>. <b>While Zebra will continue to support EMDK Barcode APIs</b>, the efficiency and feature richness of intent-based interfaces make it a simpler alternative to app development using EMDK Barcode APIs.</p> <p> <b>DataWedge facts</b>:
    </p><ul>
        <li><b>DataWedge APIs have the same capabilities currently available in EMDK Barcode APIs.</b></li>
        <li><b>DataWedge intent-based APIs are easier and faster to implement than EMDK Barcode APIs.</b></li>
        <li><b>New features are added to DataWedge before being considered for EMDK Barcode APIs.</b></li>
    </ul>
    <br>
    <a href="/datawedge" class="btn btn-danger">Learn About DataWedge</a>  <p></p> </div>

<blockquote>
  <p><strong><code>IMPORTANT:</code></strong> Support for SimulScan features has been removed from EMDK for Android 8.0 (and later) for devices running Android 10 (and later).</p>
</blockquote>

<p></p><h2 id="overview" class="anchor"><a class="heading-anchor" href="#overview"><span></span></a>Overview</h2>

<p>This guide provides a walk-through of the steps for creating an application that uses <a href="../../api">Barcode/Scanning APIs</a> to perform Scanning operations on a Zebra Android device without using Profile Wizard. The API uses <a href="../../guide/barcode_scanning_guide/">Barcode Manager</a>, which is the primary object for accessing barcode scanning features.</p>

<blockquote>
  <p>Note: <strong>The demo app in this guide is intended for tutorial purposes only</strong> and should not be used in production environments.</p>
</blockquote>

<hr>

<h3 id="createtheproject" class="anchor"><a class="heading-anchor" href="#createtheproject"><span></span></a>Create The Project</h3>

<p>Start by creating a new project in Android Studio. Call it <code>BasicScanningTutorial</code> to match later references in this guide. For help, see the <a href="../../tutorial/tutCreateProjectAndroidStudio">Android Studio tutorial</a>.</p>

<h3 id="enableandroidpermissions" class="anchor"><a class="heading-anchor" href="#enableandroidpermissions"><span></span></a>Enable Android Permissions</h3>

<p>Modify the application's <code>Manifest.xml</code> file to use the EMDK library and to set permissions for EMDK to scan the barcodes.</p>

<ol>
<li><p>Enable permissions for <code>com.symbol.emdk.permission.EMDK</code>:</p>

<pre class="prettyprint"><code>    
&lt;manifest xmlns:android="http://schemas.android.com/apk/res/android" package="com.symbol.basicscansample1"&gt;
    &lt;uses-permission android:name="com.symbol.emdk.permission.EMDK" /&gt;
    &lt;application&gt;
    ...
    &lt;/application&gt;
&lt;/manifest&gt;
</code></pre></li>

<li><p>Enable the EMDK library in the application node:</p>

<pre class="prettyprint"><code>
&lt;application&gt;
    &lt;uses-library android:name="com.symbol.emdk"/&gt;
    &lt;activity&gt;
    ...
    &lt;/activity&gt;
&lt;/application&gt;
</code></pre></li>

<li><p>Add references to the libraries:</p>

<pre class="prettyprint"><code>
import com.symbol.emdk.EMDKManager;
import com.symbol.emdk.EMDKManager.EMDKListener;
import com.symbol.emdk.EMDKResults;
import com.symbol.emdk.barcode.BarcodeManager;
import com.symbol.emdk.barcode.ScanDataCollection;
import com.symbol.emdk.barcode.ScanDataCollection.ScanData;
import com.symbol.emdk.barcode.Scanner;
import com.symbol.emdk.barcode.Scanner.DataListener;
import com.symbol.emdk.barcode.Scanner.StatusListener;
import com.symbol.emdk.barcode.Scanner.TriggerType;
import com.symbol.emdk.barcode.ScannerConfig;
import com.symbol.emdk.barcode.ScannerException;
import com.symbol.emdk.barcode.ScannerResults;
import com.symbol.emdk.barcode.StatusData;
import com.symbol.emdk.barcode.StatusData.ScannerStates;
</code></pre></li>

<li><p>Extend the activity to implement <code>EMDKListener</code>, implement <code>StatusListener</code> for notifying client applications to notify scan events, and override its <code>onStatus</code> function. Implement <code>DataListener</code> for notifying client applications to notify data events and override its <code>onData</code> function.</p>

<pre class="prettyprint"><code>
    public class MainActivity extends Activity implements EMDKListener, StatusListener, DataListener {
        @Override
        public void onOpened(EMDKManager emdkManager) {
        // TODO Auto-generated method stub
        }
        @Override
        public void onClosed() {
        // TODO Auto-generated method stub
        }
        @Override
        public void onStatus(StatusData statusData) {
        // TODO Auto-generated method stub
        }
        @Override
        public void onData(ScanDataCollection scanDataCollection) {
        // TODO Auto-generated method stub
        }
    }
</code></pre></li>

<li><p>Create some global variables to hold the instance objects of <code>EMDKManager</code>, <code>BarcodeManager</code> and <code>Scanner</code>. These variables are used throughout the code. This section also adds some UI elements starting with a <a href="http://developer.android.com/reference/android/widget/TextView.html">TextView</a> to display the status of the scanning operation and <a href="http://developer.android.com/reference/android/widget/EditText.html">EditText</a> to populate scanned barcode data.</p>

<pre class="prettyprint"><code>
// Variables to hold EMDK related objects
private EMDKManageremdkManager = null;
private BarcodeManager barcodeManager = null;
private Scanner scanner = null;
// Variables to hold handlers of UI controls
private TextView statusTextView = null;
private EditText dataView = null;
</code></pre></li>

<li><p>Design a simple UI that has a <a href="http://developer.android.com/reference/android/widget/TextView.html">TextView</a> to display the status of scanning operation. Above that is an <a href="http://developer.android.com/reference/android/widget/EditText.html">EditText</a> element to populate scanned barcode data.</p></li>

<li><p>Remove all the code inside the <code>res/layout/activity_main.xml</code> folder and add the following XML layout code for the UI:</p>

<pre class="prettyprint"><code>
&lt;RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
xmlns:tools="http://schemas.android.com/tools"
android:layout_width="match_parent"
android:layout_height="match_parent"
android:padding="16dip"
tools:context=".MainActivity" &gt;

  &lt;EditText
  android:id="@+id/editText1"
  android:layout_width="wrap_content"
  android:layout_height="wrap_content"
  android:layout_above="@+id/textViewStatusTitle"
  android:layout_centerHorizontal="true"
  android:ems="10"
  android:fadeScrollbars="true"
  android:inputType="none|textMultiLine" /&gt;

  &lt;TextView
  android:id="@+id/textViewStatus"
  android:layout_width="wrap_content"
  android:layout_height="wrap_content"
  android:layout_centerInParent="true"
  android:text="" /&gt;

  &lt;TextView
  android:id="@+id/textViewStatusTitle"
  android:layout_width="wrap_content"
  android:layout_height="wrap_content"
  android:layout_above="@+id/textViewStatus"
  android:layout_centerHorizontal="true"
  android:layout_marginBottom="15dp"
  android:text="Status:" /&gt;

&lt;/RelativeLayout&gt;
</code></pre></li>

<li><p>In the <code>onCreate()</code> method, take the reference of UI elements that are declared in <code>res/layout/activity_main.xml</code> to use them in the <a href="http://developer.android.com/reference/android/app/Activity.html">Activity</a>. Then call <code>getEMDKManager</code> to initialize EMDK and confirm that it's ready.</p>

<pre class="prettyprint"><code>
// References to UI elements
statusTextView = (TextView) findViewById(R.id.textViewStatus);
dataView = (EditText) findViewById(R.id.editText1);

// Requests the EMDKManager object. This is an asynchronous call and should be called from the main thread.
// The callback also will receive in the main thread without blocking it until the EMDK resources are ready.
EMDKResults results = EMDKManager.getEMDKManager(getApplicationContext(), this);

// Check the return status of getEMDKManager() and update the status TextView accordingly.
if (results.statusCode!=   EMDKResults.STATUS_CODE.SUCCESS) {
    updateStatus("EMDKManager object request failed!");
    return;
    } else {
        updateStatus("EMDKManager object initialization is   in   progress.......");
    }
</code></pre></li>

<li><p>Write a method <code>initBarcodeManager()</code> to initialize the Barcode Manager object.</p>

<pre class="prettyprint"><code>
private void initBarcodeManager() {
    // Get the feature object such as BarcodeManager object for accessing the feature.
    barcodeManager =  (BarcodeManager)emdkManager.getInstance(EMDKManager.FEATURE_TYPE.BARCODE);
    // Add external scanner connection listener.
    if (barcodeManager == null) {
            Toast.makeText(this, "Barcode scanning is not supported.", Toast.LENGTH_LONG).show();
                        finish();
                    }
                }
</code></pre></li>

<li><p>Write a method <code>initializeScanner()</code> to initialize and enable the scanner and its listeners by using the Barcode Manager object. The <code>enable()</code> method enables the scanner hardware. This method does not turn on the laser to start scanning, but makes the scanner available to the application. If the same scanner is enabled by another application, calling the <code>enable()</code> method results in a <code>ScannerException</code>.</p>

<pre class="prettyprint"><code>
private void initScanner() {
    if (scanner == null) {
        // Get default scanner defined on the device
        scanner = barcodeManager.getDevice(BarcodeManager.DeviceIdentifier.DEFAULT);
    if(scanner != null) {
        // Implement the DataListener interface and pass the pointer of this object to get the data callbacks.
        scanner.addDataListener(this);

<pre><code>    // Implement the StatusListener interface and pass the pointer of this object to get the status callbacks.
    scanner.addStatusListener(this);

    // Hard trigger. When this mode is set, the user has to manually
    // press the trigger on the device after issuing the read call.
    // NOTE: For devices without a hard trigger, use TriggerType.SOFT_ALWAYS.
    scanner.triggerType =  TriggerType.HARD;

    try{
    // Enable the scanner
    // NOTE: After calling enable(), wait for IDLE status before calling other scanner APIs
    // such as setConfig() or read().
    scanner.enable();

    } catch (ScannerException e) {
        updateStatus(e.getMessage());
        deInitScanner();
    }
} else {
        updateStatus("Failed to   initialize the scanner device.");
    }
}
</code></pre>

}
</code></pre></li>

<li><p>Create a method to release scanner resources when no longer required. Name this method <code>deInitScanner()</code> and call the <code>release()</code> method to unlock the scanner and make it available to other applications.</p>

<pre class="prettyprint"><code>
private void deInitScanner() {
    if (scanner != null) {
        try {
            // Release the scanner
        scanner.release();
    } catch (Exception e)   {
        updateStatus(e.getMessage());
    }
    scanner = null;
    }
}
</code></pre></li>

<li><p>Use the <code>onOpened()</code> method to get a reference to the <code>EMDKManager</code>. The <code>EMDKListener</code> interface triggers this event when EMDK is ready to be used. The <code>EMDKListener</code> interface must be implemented to get a reference to EMDKManager APIs. This event passes the <code>EMDKManager</code> instance and assigns it to the global variable <code>emdkManager</code> created in earlier steps. Use that instance to get an instance of the <a href="../../api">Barcode Manager API</a> to enable scanning.</p>

<pre class="prettyprint"><code>
// Get a reference to EMDKManager
this.emdkManager =  emdkManager;

// Get a  reference to the BarcodeManager feature object
initBarcodeManager();

// Initialize the scanner
initScanner();
</code></pre></li>

<li><p>When a barcode is scanned, its data is received in the <code>onData</code> method callback. This step gets that data, processes it in the desired format and populates the <a href="http://developer.android.com/reference/android/widget/EditText.html">EditText</a> UI element. <code>IMPORTANT:</code> Any extensive processing on received data should be done in a background thread to avoid blocking the UI thread.</p>

<pre class="prettyprint"><code>
// The ScanDataCollection object gives scanning result and the collection of ScanData. Check the data and its status.
String dataStr = "";
if ((scanDataCollection != null) &amp;&amp;   (scanDataCollection.getResult() == ScannerResults.SUCCESS)) {
    ArrayList&lt;ScanData&gt; scanData =  scanDataCollection.getScanData();
    // Iterate through scanned data and prepare the data.
    for (ScanData data :  scanData) {
        // Get the scanned data
        String barcodeData =  data.getData();
        // Get the type of label being scanned
        ScanDataCollection.LabelType labelType = data.getLabelType();
        // Concatenate barcode data and label type
        dataStr =  barcodeData + "  " +  labelType;
    }
        // Update EditText with scanned data and type of label on UI thread.
        updateData(dataStr);
}
</code></pre></li>

<li><p>The following helper function displays the data string on UI from data callbacks.</p>

<pre class="prettyprint"><code>    
    // Variable to hold scan data length
    private int dataLength=  0;
    private void updateData(finalString result) {
        runOnUiThread(newRunnable() {
            @Overridepublic voidrun() {
            // Update the dataView EditText on UI thread with barcode data and its label type.
            if (dataLength++ &gt;=   50) {
                // Clear the cache after 50 scans
                dataView.getText().clear();
                dataLength =  0;
            }
            dataView.append(result + "\n");
        }
    });
}
</code></pre></li>

<li><p>Whether scanning the barcode by pressing the hard scan key or keeping it idle, it returns the status of the scanner at a specific point in time in the <code>overriddenonStatus()</code> method of the implemented <code>StatusListener</code> interface. Since the status also is being displayed along with barcode data, the app can make use of this method and populate the status.</p>

<pre class="prettyprint"><code>
// The status will be returned on multiple cases. Check the state and take the action.
// Get the current state of scanner in background
ScannerStates state =  statusData.getState();
String statusStr = "";
// Different states of Scannerswitch (state) {
    case IDLE:
    // Scanner is idle and ready to change configuration and submit read.
    statusStr = statusData.getFriendlyName()+" is   enabled and idle...";
    // Change scanner configuration. This should be done while the scanner is in IDLE state.
    setConfig();
    try {
        // Starts an asynchronous Scan. The method will NOT turn ON the scanner beam,
        //but puts it in a  state in which the scanner can be turned on automatically or by pressing a hardware trigger.
    scanner.read();
}
    catch (ScannerException e)   {
    updateStatus(e.getMessage());
}
    break;
case WAITING:
    // Scanner is waiting for trigger press to scan...
    statusStr = "Scanner is waiting for trigger press...";
    break;
case SCANNING:
    // Scanning is in progress...
    statusStr = "Scanning...";
    break;
case DISABLED:
    // Scanner is disabledstatusStr = statusData.getFriendlyName()+" is disabled.";
    break;
case ERROR:
    // Error has occurred during scanning
    statusStr = "An error has occurred.";
    break;
default:
    break;
}
// Updates TextView with scanner state on UI thread.
updateStatus(statusStr);
</code></pre></li>

<li><p>The following helper function displays the status string on UI from status callbacks and exceptions.</p>

<pre class="prettyprint"><code>
    private void updateStatus(final String status) {
        runOnUiThread(newRunnable() {
            @Override
            public void run() {
                // Update the status text view on UI thread with current scanner state
                statusTextView.setText(""+  status);
            }
        });
    }
</code></pre></li>

<li><p>Scanner configuration changes should be done while the scanner is in IDLE state and according to get-modify-set approach. Also, Zebra recommends using the <code>ScannerConfig.isParamSupported(String param)</code> API to check whether the parameter is supported on the device dynamically prior to set.</p>

<pre class="prettyprint"><code>    
    private void setConfig() {
        if (scanner != null) {try {
            // Get scanner config
                ScannerConfig config = scanner.getConfig();
            // Enable haptic feedback
            if (config.isParamSupported("config.scanParams.decodeHapticFeedback")) {
                config.scanParams.decodeHapticFeedback = true;
            }
            // Set scanner config
            scanner.setConfig(config);
        } catch (ScannerException e)   {
            updateStatus(e.getMessage());
        }
    }
}
</code></pre></li>

<li><p>Override the <code>onDestroy()</code> method to release <code>EMDKManager</code> resources:</p>

<pre class="prettyprint"><code>    
    @Override
    protected void onDestroy() {
    super.onDestroy();
    // Release all the EMDK resources
    if (emdkManager != null) {
        emdkManager.release();
        emdkManager= null;
    }
}
</code></pre></li>

<li><p>Lastly, clean up the objects created by EMDK manager in <code>onClosed</code> method in case EMDK closed unexpectedly. Restarting the app also might resolve such issues.</p>

<pre class="prettyprint"><code>
@Override
public void onClosed() {
    // The EMDK closed unexpectedly. Release all the resources.
    if (emdkManager != null) {
        emdkManager.release();
        emdkManager= null;
    }
updateStatus("EMDK closed unexpectedly! Please close and restart the application.");
}
</code></pre></li>
</ol>

<h4 id="thesampleappisnowreadytouse" class="anchor"><a class="heading-anchor" href="#thesampleappisnowreadytouse"><span></span></a>The sample app is now ready to use.</h4>

<hr>

<!--
<img alt="image" style="height:400px" src=""/><br>
 -->

<h2 id="runningtheapplication" class="anchor"><a class="heading-anchor" href="#runningtheapplication"><span></span></a>Running the Application</h2>

<ol>
<li><p>Connect the device to a USB port on the development host. The EMDK runtime is preloaded on Zebra devices and ready to run EMDK applications. <strong>Note</strong>: The device must be in USB Debug mode.</p></li>

<li><p>Run the application. The the scanner is enabled (scan status: IDLE) and a status message "Waiting for trigger press..." appears in the <a href="http://developer.android.com/reference/android/widget/TextView.html">TextView</a> field.</p>

<p><img alt="image" style="height:300px" src="../../images/BasicScanningTutorialImages/home_screen.png"><br>
<em>Click to enlarge; ESC to exit</em>.</p></li>

<li><p>Pressing the scan trigger executes the status listener code. The status changes to "Scanning..." as displayed in the Status <a href="http://developer.android.com/reference/android/widget/TextView.html">TextView</a>:</p>

<p><img alt="image" style="height:300px" src="../../images/BasicScanningTutorialImages/status_scanning.png"><br>
<em>Click to enlarge; ESC to exit</em>.</p></li>

<li><p>Once scanning completes, release the scan trigger. Data populates the <a href="http://developer.android.com/reference/android/widget/EditText.html">EditText</a> field and status returns to "Waiting for trigger press..." as displayed in the Status <a href="http://developer.android.com/reference/android/widget/TextView.html">TextView</a> field:</p>

<p><img alt="image" style="height:300px" src="../../images/BasicScanningTutorialImages/status_idle.png"><br>
<em>Click to enlarge; ESC to exit</em>.</p></li>
</ol>

<p>This is how <a href="/emdk-for-android/6-10/api">Barcode/Scanning APIs</a> can be used to perform Basic Scanning operations on Zebra devices without using the Profile Wizard.</p>

<hr>

<h2 id="importantprogrammingtips" class="anchor"><a class="heading-anchor" href="#importantprogrammingtips"><span></span></a>Important Programming Tips</h2>

<h3 id="editthemanifest" class="anchor"><a class="heading-anchor" href="#editthemanifest"><span></span></a>Edit the manifest</h3>

<ol>
<li><p>Be sure to make the following required changes in the application's AndroidManifest.xml:</p>

<blockquote>
  <p>Note:</p>
  
  <ul>
  <li>Include the permission for EMDK:</li></ul>
</blockquote>

<pre class="prettyprint"><code>
&lt;uses-permission android:name="com.symbol.emdk.permission.EMDK"/&gt;
</code></pre>

<blockquote>
  <p>Note:</p>
  
  <ul>
  <li>Use the EMDK library:</li></ul>
</blockquote>

<pre class="prettyprint"><code>
&lt;uses-library android:name="com.symbol.emdk"/&gt;
</code></pre></li>

<li><p>Use DataWedge v1.7.12 or higher to test the <code>ProfileManager.processProfile()</code> for DataWedge profiles.</p></li>
</ol>

<h3 id="editthebuildgradle" class="anchor"><a class="heading-anchor" href="#editthebuildgradle"><span></span></a>Edit the build.gradle</h3>

<p>Make the following required changes in the application's build.gradle file:</p>

<pre class="prettyprint"><code>&gt;Note:
&gt;* Include the dependency for EMDK:

        
        compileOnly ’com.symbol:emdk:+’


&gt;* Include jcenter() in two (2) places so the build script knows where to get EMDK:

buildscript {

    repositories {
        google()
        maven {
    url = "https://zebratech.jfrog.io/artifactory/EMDK-Android/"
}

    }
    dependencies {
        classpath 'com.android.tools.build:gradle:3.1.2'

        // NOTE: Do not place your application dependencies here; they belong
        // in the individual module build.gradle files
    }
}

allprojects {
    repositories {
        google()
        maven {
    url = "https://zebratech.jfrog.io/artifactory/EMDK-Android/"
}


    }
}

task clean(type: Delete) {
    delete rootProject.buildDir
}
</code></pre>

<h3 id="contentbackup" class="anchor"><a class="heading-anchor" href="#contentbackup"><span></span></a>Content Backup</h3>

<p>Once the barcode is enabled, the <code>read</code> method is called on the scanner and the scanning API starts an asynchronous scan. The method puts the scanner in a state in which it can be turned ON either automatically or by pressing a hardware trigger as determined by the <code>Scanner.TriggerType</code>. The data notification must registered in order to scan and get the scan data. The read request can be canceled by issuing a <code>cancelRead</code>. If a <code>read()</code> is submitted while another read is pending, the method call fails. Therefore, <strong>Zebra recommends checking whether a read is pending by calling</strong> <code>isReadPending()</code> before submitting a <code>read()</code>. A <code>read()</code> also can be submitted from within <code>onData</code> and <code>onStatus</code> events. If called within <code>onStatus</code>, it should be called only when IDLE status is received. If called within <code>onData</code>, then checking for <code>isReadPending()</code> is recommended.</p>

<blockquote>
  <p>Note: The <code>read</code> method allows only a single barcode scan. If multiple scans are desired, the <code>read</code> method must be called multiple times.</p>
</blockquote>

<hr>

<h2 id="whatsnext" class="anchor"><a class="heading-anchor" href="#whatsnext"><span></span></a>What's Next</h2>

<p>After completing this basic tutorial, the next logical step might be to explore the <a href="../../api">Barcode/Scanning APIs</a> in depth, and use them to perform advanced scanning operations.</p><p></p>
                                        


                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                </div><!--/.col-sm-6-->
            </div>
            </section>
        </div>
    </section>    

<div class="modal fade" id="basicModal" tabindex="-1" role="dialog" aria-labelledby="basicModal" aria-hidden="true" data-backdrop="true">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal" aria-hidden="true">X</button>
					</div>
					<div class="modal-body">
						<div id="modalImg">
						
						</div>
					</div>
			</div>
		  </div>
		</div> </div>
         <footer id="footer">
            <div class="container-fluid">
                <div class="row">
                    <div class="col-sm-10">
                        ZEBRA and the stylized Zebra head are trademarks of Zebra Technologies Corp., registered in many jurisdictions worldwide. All other trademarks are the property of their respective owners. ©2025 Zebra Technologies Corp. and/or its affiliates.<br> <a href="https://www.zebra.com/us/en/about-zebra/company-information/legal.html">Legal</a> | <a href="https://www.zebra.com/us/en/about-zebra/company-information/compliance/information-privacy/terms-of-use.html">Terms of Use</a> | <a href="https://www.zebra.com/us/en/about-zebra/company-information/legal/privacy-statement.html">Privacy Policy</a> 
                    </div>
                     <!--
                     <div class="col-sm-2">
                        <ul class="social-icons">
                            <li><a href="http://www.facebook.com/pages/Zebra-Technologies/107703715989073"><i class="fa fa-facebook"></i></a></li>
                            <li><a href="https://twitter.com/ZebraDevs"><i class="fa fa-twitter"></i></a></li>
                            <li><a href="http://www.youtube.com/zebratechnologies/"><i class="fa fa-youtube"></i></a></li>
                            <li><a href="https://www.linkedin.com/groups?home=&gid=3220074&trk=anet_ug_hm&goback=%2Egmr_3220074"><i class="fa fa-linkedin"></i></a></li>
                            <li><a href="https://github.com/developer-zebra"><i class="fa fa-github"></i></a></li>
                        </ul>
                    </div> -->
                 </div>
            </div>
        </footer>
    
    <!--/#footer 
        10/25/18 removed <footer id="footer" class="navbar-fixed-bottom">
    -->
    <script src="/js/bootstrap.min.js"></script>
    <script src="/js/owl.carousel.min.js"></script>
    <script src="/js/mousescroll.js"></script>
    <script src="/js/smoothscroll.js"></script>
    <script src="/js/jquery.prettyPhoto.js"></script>
    <script src="/js/jquery.isotope.min.js"></script>
    <script src="/js/jquery.inview.min.js"></script>
    <script src="/js/wow.min.js"></script>
    <script src="/js/bootstrap-treenav.min.js"></script>
    <script src="/js/prettify.js"></script>
    <script src="/js/zepto.js"></script>
    <script src="/js/jquery.waterfall.js"></script>   
    <script src="/js/main.js"></script>

<script type="text/javascript">
  (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
  (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
  e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
  })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

  _st('install','zRzEsAUhWTTkrdEN2YfA','2.0.0');
</script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-72584442-1', 'auto');
  ga('send', 'pageview');

</script> 

<script>
    ChatraID = 'QDvZ76min4DhLW5vJ';
    (function(d, w, c) {
        var n = d.getElementsByTagName('script')[0],
            s = d.createElement('script');
        w[c] = w[c] || function() {
            (w[c].q = w[c].q || []).push(arguments);
        };
        s.async = true;
        s.src = (d.location.protocol === 'https:' ? 'https:': 'http:')
            + '//call.chatra.io/chatra.js';
        n.parentNode.insertBefore(s, n);
    })(document, window, 'Chatra');
</script>         


</body></html>