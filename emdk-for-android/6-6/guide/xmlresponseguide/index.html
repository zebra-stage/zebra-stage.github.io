
<!DOCTYPE html>
<html lang="en"><head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Online Documentation for Zebra Technologies developer tools and utiltiescomp including EMDK for Android, EMDK for Xamarin, StageNow, Enterprise Browser.">
    <meta name="author" content="Zebra Technologies">
    <meta name="google-site-verification" content="i4B78BrWnNy8ShJwe5feRW3jO3HE6gfYlYqYbxfl8yY">
    <meta name="msvalidate.01" content="6B651B00161BCE79B8950AC09D5C4C75">
    <meta title="EMDK Profile Manager Programmer's Guide">
    <title>EMDK Profile Manager Programmer's Guide - Zebra Technologies TechDocs</title>
    <!-- core CSS -->
    <link href="/css/bootstrap.min.css" rel="stylesheet">
    <link href="/css/font-awesome.min.css" rel="stylesheet">
    <link href="/css/animate.min.css" rel="stylesheet">
    <link href="/css/owl.carousel.css" rel="stylesheet">
    <link href="/css/owl.transitions.css" rel="stylesheet">
    <link href="/css/prettyPhoto.css" rel="stylesheet">
    <link href="/css/main.css" rel="stylesheet">
    <link href="/css/responsive.css" rel="stylesheet">
    <link href="/css/prettify.css" rel="stylesheet">
    <link href="/css/bootstrap-treenav.min.css" rel="stylesheet">
    <!--[if lt IE 9]>
    <script src="js/html5shiv.js"></script>
    <script src="js/respond.min.js"></script>
    <![endif]--> 

    <script src="//load.sumome.com/" data-sumo-site-id="699cb66cf4dc59352efb45705526d15cbe314e1cd43f7761b94d96f3cf7338e8" async="async"></script>
    <link rel="shortcut icon" href="/favicon.ico">
<script src="/js/jquery.js"></script></head><!--/head-->


<body id="home" class="homepage" data-spy="scroll" data-offset="100" data-target="#toc">

    <header id="header">
        <nav id="main-menu" class="navbar navbar-default navbar-fixed-top" role="banner">
            <div class="container-fluid">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="/"><img src="/images/logo.png" alt="logo" style="max-height:66px;float: inherit;
    padding-right: 3px;"></a> 
                    
                   
                </div>
                <div class="collapse navbar-collapse navbar-left">
                    <ul class="nav navbar-nav">
                        <li class="navbar-text pull-left"><strong>TECHDOCS</strong></li>
                        <li class="dropdown">
                          <button class="btn btn-default dropdown-toggle" type="button" data-toggle="dropdown"> EMDK For Android 6.6
                          <span class="caret"></span></button>
                          <ul class="dropdown-menu">
                                <li><a onclick="changeVersion('5-0','4-2','/emdk-for-android/4-2/guide/about')">EMDK For Android 4.2</a></li>
                                <li><a onclick="changeVersion('5-0','4-0','/emdk-for-android/4-0/guide/about')">EMDK For Android 4.0</a></li>
                          </ul>
                        </li>                    
                    </ul>
                </div>
                <div class="collapse navbar-collapse navbar-right">
                    <ul class="nav navbar-nav">
                        


                        <li>
                            <a href="/emdk-for-android/6-6/guide/about">
                                    Home
                            </a>
                        </li>
                        <li>
                            <a href="/emdk-for-android/6-6/guide/gettingstarted">
                                    Getting Started
                            </a>
                        </li>
                        <li>
                            <a href="/emdk-for-android/6-6/tutorial/">
                                    Tutorials
                            </a>
                        </li>
                        <li>
                            <a href="/emdk-for-android/6-6/samples">
                                    Samples
                            </a>
                        </li>
                        <li>
                            <a href="/emdk-for-android/6-6/guide/programming-guides">
                                    Guides
                            </a>
                        </li>
                        <li>
                            <a href="/emdk-for-android/6-6/guide/profile-manager-guides">
                                    Profile Manager
                            </a>
                        </li>
                        <li>
                            <a href="/emdk-for-android/6-6/api">
                                    APIs
                            </a>
                        </li>
                        <li>
                            <a href="/emdk-for-android/6-6/search">
                                    <i class="fa fa-search"></i>
                            </a>
                        </li>
                        <!-- <li ><a href="/products">SDKs</a></li>
                        <li ><a href="/samples">Samples</a></li>
                        <li ><a href="/guides">Guides</a></li>
                        <li ><a href="/tutorials">Tutorials</a></li>
                        <li ><a href="/apis">APIs</a></li> -->
                        <!-- <li><a href="#"><input type="text" class="st-default-search-input"></a></li> -->
                    </ul>
                </div>
            </div><!--/.container-->
        </nav><!--/nav-->
    </header><!--/header-->
<div class="container-fluid">
    <section id="blog">
        <div class="">
            <section class="content-with-sidebar">
            <div class="row">
                <div class="col-sm-3 hidden-sm hidden-xs" id="sidebar">
                    
                    
                    <nav id="toc" data-toggle="toc" data-spy="affix" style="height: 75%; max-width: 225px; overflow-y: auto; ">
                        
                        <ul class="nav">
                            <li><strong>EMDK Profile Manager Programmer's Guide</strong></li>
                        </ul>
                    </nav>
                    <div class="modal fade" id="modal-smartdocs" tabindex="-1" role="dialog" aria-labelledby="basicModal" aria-hidden="true" data-backdrop="true">
                    	<div class="modal-dialog">
                    		<div class="modal-content">
                    			<div class="modal-header">
                    				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">X</button>
                    			</div>
                    			<div class="modal-body">
                    				<form>
                    				  <div class="form-group">
                    				    <label for="exampleInputEmail1">MX Version On Device:</label>
                    				    <select class="form-control">
                    					  <option value="4.0">4.0</option>
                    					  <option value="4.1">4.1</option>
                    					  <option value="4.2">4.2</option>
                    					  <option value="4.3">4.3</option>
                    					  <option value="5.0">5.0</option>
                    					</select>
                    				  </div>						
                    				  <div class="form-group">
                    				    <label for="exampleInputEmail1">OSX Version On Device:</label>
                    				    <select class="form-control">
                    					  <option value="1.0">1.0</option>
                    					  <option value="1.2">1.2</option>
                    					  <option value="1.3.4-56">1.3.4-56</option>
                    					  <option value="3.4">3.4</option>
                    					  <option value="3.5">3.5</option>
                    					  <option value="3.6">3.6</option>
                    					  <option value="4.1">4.1</option>
                    					  <option value="4.2">4.2</option>
                    					  <option value="4.3">4.3</option>
                    					  <option value="4.4">4.4</option>
                    					</select>
                    				  </div>						
                    				  <div class="form-group">
                    				    <label for="exampleInputEmail1">Android Version On Device:</label>
                    				    <select class="form-control">
                    					  <option value="23">6.0 Marshmallow</option>
                    					  <option value="22">5.1 Lollipop</option>
                    					  <option value="21">5.0 Lollipop</option>
                    					  <option value="19">4.4 Kitkat</option>
                    					  <option value="18">4.3 Jellybean</option>
                    					  <option value="17">4.2.x Jellybean</option>
                    					  <option value="16">4.1.x Jellybean</option>
                    					  <option value="15">4.0.3-4.0.4 Ice Cream Sandwich</option>
                    					  <option value="14">4.0-4.0.2 Ice Cream Sandwich</option>
                    					  <option value="10">2.3.3-2.3.4 Gingerbread</option>
                    					</select>
                    				  </div>
                    				  <div class="form-group">
                    				  	<button class="primary" id="btn_SaveSmartDocOptions">Save Changes</button><button class="primary" id="btn_ClearSmartDocOptions">Clear Changes</button>
                    				  </div>
                    				</form>
                    			</div>
                    	</div>
                      </div>
                    </div>
                    
                    <script type="text/javascript">
                        $(document).ready(function() {
                        	$( "#btn_SaveSmartDocOptions" ).click(function() {
                      			console.log('Saving Options');
                      			$("#modal-smartdocs").modal({show: false});
                    		});
                        	$( "#btn_SaveSmartDocOptions" ).click(function() {
                      			console.log('Clearing Options');
                      			$("#modal-smartdocs").modal({show: false});
                    		});
                        });
                    </script><link rel="stylesheet" href="https://cdn.rawgit.com/afeld/bootstrap-toc/v0.3.0/dist/bootstrap-toc.min.css">
                    <script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v0.3.0/dist/bootstrap-toc.min.js"></script>
                    <script type="text/javascript">
                        $(document).ready(function() {
                    
                        });
                    
                    
                    </script>
                </div>                
                <div class="col-sm-9 ">
                    <div class="row">
                        <div class="col-sm-12">
                            <section id="cta" class="wow fadeIn">
                                <div class="">
                                    <h1 id="emdk-profile-manager-programmers-guide" class="anchor"><a class="heading-anchor" href="#emdk-profile-manager-programmers-guide"><span></span></a>EMDK Profile Manager Programmer's Guide</h1>
                                    <p>
                                            EMDK For Android
                                            6.6
                                    </p>
                                </div>
                            </section>                    
                        </div>
                    </div>
                    <div id="mainContent" class="row">
                        <div class="col-sm-12">
                            <div class="blog-post blog-large wow fadeInLeft" data-wow-duration="300ms" data-wow-delay="0ms">
                            <!-- Start of guide -->
                                <div class="service-box wow fadeInRight">
                                    <div class="">

                                        <p></p><h2 id="introduction" class="anchor"><a class="heading-anchor" href="#introduction"><span></span></a>Introduction</h2>

<p>This document provides the overview on getting the profile manager
instance, profile XML, applying profiles, interpreting result returned
by the Profile Manager Methods and the response XML schema for the
developer to understand and configure the device based their application
specific requirements.</p>

<h2 id="gettingprofilemanager" class="anchor"><a class="heading-anchor" href="#gettingprofilemanager"><span></span></a>Getting ProfileManager</h2>

<p>The EMDKManager provides two ways to get the ProfileManager instance.</p>

<ol>
<li><p>EMDKManager.getInstance</p></li>

<li><p>EMDKManager.getInstanceAsync</p></li>
</ol>

<h3 id="emdkmanagergetinstance" class="anchor"><a class="heading-anchor" href="#emdkmanagergetinstance"><span></span></a>EMDKManager.getInstance</h3>

<p>The EMDKManager.getInstance is synchronous method which immediately
returns profile mananger instance independent of the underlying
components such as MX Framework ready to use or not.</p>

<p>The Profile Manager related components will take few seconds to
initialize for it to be ready to use after the device booted. If the
application tries to use the EMDKManager.getInstance to set the profile
immediately the device boot will result in permission error because the
profile manager component such as MX Framework not ready to use.</p>

<pre class="prettyprint"><code>    
    public class MainActivity extends Activity implements EMDKListener

        //Declare a variable to store ProfileManager object
        private ProfileManager profileManager = null;
        //Declare a variable to store EMDKManager object
        private EMDKManager emdkManager = null;


        @Override
        protected void onCreate(Bundle savedInstanceState) {
            super.onCreate(savedInstanceState);
            setContentView(R.layout.activity_main);
            //The EMDKManager object will be created and returned in the callback.
            EMDKResults results = EMDKManager.getEMDKManager(getApplicationContext(), 
                    this);
            //Check the return status of EMDKManager object creation.
            if(results.statusCode == EMDKResults.STATUS_CODE.SUCCESS) {
                //EMDKManager object creation success
            }else {
                //EMDKManager object creation failed
            }
        }

        @Override
        protected void onDestroy() {

            super.onDestroy();

            //Clean up the objects created by EMDK manager
            if (profileManager != null)
                profileManager = null;

            if (emdkManager != null) {
                emdkManager.release();
                emdkManager = null;
            }
        }
        @Override
        public void onClosed() {

            //This callback will be issued when the EMDK closes unexpectedly.
            if (emdkManager != null) {
                emdkManager.release();
                emdkManager = null;
            }
        }

        @Override
        public void onOpened(EMDKManager emdkManager) {

            this.emdkManager = emdkManager;

            //Get the ProfileManager object to process the profiles

        profileManager =  (ProfileManager)emdkManager.getInstance(EMDKManager.FEATURE_TYPE.PROFILE);

        }
    }
</code></pre>

<h3 id="emdkmanagergetinstanceasync" class="anchor"><a class="heading-anchor" href="#emdkmanagergetinstanceasync"><span></span></a>EMDKManager.getInstanceAsync</h3>

<p>The EMDKManager.getInstanceAsync is an asynchronous call which returns
profile manager instance through the registered status listener callback
when the profile manger components such as such as MX Framework is
initialized and ready to use.</p>

<p>This async method is recommended if the application wants to set the
profile immediately after the device boot complete.</p>

<pre class="prettyprint"><code>    
    public class MainActivity extends Activity implements EMDKListener, EMDKManager.StatusListener{
        //Declare a variable to store ProfileManager object
        private ProfileManager profileManager = null;
        //Declare a variable to store EMDKManager object
        private EMDKManager emdkManager = null;

        @Override
        protected void onCreate(Bundle savedInstanceState) {
            super.onCreate(savedInstanceState);
            setContentView(R.layout.activity_main);
            //The EMDKManager object will be created and returned in the callback.
            EMDKResults results = 
            EMDKManager.getEMDKManager(getApplicationContext(), this);
            //Check the return status of EMDKManager object creation.
            if(results.statusCode == EMDKResults.STATUS_CODE.SUCCESS) {
                //EMDKManager object creation success
            }else {
                //EMDKManager object creation failed
            }
        }

        @Override
        protected void onDestroy() {

            super.onDestroy();

            //Clean up the objects created by EMDK manager
            if (profileManager != null)
                profileManager = null;

            if (emdkManager != null) {
                emdkManager.release();
                emdkManager = null;
            }
        }
        @Override
        public void onClosed() {

            //This callback will be issued when the EMDK closes unexpectedly.
            if (emdkManager != null) {
                emdkManager.release();
                emdkManager = null;
            }
        }

        @Override
        public void onOpened(EMDKManager emdkManager) {

            this.emdkManager = emdkManager;

            //Get the ProfileManager object using async to process the profiles
            try {
                emdkManager.getInstanceAsync(EMDKManager.FEATURE_TYPE.PROFILE, 
                            MainActivity.this);
            } catch (EMDKException e) {
                e.printStackTrace();
            }
        }

        @Override
        public void onStatus(EMDKManager.StatusData statusData, EMDKBase emdkBase) 
        {

            if(statusData.getResult() == EMDKResults.STATUS_CODE.SUCCESS) {
                if(statusData.getFeatureType() == EMDKManager.FEATURE_TYPE.PROFILE) 
            {
                    profileManager = (ProfileManager)emdkBase;
                }
            } else {
                //Error occurred
            }
        }
    }
</code></pre>

<h2 id="profilexml" class="anchor"><a class="heading-anchor" href="#profilexml"><span></span></a>Profile XML</h2>

<p>When the developer creates the profile based on their configuration
requirement in the Profile Manager wizard in IDE, selects and configures
features, the settings will be saved under the application’s assets
folder as “EMDKConfig.xml”.</p>

<p>A sample Profile XML (e.g., EMDKConfig.xml), show below was generated by
the Profile Manager Wizard uses the features such as RemoteScannerMgr,
AppMgr:</p>

<pre class="prettyprint"><code>    
    &lt;?xml version="1.0" encoding="UTF-8"?&gt;
    &lt;!--This is an auto generated document. Changes to this document may cause incorrect behavior.--&gt;
    &lt;wap-provisioningdoc&gt;
    &lt;characteristic type="ProfileInfo"&gt;
    &lt;parm name="created\_wizard\_version" value="5.0.1"/&gt;
    &lt;/characteristic&gt;
    &lt;characteristic type="Profile"&gt;
    &lt;parm name="ProfileName" value="MyProfile"/&gt;
    &lt;parm name="ModifiedDate" value="2016-09-07 14:15:09"/&gt;
    &lt;parm name="TargetSystemVersion" value="6.0"/&gt;
    &lt;characteristic type="AccessMgr" version="4.3"&gt;
    &lt;parm name="emdk\_name" value="AccessMgr1"/&gt;
    &lt;parm name="OperationMode" value="2"/&gt;
    &lt;parm name="SystemSettings" value="1"/&gt;
    &lt;parm name="DeletePackagesAction" value="1"/&gt;
    &lt;parm name="DeletePackageNames" value="com.test.error"/&gt;
    &lt;parm name="AddPackagesAction" value="1"/&gt;
    &lt;parm name="AddPackageNames" value="com.symbol.profilesample1"/&gt;
    &lt;parm name="AddPackagesActionAllowXML" value="1"/&gt;
    &lt;parm name="AddPackageNamesAllowXML" value="com.symbol.profilesample1"/&gt;
    &lt;parm name="AllowSubmitXMLAction" value="2"/&gt;
    &lt;/characteristic&gt;
    &lt;characteristic type="RemoteScannerMgr" version="5.2"&gt;
    &lt;parm name="emdk\_name" value="ResetDefaultScanner"/&gt;
    &lt;parm name="Action" value="3"/&gt;
    &lt;parm name="SerialNumber" value=""/&gt;
    &lt;/characteristic&gt;
    &lt;characteristic type="AppMgr" version="5.1"&gt;
    &lt;parm name="emdk\_name" value="DemoInstallation"/&gt;
    &lt;parm name="Action" value="Install"/&gt;
    &lt;parm name="APK" value="/sdcard/test.apk"/&gt;
    &lt;/characteristic&gt;
    &lt;characteristic type="PowerMgr" version="4.2"&gt;
    &lt;parm name="emdk\_name" value="BringToSleep"/&gt;
    &lt;parm name="ResetAction" value="1"/&gt;
    &lt;/characteristic&gt;
    &lt;characteristic type="Clock" version="6.0"&gt;
    &lt;parm name="emdk\_name" value="SetTime1"/&gt;
    &lt;parm name="AutoTimeZone" value="false"/&gt;
    &lt;parm name="TimeZone" value="GMT-5"/&gt;
    &lt;parm name="AutoTime" value="false"/&gt;
    &lt;parm name="Date" value="2016-09-10"/&gt;
    &lt;parm name="Time" value="12:00:00"/&gt;
    &lt;/characteristic&gt;
    &lt;/characteristic&gt;
    &lt;/wap-provisioningdoc&gt;
</code></pre>

<ul>
<li><p>An EMDKConfig.xml begins with node&nbsp;<code>&lt;wap-provisioningdoc&gt;</code>&nbsp;andends with&nbsp;<code>&lt;/wap-provisioningdoc&gt;</code></p></li>

<li><p>After the <code>&lt;wap-provisioningdoc&gt;</code>&nbsp;tag, there will be a
characteristic node with type named “ProfileInfo” that provides
information on the Profile Manager Wizard version used to create
the profile. This node is reserved EMDK internal use only and do not
alter this. This info will not be set on the device and also will
not be returned in the response XML.</p>

<pre class="prettyprint"><code>
&lt;characteristic type="ProfileInfo"&gt;
&lt;parm name="created\_wizard\_version" value="5.0.1"/&gt;
&lt;/characteristic&gt;
</code></pre></li>

<li><p>Next would be a characteristic node with the type named Profile as
shown below. An EMDKConfig.xml can have one or more Profile nodes
based on the number of profiles created.</p>

<pre class="prettyprint"><code>
&lt;characteristic type="Profile"&gt;
    &lt;!-- Profile contents --&gt;
&lt;/characteristic&gt;.
</code></pre></li>

<li><p>Each Profile node will have parm nodes which include <strong>ProfileName</strong>
to identify the profile, <strong>ModifiedDate</strong> for for the profiles last
modified date and <strong>TargetSystemVersion</strong> for the target MX version
chosen to create profile. These parm nodes are reserved for EMDK
internal use only and should not be manually altered. This info will
not be set on the device and also will not be returned in the
response XML.</p></li>

<li><p>The profile name will be used to inform the ProfileManager methods
to apply user specified profile on the device. The modified date and
target MX version are used for profile maintenance such as editing,
renaming and modifying profiles in the profile manager wizard.</p></li>

<li><p>Each profile will have one or more characteristic feature nodes with
parm settings specific to that feature. An example of feature node
is shown below.</p>

<pre class="prettyprint"><code>
&lt;characteristic type="AppMgr" version="5.1"&gt;
    &lt;parm name="emdk\_name" value=" DemoInstallation"/&gt;
    &lt;parm name="Action" value="Install"/&gt;
    &lt;parm name="APK" value="/sdcard/DemoApp.apk"/&gt;
&lt;/characteristic&gt;
</code></pre></li>

<li><p>The characteristic node for each feature will have the attributes
type and version.</p>

<ul>
<li><p>The type indicates the feature</p></li>

<li><p>The version indicates the feature specification version</p></li></ul></li>

<li><p>Each feature characteristic node will have one or more parm and
characteristic nodes which define the settings for that feature. The
parm node (emdk_name) provides the name assigned to that feature
which will be used by the Profile Manager API to identify feature
node and must be a unique name within that profile. The emdk_name
value will not be set on the device and also will not be returned in
the response XML.</p></li>
</ul>

<h2 id="applyingprofiles" class="anchor"><a class="heading-anchor" href="#applyingprofiles"><span></span></a>Applying Profiles</h2>

<p>The&nbsp;<a href="/emdk-for-android/6-6/api/core/ProfileManager/">ProfileManager</a>&nbsp;API
exposes methods such as processProfile and processProfileAsync that are
used to apply a XML profile located in the Application’s Assets folder
and/or optional profile data passed as extraData to these methods.</p>

<p>The ProfileManager.processProfile is blocking call which blocks the main
thread. To avoid ANRs while applying profile, a developer should call
processProfile on a worker thread or use the non blocking call
ProfileManager.processProfileAsync which returns the status through the
registered callback. The asynchronous method
ProfileManager.processProfileAsync is recommended than the
synchronous/blocking method ProfileManager.processProfile .</p>

<p>ProcessProfile and processProfileAsync methods return
an&nbsp;<a href="/emdk-for-android/6-6/api/core/EMDKResults/">EMDKResults</a>&nbsp;object
that provides the status of the requested profile action. The below code
snippet shows how to use the ProfileManager.processProfileAsync set
profile on the device.</p>

<pre class="prettyprint"><code>    
    public class MyProfileActivity extends Activity implements EMDKListener, ProfileManager.DataListener {

        private EMDKManager emdkManager = null;
        @Override
        protected void onCreate(Bundle savedInstanceState) {
            super.onCreate(savedInstanceState);
            EMDKResults results =
                    EMDKManager.getEMDKManager(getApplicationContext(), this);
            if(results.statusCode == EMDKResults.STATUS_CODE.SUCCESS) {
                //EMDKManager object request success
            }else {
                //EMDKManager object request failed
            }
        }
        @Override
        protected void onDestroy() {
            super.onDestroy();
            //Release EMDKManager on application exit.
            if (emdkManager != null) {
                emdkManager.release();
                emdkManager = null;
            }
        }
        @Override
        public void onOpened(EMDKManager emdkManager) {
            //EMDK issues this callback when the EMDK is ready to use.
            this.emdkManager = emdkManager;

            //Get the ProfileManager object to apply the profiles
            ProfileManager profileManager = (ProfileManager)
                    emdkManager.getInstance(EMDKManager.FEATURE_TYPE.PROFILE);

            //Register for callback to receive the processProfileAsync status
            profileManager.addDataListener(MyProfileActivity.this);
            EMDKResults results = profileManager. processProfileAsync("MyProfile1",
                    ProfileManager.PROFILE_FLAG.SET,
                    (String[])null);
            if(results.statusCode == EMDKResults.STATUS_CODE.PROCESSING) {
                //Applying the profile, status will be returned through
                //the registered callback
            } else {
                //Failed to initiate request to apply the profiles.
            }
        }

        @Override
        public void onClosed() {
            //This callback will be issued when the EMDK closes unexpectedly.
            if (emdkManager != null) {
                emdkManager.release();
                emdkManager = null;
            }
        }
        @Override
        public void onData(ProfileManager.ResultData resultData) {
            //processProfileAsync callback method

            EMDKResults result = resultData.getResult();
            if(result.statusCode == EMDKResults.STATUS_CODE.CHECK_XML) {
                String responseXML = result.getStatusString();
                //Parse the responseXML to know the status of profiles applied
            } else if(result.statusCode != EMDKResults.STATUS_CODE.SUCCESS) {
                //Error occurred in applying the profile.
            }
        }
    }
</code></pre>

<h2 id="profileresponse" class="anchor"><a class="heading-anchor" href="#profileresponse"><span></span></a>Profile Response</h2>

<h3 id="interpretingemdkresults" class="anchor"><a class="heading-anchor" href="#interpretingemdkresults"><span></span></a>Interpreting EMDKResults</h3>

<p>An&nbsp;<a href="/emdk-for-android/6-6/api/core/EMDKResults/">EMDKResults</a>&nbsp;object
provides a status of whether the submitted profile was successfully
processed, or if there were errors while processing.</p>

<p>The first step to determine if profile processing was a success or
failure would be to inspect
the&nbsp;<a href="/emdk-for-android/6-6/api/core/EMDKResults/#statuscode">EMDKResults.statusCode</a>&nbsp;field.
This field will be of type
<a href="/emdk-for-android/6-6/api/core/EMDKResults-STATUS_CODE/">EMDKResults.STATUS_CODE</a>.
When an EMDKResults.statusCode is equal to STATUS_CODE.CHECK_XML, this
indicates that you should check the response XML in the
EMDKResults.getStatusString() to know the status of the process profile
method result. When an EMDKResults.statusCode is not equal to
STATUS_CODE.CHECK_XML and also not equal to STATUS_CODE.SUCCESS, this
indicates some failure occurred and the detailed error can be obtained
from EMDKResults.extendedStatusCode.</p>

<p>In most of the cases, the response Status Code will
be&nbsp;<a href="/emdk-for-android/6-6/api/core/EMDKResults-STATUS_CODE/">CHECK_XML</a>&nbsp;regardless
of whether the profile was successfully applied or not.</p>

<p>Refer to the above code snippet within in the onData callback method for
determining profile processing result.</p>

<h3 id="responsexml" class="anchor"><a class="heading-anchor" href="#responsexml"><span></span></a>Response XML</h3>

<p>A response XML of EMDKResults.getStatusString() begins with node&nbsp;<code>&lt;wap-provisioningdoc&gt;</code>&nbsp;and endswith&nbsp;<code>&lt;/wap-provisioningdoc&gt;</code>. After the <code>&lt;wap-provisioningdoc&gt;</code>&nbsp;tag, there will be a characteristic node with type named “status” that provides information about the status error code, extended status error with the respective description. These error codes will be same errors of <a href="/emdk-for-android/6-6/api/core/EMDKResults/#statuscode">EMDKResults.statusCode</a> and EMDKResults.extendedStatusCode. This node can be ignored while parsing the XML if you already interpreted the error from EMDKResults.</p>

<pre class="prettyprint"><code>    
    &lt;characteristic type="status"&gt;
    &lt;parm name="code" value="6"/&gt;
    &lt;parm name="description" value="Review the XML for details"/&gt;
    &lt;characteristic type="extended\_status"&gt;
    &lt;parm name="code" value="0"/&gt;
    &lt;parm name="description" value=""/&gt;
    &lt;/characteristic&gt;
    &lt;/characteristic&gt;
</code></pre>

<p>Each response will have one or more characteristic or characteristic-error feature nodes with parm settings specific to that feature. If the feature settings applied successfully, characteristic node will
        be same as input XML with emdk_name parm node removed as shown below.</p>

<pre class="prettyprint"><code>    
    &lt;characteristic type="AppMgr" version="5.1"&gt;
    &lt;parm name="Action" value="Install"/&gt;
    &lt;parm name="APK" value="/sdcard/DemoApp.apk"/&gt;
    &lt;/characteristic&gt;
</code></pre>

<p>If the feature settings failed to apply because of an incorrect value, the characteristic node will be changed to a characteristic-error node and the parm node which lead to the failure will be changed to parm-error node with description attributed added as shown below.</p>

<pre class="prettyprint"><code>    
    &lt;characteristic-error type="AppMgr" version="5.1" desc="unsupported"&gt;
    &lt;parm-error name="Action" value="Incorrect" desc="unsupported"/&gt;
    &lt;parm name="APK" value="/sdcard/Test.apk"/&gt;
    &lt;/characteristic-error&gt;
</code></pre>

<p>If the feature settings failed to apply because of other reasons, the characteristic node will be changed to a characteristic-error node with description attributed added as shown below.</p>

<p>Example 1:</p>

<pre class="prettyprint"><code>    
    &lt;characteristic-error type="RemotePrinterMgr" version="5.2" desc="has not registered with MX Framework yet"&gt;
    &lt;parm name="Action" value="3"/&gt;
    &lt;/characteristic-error&gt;
</code></pre>

<p>Example 2:</p>

<pre class="prettyprint"><code>    
    &lt;characteristic-error type="RemoteScannerMgr" version="5.2" desc="No connection"&gt;
    &lt;parm name="Action" value="3"/&gt;
    &lt;parm name="SerialNumber" value=""/&gt;
    &lt;/characteristic-error&gt;
</code></pre>

<p>DataCapture profile response is different than other features. If the profile XML submitted contains only the DataCapture profile, you will get the status of the profile setting in EMDKResults.statusCode will have errors such as success, failure and response XML with DataCapture characteristic node to describes the same info. The parm attribute “code” describes the error code and description describes error description in English text. This error information is specific to DataCapture profile only. If any parm values are invalid or not supported, it automatically picks the default supported value to create DataCapture profile for the DataWedge and therefore the errors are not seen normally in the DataCapture profiles.</p>

<p>If the profile submitted is a combination of both DataCapture and Non-DataCapture profile, the EMDKResults.statusCode will have the statusCode as CHECK_XML. The application has to parse the response to interprete the response XML. The DataCapture response will be available under the characteristic node “DataCapture” as shown below.</p>

<p>Example 1: Success Case</p>

<pre class="prettyprint"><code>    
    &lt;characteristic type="DataCapture"&gt;
    &lt;parm name="code" value="0"/&gt;
    &lt;parm name="description" value="Success"/&gt;
    &lt;/characteristic&gt;
</code></pre>

<p>Example 2: Generic Failure Case</p>

<pre class="prettyprint"><code>    ::xml
    &lt;characteristic type="DataCapture"&gt;
    &lt;parm name="code" value="1"/&gt;
    &lt;parm name="description" value="Failure"/&gt;
    &lt;/characteristic&gt;
</code></pre>

<h2 id="sampleresponsexmlstrings" class="anchor"><a class="heading-anchor" href="#sampleresponsexmlstrings"><span></span></a>Sample Response XML Strings</h2>

<h3 id="xmlwithouterrors" class="anchor"><a class="heading-anchor" href="#xmlwithouterrors"><span></span></a>XML - Without Errors</h3>

<p>In this example, using Profile Manger, a new profile has been created
and a RemoteScannerMgr and AppMgr feature has been added. Profile
Manager will error check and provide feedback as values are entered into
each parm field. This ensures that the values entered are properly
formatted.</p>

<p><strong>XML submitted</strong></p>

<pre class="prettyprint"><code>    
    &lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;!--This is an auto
    generated document. Changes to this document may cause incorrect
    behavior.--&gt;&lt;wap-provisioningdoc&gt;
    &lt;characteristic type="ProfileInfo"&gt;
    &lt;parm name="created\_wizard\_version" value="5.0.1"/&gt;
    &lt;/characteristic&gt;
    &lt;characteristic type="Profile"&gt;
    &lt;parm name="ProfileName" value="MyProfile"/&gt;
    &lt;parm name="ModifiedDate" value="2016-09-08 10:13:05"/&gt;
    &lt;parm name="TargetSystemVersion" value="6.0"/&gt;
    &lt;characteristic type="RemoteScannerMgr" version="5.2"&gt;
    &lt;parm name="emdk\_name" value="ResetDefaultScanner"/&gt;
    &lt;parm name="Action" value="3"/&gt;
    &lt;parm name="SerialNumber" value=""/&gt;
    &lt;/characteristic&gt;
    &lt;characteristic type="AppMgr" version="5.1"&gt;
    &lt;parm name="emdk\_name" value="DemoInstallation"/&gt;
    &lt;parm name="Action" value="Install"/&gt;
    &lt;parm name="APK" value="/sdcard/DemoApp.apk"/&gt;
    &lt;/characteristic&gt;
    &lt;/characteristic&gt;
    &lt;/wap-provisioningdoc&gt;
</code></pre>

<p><strong>XML Response</strong> - XML String with all settings set successfully.</p>

<pre class="prettyprint"><code>    
    &lt;?xml version="1.0" encoding="UTF-8"?&gt;
    &lt;wap-provisioningdoc&gt;
        &lt;characteristic type="status"&gt;
            &lt;parm name="code" value="6"/&gt;
            &lt;parm name="description" value="Review the XML for details"/&gt;
            &lt;characteristic type="extended\_status"&gt;
                &lt;parm name="code" value="0"/&gt;
                &lt;parm name="description" value=""/&gt;
            &lt;/characteristic&gt;
        &lt;/characteristic&gt;
        &lt;characteristic type="RemoteScannerMgr" version="5.2"&gt;
            &lt;parm name="Action" value="3"/&gt;
            &lt;parm name="SerialNumber" value=""/&gt;
        &lt;/characteristic &gt;
        &lt;characteristic type="AppMgr" version="5.1"&gt;
            &lt;parm name="Action" value="Install"/&gt;
            &lt;parm name="APK" value="/sdcard/DemoApp.apk"/&gt;
        &lt;/characteristic&gt;
    &lt;/wap-provisioningdoc&gt;
</code></pre>

<h3 id="xmlwithparmerror" class="anchor"><a class="heading-anchor" href="#xmlwithparmerror"><span></span></a>XML with parm-error</h3>

<p>In this example, the parm error was returned due to the missing APK for
the AppMgr to perform the install action.</p>

<p><strong>XML submitted</strong></p>

<pre class="prettyprint"><code>    
    &lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;!--This is an auto
    generated document. Changes to this document may cause incorrect
    behavior.--&gt;&lt;wap-provisioningdoc&gt;
    &lt;characteristic type="ProfileInfo"&gt;
    &lt;parm name="created\_wizard\_version" value="5.0.1"/&gt;
    &lt;/characteristic&gt;
    &lt;characteristic type="Profile"&gt;
    &lt;parm name="ProfileName" value="MyProfile"/&gt;
    &lt;parm name="ModifiedDate" value="2016-09-08 10:13:05"/&gt;
    &lt;parm name="TargetSystemVersion" value="6.0"/&gt;
    &lt;characteristic type="RemoteScannerMgr" version="5.2"&gt;
    &lt;parm name="emdk\_name" value="ResetDefaultScanner"/&gt;
    &lt;parm name="Action" value="3"/&gt;
    &lt;parm name="SerialNumber" value=""/&gt;
    &lt;/characteristic&gt;
    &lt;characteristic type="AppMgr" version="5.1"&gt;
    &lt;parm name="emdk\_name" value="DemoInstallation"/&gt;
    &lt;parm name="Action" value="Install"/&gt;
    &lt;parm name="APK" value="/sdcard/Test.apk"/&gt;
    &lt;/characteristic&gt;
    &lt;/characteristic&gt;
    &lt;/wap-provisioningdoc&gt;
</code></pre>

<p><strong>XML Response</strong> - XML String with characteristic-error and parm-error because the APK doesnot exist in the path specified in AppMgr feature.</p>

<pre class="prettyprint"><code>    
    &lt;?xml version="1.0" encoding="UTF-8"?&gt;
    &lt;wap-provisioningdoc&gt;
    &lt;characteristic type="status"&gt;
    &lt;parm name="code" value="6"/&gt;
    &lt;parm name="description" value="Review the XML for details"/&gt;
    &lt;characteristic type="extended\_status"&gt;
    &lt;parm name="code" value="0"/&gt;
    &lt;parm name="description" value=""/&gt;
    &lt;/characteristic&gt;
    &lt;/characteristic&gt;
    &lt;characteristic-error type="RemoteScannerMgr" version="5.2"&gt;
    &lt;parm name="Action" value="3"/&gt;
    &lt;parm name="SerialNumber" value=""/&gt;
    &lt;/characteristic-error&gt;
    &lt;characteristic-error type="AppMgr" version="5.1" desc="missing"&gt;
    &lt;parm-error name="Action" value="Install" desc="apk doesnot exist in
    the path"/&gt;
    &lt;parm name="APK" value="/sdcard/Test.apk"/&gt;
    &lt;/characteristic-error&gt;
    &lt;/wap-provisioningdoc&gt;
</code></pre>

<h3 id="xmlwithcharacteristicerror" class="anchor"><a class="heading-anchor" href="#xmlwithcharacteristicerror"><span></span></a>XML with characteristic-error</h3>

<p>In this example, the characteristic error was returned due to the remote
Bluetooth scanner is not connected to perform the action specified in
the RemoteScannerMgr.</p>

<p><strong>XML submitted</strong></p>

<pre class="prettyprint"><code>    
    &lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;!--This is an auto
    generated document. Changes to this document may cause incorrect
    behavior.--&gt;
    &lt;wap-provisioningdoc&gt;
    &lt;characteristic type="ProfileInfo"&gt;
    &lt;parm name="created\_wizard\_version" value="5.0.1"/&gt;
    &lt;/characteristic&gt;
    &lt;characteristic type="Profile"&gt;
    &lt;parm name="ProfileName" value="MyProfile"/&gt;
    &lt;parm name="ModifiedDate" value="2016-09-08 10:13:05"/&gt;
    &lt;parm name="TargetSystemVersion" value="6.0"/&gt;
    &lt;characteristic type="RemoteScannerMgr" version="5.2"&gt;
    &lt;parm name="emdk\_name" value="ResetDefaultScanner"/&gt;
    &lt;parm name="Action" value="3"/&gt;
    &lt;parm name="SerialNumber" value=""/&gt;
    &lt;/characteristic&gt;
    &lt;characteristic type="AppMgr" version="5.1"&gt;
    &lt;parm name="emdk\_name" value="DemoInstallation"/&gt;
    &lt;parm name="Action" value="Install"/&gt;
    &lt;parm name="APK" value="/sdcard/DemoApp.apk"/&gt;
    &lt;/characteristic&gt;
    &lt;/characteristic&gt;
    &lt;/wap-provisioningdoc&gt;
</code></pre>

<p><strong>XML Response</strong> – XML String with characteristic-error in RemoteScannerMgr because the remote scanner is not connected.</p>

<pre class="prettyprint"><code>    
    &lt;?xml version="1.0" encoding="UTF-8"?&gt;
    &lt;wap-provisioningdoc&gt;
    &lt;characteristic type="status"&gt;
    &lt;parm name="code" value="6"/&gt;
    &lt;parm name="description" value="Review the XML for details"/&gt;
    &lt;characteristic type="extended\_status"&gt;
    &lt;parm name="code" value="0"/&gt;
    &lt;parm name="description" value=""/&gt;
    &lt;/characteristic&gt;
    &lt;/characteristic&gt;
    &lt;characteristic-error type="RemoteScannerMgr" version="5.2" desc="No
    connection"&gt;
    &lt;parm name="Action" value="3"/&gt;
    &lt;parm name="SerialNumber" value=""/&gt;
    &lt;/characteristic-error&gt;
    &lt;characteristic-error type="AppMgr" version="5.1" desc="missing"&gt;
    &lt;parm-error name="Action" value="Install" desc="apk doesnot exist in
    the path"/&gt;
    &lt;parm name="APK" value="/sdcard/DemoApp.apk "/&gt;
    &lt;/characteristic-error&gt;
    &lt;/wap-provisioningdoc&gt;
</code></pre>

<h2 id="xmlwithcharacteristicerrorandparmerror" class="anchor"><a class="heading-anchor" href="#xmlwithcharacteristicerrorandparmerror"><span></span></a>XML with characteristic-error and parm-error</h2>

<p>In this example, the characteristic error was returned due to the remote
Bluetooth scanner is not connected to perform the action specified in
the RemoteScannerMgr.</p>

<p><strong>XML submitted</strong> - With incorrect or unsupported values</p>

<pre class="prettyprint"><code>    
    &lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;!--This is an auto
    generated document. Changes to this document may cause incorrect
    behavior.--&gt;&lt;wap-provisioningdoc&gt;
    &lt;characteristic type="ProfileInfo"&gt;
    &lt;parm name="created\_wizard\_version" value="5.0.1"/&gt;
    &lt;/characteristic&gt;
    &lt;characteristic type="Profile"&gt;
    &lt;parm name="ProfileName" value="MyProfile"/&gt;
    &lt;parm name="ModifiedDate" value="2016-09-08 10:13:05"/&gt;
    &lt;parm name="TargetSystemVersion" value="6.0"/&gt;
    &lt;characteristic type="RemotePrinterMgr" version="5.2"&gt;
    &lt;parm name="emdk\_name" value="ResetDefaultScanner"/&gt;
    &lt;parm name="Action" value="3"/&gt;
    &lt;parm name="SerialNumber" value=""/&gt;
    &lt;/characteristic&gt;
    &lt;characteristic type="AppMgr" version="5.1"&gt;
    &lt;parm name="emdk\_name" value="DemoInstallation"/&gt;
    &lt;parm name="Action" value="Incorrect"/&gt;
    &lt;parm name="APK" value="/sdcard/Test.apk"/&gt;
    &lt;/characteristic&gt;
    &lt;/characteristic&gt;
    &lt;/wap-provisioningdoc&gt;
</code></pre>

<p><strong>XML Response</strong> - String with characteristic-error in RemoteScannerMgr because the remote scanner is not connected.</p>

<pre class="prettyprint"><code>    
    &lt;?xml version="1.0" encoding="UTF-8"?&gt;
    &lt;wap-provisioningdoc&gt;
    &lt;characteristic type="status"&gt;
    &lt;parm name="code" value="6"/&gt;
    &lt;parm name="description" value="Review the XML for details"/&gt;
    &lt;characteristic type="extended\_status"&gt;
    &lt;parm name="code" value="0"/&gt;
    &lt;parm name="description" value=""/&gt;
    &lt;/characteristic&gt;
    &lt;/characteristic&gt;
    &lt;characteristic-error type="RemotePrinterMgr" version="5.2" desc="
    has not registered with MX Framework yet"&gt;
    &lt;parm name="Action" value="3"/&gt;
    &lt;/characteristic-error&gt;
    &lt;characteristic-error type="AppMgr" version="5.1"
    desc="unsupported"&gt;
    &lt;parm-error name="Action" value="Incorrect" desc="unsupported"/&gt;
    &lt;parm name="APK" value="/sdcard/Test.apk"/&gt;
    &lt;/characteristic-error&gt;
    &lt;/wap-provisioningdoc&gt;
</code></pre>

<h2 id="profilexmldatacapturefeatureonly" class="anchor"><a class="heading-anchor" href="#profilexmldatacapturefeatureonly"><span></span></a>Profile XML – DataCapture Feature Only</h2>

<p><strong>XML submitted</strong></p>

<pre class="prettyprint"><code>    
    &lt;?xml version="1.0" encoding="UTF-8"?&gt;
    &lt;!--This is an auto generated document. Changes to this document may
    cause incorrect behavior.--&gt;
    &lt;wap-provisioningdoc&gt;
    &lt;characteristic type="ProfileInfo"&gt;
    &lt;parm name="created\_wizard\_version" value="5.0.1"/&gt;
    &lt;/characteristic&gt;
    &lt;characteristic type="Profile"&gt;
    &lt;parm name="ProfileName" value="MyProfile"/&gt;
    &lt;parm name="ModifiedDate" value="2016-09-19 13:49:42"/&gt;
    &lt;parm name="TargetSystemVersion" value="6.0"/&gt;
    &lt;characteristic type="ActivitySelection" version="0.1"&gt;
    &lt;parm name="emdk\_name" value="MyAppSelection1"/&gt;
    &lt;characteristic type="Application"&gt;
    &lt;parm name="PrefixAppName" value="false"/&gt;
    &lt;parm name="package" value="com.symbol.test1"/&gt;
    &lt;characteristic type="Activities"&gt;
    &lt;parm name="activity" value="\*"/&gt;
    &lt;/characteristic&gt;
    &lt;/characteristic&gt;
    &lt;/characteristic&gt;
    &lt;/characteristic&gt;
    &lt;/wap-provisioningdoc&gt;
</code></pre>

<p><strong>XML Response</strong></p>

<p>If the data capture profile setting succeeds, the EMDKResults.statusCode
will return status code as SUCCESS and EMDKResults.getStatusString()
will have the response XML string as shown in response XML below.</p>

<pre class="prettyprint"><code>    
    &lt;?xml version="1.0" encoding="UTF-8"?&gt;
    &lt;wap-provisioningdoc&gt;
    &lt;characteristic type="status"&gt;
    &lt;parm name="code" value="0"/&gt;
    &lt;parm name="description" value="Success"/&gt;
    &lt;characteristic type="extended\_status"&gt;
    &lt;parm name="code" value="0"/&gt;
    &lt;parm name="description" value=""/&gt;
    &lt;/characteristic&gt;
    &lt;/characteristic&gt;
    &lt;characteristic type="DataCapture"&gt;
    &lt;parm name="code" value="0"/&gt;
    &lt;parm name="description" value="Success"/&gt;
    &lt;/characteristic&gt;
    &lt;/wap-provisioningdoc&gt;
</code></pre>

<h2 id="profilexmldatacapturefeatureandnondatacapture" class="anchor"><a class="heading-anchor" href="#profilexmldatacapturefeatureandnondatacapture"><span></span></a>Profile XML – DataCapture Feature and Non DataCapture</h2>

<p><strong>XML submitted</strong></p>

<pre class="prettyprint"><code>    
    &lt;?xml version="1.0" encoding="UTF-8"?&gt;
    &lt;!--This is an auto generated document. Changes to this document may
    cause incorrect behavior.--&gt;
    &lt;wap-provisioningdoc&gt;
    &lt;characteristic type="ProfileInfo"&gt;
    &lt;parm name="created\_wizard\_version" value="5.0.1"/&gt;
    &lt;/characteristic&gt;
    &lt;characteristic type="Profile"&gt;
    &lt;parm name="ProfileName" value="MyProfile"/&gt;
    &lt;parm name="ModifiedDate" value="2016-09-19 13:59:56"/&gt;
    &lt;parm name="TargetSystemVersion" value="6.0"/&gt;
    &lt;characteristic type="ActivitySelection" version="0.1"&gt;
    &lt;parm name="emdk\_name" value="MyAppSelection1"/&gt;
    &lt;characteristic type="Application"&gt;
    &lt;parm name="PrefixAppName" value="false"/&gt;
    &lt;parm name="package" value="com.symbol.test1"/&gt;
    &lt;characteristic type="Activities"&gt;
    &lt;parm name="activity" value="\*"/&gt;
    &lt;/characteristic&gt;
    &lt;/characteristic&gt;
    &lt;/characteristic&gt;
    &lt;characteristic type="AppMgr" version="5.1"&gt;
    &lt;parm name="emdk\_name" value="DemoInstallation"/&gt;
    &lt;parm name="Action" value="Install"/&gt;
    &lt;parm name="APK" value="Test.apk"/&gt;
    &lt;/characteristic&gt;
    &lt;/characteristic&gt;
    &lt;/wap-provisioningdoc&gt;
</code></pre>

<p><strong>XML Response</strong></p>

<p>The EMDKResults.statusCode will return status code as CHECK_XML and
EMDKResults.getStatusString() will have the response XML string as shown
in XML response below.</p>

<pre class="prettyprint"><code>    
    &lt;?xml version="1.0" encoding="UTF-8"?&gt;
    &lt;wap-provisioningdoc&gt;
    &lt;characteristic type="status"&gt;
    &lt;parm name="code" value="6"/&gt;
    &lt;parm name="description" value="Review the XML for details"/&gt;
    &lt;characteristic type="extended\_status"&gt;
    &lt;parm name="code" value="0"/&gt;
    &lt;parm name="description" value=""/&gt;
    &lt;/characteristic&gt;
    &lt;/characteristic&gt;
    &lt;characteristic type="DataCapture"&gt;
    &lt;parm name="code" value="0"/&gt;
    &lt;parm name="description" value="Success"/&gt;
    &lt;/characteristic&gt;
    &lt;characteristic-error type="AppMgr" version="5.1" desc="missing"&gt;
    &lt;parm-error name="Action" value="Install" desc="apk doesnot exist in
    the path"/&gt;
    &lt;parm name="APK" value="Test.apk"/&gt;
    &lt;/characteristic-error&gt;
    &lt;/wap-provisioningdoc&gt;
</code></pre>

<h2 id="samplecodeforparsingresponsexml" class="anchor"><a class="heading-anchor" href="#samplecodeforparsingresponsexml"><span></span></a>Sample Code for Parsing Response XML</h2>

<p>Parsing the Response XML will require the use of a XML Parser library,
in this example we will use org.xmlpull.v1.XmlPullParser. XmlPullParser
will allow us to quickly iterate over each START_TAG in the XML
response looking for Parm and Characteristic errors.</p>

<p><strong>Characteristic-Error</strong>&nbsp;- A Characteristic-Error is an element that appears
in a Result XML document that is used to indicate a failure when
processing a corresponding characteristic in a Request XML document.</p>

<p><strong>Parm-Error</strong>&nbsp;- A Parm-Error is an element that appears in a Result XML
document that is used to indicate a failure when processing a
corresponding parm in a Request XML document.</p>

<ol>
<li><p>First import the XML parsing library</p>

<pre class="prettyprint"><code>
import org.xmlpull.v1.XmlPullParser;
import org.xmlpull.v1.XmlPullParserException;
</code></pre></li>

<li><p>Next we will get a string representation of the XML Response, Then
instantiate a new XMLPullParser object, and set its input to the the
XML Response String object.</p>

<pre class="prettyprint"><code>
String xmlResponse = results.getStatusString();
XmlPullParser parser = Xml.newPullParser();
parser.setInput(new StringReader(xmlResponse));
</code></pre></li>

<li><p>Finally we will use XmlPullParser events to iterate over the XML
Response nodes searching for parm and characteristic errors. In this
example, I simply log the errors for later review. You will need to
add custom error handling to each of the if blocks inside the
START_TAG case if logging is not sufficient.</p>

<pre class="prettyprint"><code>
try {
    int event;
    try {
        event = parser.getEventType();
        while (event != XmlPullParser.END\_DOCUMENT) {
        String name = parser.getName();
        switch (event) {
        case XmlPullParser.START\_TAG:
        if (name.equals("parm-error")) {
        parmName = parser.getAttributeValue(null, "name");
        errorDescription = parser.getAttributeValue(null,
        "desc");
        Log.d(TAG," (Name: " + parmName + ", Error
        Description: " + errorDescription + ")");
        return;
        }
        if (name.equals("characteristic-error")) {
        errorType = parser.getAttributeValue(null, "type");
        errorDescription = parser.getAttributeValue(null,
        "desc");
        Log.d(TAG," (Type: " + errorType + ", Error
        Description: " + errorDescription + ")");
        return;
        }
        break;
        case XmlPullParser.END\_TAG:
        break;
        }
        event = parser.next();
        }
    } catch (Exception e) {
        e.printStackTrace();
    }
} catch (XmlPullParserException e) {
e.printStackTrace();
}
} else {
*//Profile processed sucessfully*
}
}
</code></pre></li>
</ol>

<h2 id="namevaluepair" class="anchor"><a class="heading-anchor" href="#namevaluepair"><span></span></a>Name-Value Pair</h2>

<p>ProcessProfile() and processProfileAsync() allow one to submit a String Array containing Name=Value Pairs that can be used to replace Name=Value Pairs in a specified Profile before installing and activating that profile. The following guide explains the use of Name=Value Pair replacement and a utility method to help create Name=Value pairs.</p>

<h2 id="stringarrayextradataasnamevaluepairarray" class="anchor"><a class="heading-anchor" href="#stringarrayextradataasnamevaluepairarray"><span></span></a>String Array ( extraData )as Name-Value Pair Array</h2>

<h3 id="methodsignature" class="anchor"><a class="heading-anchor" href="#methodsignature"><span></span></a>Method Signature</h3>

<pre class="prettyprint"><code>
processProfile(String profileName,
               ProfileManager.PROFILE_FLAG profileFlag,
               String[] extraData);
</code></pre>

<h3 id="profilename" class="anchor"><a class="heading-anchor" href="#profilename"><span></span></a>profileName</h3>

<p>The profileName argument, can be used to specify the entire profile or a named section of XML Profile.</p>

<ul>
<li>To Specify the entire profile, pass the value of the "ProfileName" parm as the profileName argument.</li>

<li>To Specify a section of a profile, build and pass a String containing the top level "ProfileName", the featureType of the section, and the emdk_name of the section all separated by forward slashes.
<strong>[profileName]/[featureType]/[feature Name]</strong></li>
</ul>

<blockquote>
  <p>For example, if my profile is called ‘EmdkSampleProfile-1’ and the name I gave to the Clock feature is 'clock1'. Passing 'profileName' as ' EmdkSampleProfile-1/Clock/clock1’ will just process this part of the profile.</p>
</blockquote>

<h3 id="featuretype" class="anchor"><a class="heading-anchor" href="#featuretype"><span></span></a>featureType</h3>

<p>Valid FeatureTypes:</p>

<ul>
<li>ActivitySelection</li>

<li>Barcode</li>

<li>MSR</li>

<li>Intent</li>

<li>Keystroke</li>

<li>IP</li>

<li>Clock</li>

<li>PowerMgr</li>

<li>PersistMgr</li>

<li>CertMgr</li>

<li>AppMgr</li>

<li>AccessMgr</li>

<li>Wi-Fi</li>

<li>GprsMgr</li>
</ul>

<h3 id="profileflag" class="anchor"><a class="heading-anchor" href="#profileflag"><span></span></a>profileFlag</h3>

<p>The profileFlag should be ProfileManager.PROFILE_FLAG.SET.</p>

<h3 id="extradata" class="anchor"><a class="heading-anchor" href="#extradata"><span></span></a>extraData</h3>

<p>ExtraData should be an array of Strings. Each string element should be <code>&lt;Feature_Name&gt;.&lt;Param_name&gt;=&lt;param_value&gt;</code> format. For example "bc1.decoder_upce0=true". The Feature_Name can be from multiple features.</p>

<h2 id="exampleusage" class="anchor"><a class="heading-anchor" href="#exampleusage"><span></span></a>Example Usage</h2>

<pre class="prettyprint"><code>
//EMDKConfig.xml
&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;wap-provisioningdoc&gt;
&lt;characteristic type="ProfileInfo"&gt;
&lt;parm name="created_wizard_version" value="3.0.2"/&gt;
&lt;/characteristic&gt;
&lt;characteristic type="Profile"&gt;
&lt;parm name="ProfileName" value="ClockProfile-1"/&gt;
&lt;parm name="ModifiedDate" value="2015-03-16 09:14:43"/&gt;
&lt;characteristic type="Clock" version="4.2"&gt;
&lt;parm name="emdk_name" value="Clk01"/&gt;
&lt;parm name="AutoTime" value="false"/&gt;
&lt;parm name="TimeZone" value="GMT+05:30"/&gt;
&lt;parm name="Date" value="2001-01-01"/&gt;
&lt;parm name="Time" value="01:01:01"/&gt;
&lt;/characteristic&gt;
&lt;characteristic type="Clock" version="4.2"&gt;
&lt;parm name="emdk_name" value="Clk02"/&gt;
&lt;parm name="AutoTime" value="false"/&gt;
&lt;parm name="TimeZone" value="GMT+05:30"/&gt;
&lt;parm name="Date" value="2002-02-02"/&gt;
&lt;parm name="Time" value="02:02:02"/&gt;
&lt;/characteristic&gt;
&lt;characteristic type="Clock" version="4.2"&gt;
&lt;parm name="emdk_name" value="Clk03"/&gt;
&lt;parm name="AutoTime" value="false"/&gt;
&lt;parm name="TimeZone" value="GMT+05:30"/&gt;
&lt;parm name="Date" value="2003-03-03"/&gt;
&lt;parm name="Time" value="03:03:03"/&gt;
&lt;/characteristic&gt;
&lt;/characteristic&gt;
&lt;/wap-provisioningdoc&gt;


//example.java
String[] extraData = new String[2];
extraData[0]        = "Clk01.Date=2014-10-10"
extraData[1]        = "Clk02.Time=10:10:10"
profileName     = ClockProfile-1/Clock/Clk01
EMDKResults result = mProfileManager.processProfile(
profileName, 
ProfileManager.PROFILE_FLAG.SET, extraData);
</code></pre>

<p>In above example the profileName is given as ClockProfile-1/Clock/Clk01. The ClockProfile-1 is the profileName in XML. Clock is the feature Type and Clk01 is the feature Name. The feature name also referred as emdk_name.</p>

<h2 id="namevaluepairutilityfunction" class="anchor"><a class="heading-anchor" href="#namevaluepairutilityfunction"><span></span></a>Name Value Pair Utility Function</h2>

<h3 id="createnamevaluepair" class="anchor"><a class="heading-anchor" href="#createnamevaluepair"><span></span></a>CreateNameValuePair</h3>

<p>CreateNameValuePair is a static function of the ProfileManager class. This function creates a name value pair string according to the format that is compatible with com.symbol.emdk.ProfileManager.processProfile(String, * PROFILE_FLAG, String[]) function. </p>

<pre class="prettyprint"><code>
/**
 * This function creates a name value pair string according to the format 
 * that is compatible with 
 * com.symbol.emdk.ProfileManager.processProfile(String, 
 * PROFILE_FLAG, String[]) function.
 * @param emdk_name - emdk name String  
 * @param param_name - Parameter name String
 * @param param_value - Parameter value String
 * @return - Name value pair string.
 */
String CreateNameValuePair(String emdk_name, String param_name, String param_value)

//This function returns the String in &lt;emdk_name&gt;.&lt;param_name&gt;=&lt;param_value&gt; format.
//For instance, "clock1.date=2014-10-10";
</code></pre><p></p>
                                        


                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                </div><!--/.col-sm-6-->
            </div>
            </section>
        </div>
    </section>    

<div class="modal fade" id="basicModal" tabindex="-1" role="dialog" aria-labelledby="basicModal" aria-hidden="true" data-backdrop="true">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal" aria-hidden="true">X</button>
					</div>
					<div class="modal-body">
						<div id="modalImg">
						
						</div>
					</div>
			</div>
		  </div>
		</div> </div>
         <footer id="footer" class="navbar-fixed-bottom">
            <div class="container-fluid">
                <div class="row">
                    <div class="col-sm-10">
                        © 2015 ZIH Corp and/or its affiliates. All rights reserved. Zebra and the stylized Zebra head are trademarks of ZIH Corp., registered in many jurisdictions worldwide. All other trademarks are the property of their respective owners. <a href="https://www.zebra.com/us/en/about-zebra/company-information/compliance/information-privacy/terms-of-use.html">Terms &amp; Conditions</a>
                    </div>
                    <div class="col-sm-2">
                        <ul class="social-icons">
                            <li><a href="http://www.facebook.com/pages/Zebra-Technologies/107703715989073"><i class="fa fa-facebook"></i></a></li>
                            <li><a href="https://twitter.com/ZebraDevs"><i class="fa fa-twitter"></i></a></li>
                            <li><a href="http://www.youtube.com/zebratechnologies/"><i class="fa fa-youtube"></i></a></li>
                            <li><a href="https://www.linkedin.com/groups?home=&amp;gid=3220074&amp;trk=anet_ug_hm&amp;goback=%2Egmr_3220074"><i class="fa fa-linkedin"></i></a></li>
                            <li><a href="https://github.com/developer-zebra"><i class="fa fa-github"></i></a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </footer><!--/#footer-->
    <script src="/js/bootstrap.min.js"></script>
    <script src="/js/owl.carousel.min.js"></script>
    <script src="/js/mousescroll.js"></script>
    <script src="/js/smoothscroll.js"></script>
    <script src="/js/jquery.prettyPhoto.js"></script>
    <script src="/js/jquery.isotope.min.js"></script>
    <script src="/js/jquery.inview.min.js"></script>
    <script src="/js/wow.min.js"></script>
    <script src="/js/bootstrap-treenav.min.js"></script>
    <script src="/js/prettify.js"></script>
    <script src="/js/zepto.js"></script>
    <script src="/js/jquery.waterfall.js"></script>   
    <script src="/js/main.js"></script>

<script type="text/javascript">
  (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
  (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
  e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
  })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

  _st('install','zRzEsAUhWTTkrdEN2YfA','2.0.0');
</script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-72584442-1', 'auto');
  ga('send', 'pageview');

</script> 

<script>
    ChatraID = 'QDvZ76min4DhLW5vJ';
    (function(d, w, c) {
        var n = d.getElementsByTagName('script')[0],
            s = d.createElement('script');
        w[c] = w[c] || function() {
            (w[c].q = w[c].q || []).push(arguments);
        };
        s.async = true;
        s.src = (d.location.protocol === 'https:' ? 'https:': 'http:')
            + '//call.chatra.io/chatra.js';
        n.parentNode.insertBefore(s, n);
    })(document, window, 'Chatra');
</script>         


</body></html>