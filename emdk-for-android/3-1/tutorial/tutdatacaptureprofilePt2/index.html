
<!DOCTYPE html>
<html lang="en"><head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Online Documentation for Zebra Technologies developer tools and utiltiescomp including EMDK for Android, EMDK for Xamarin, StageNow, Enterprise Browser.">
    <meta name="author" content="Zebra Technologies">
    <meta name="google-site-verification" content="i4B78BrWnNy8ShJwe5feRW3jO3HE6gfYlYqYbxfl8yY">
    <meta name="msvalidate.01" content="6B651B00161BCE79B8950AC09D5C4C75">
    <meta title="Using Intent Output With DataCapture Profiles">
    <title>Using Intent Output With DataCapture Profiles - Zebra Technologies Techdocs</title>
    <!-- core CSS -->
    <link href="/css/bootstrap.min.css" rel="stylesheet">
    <link href="/css/font-awesome.min.css" rel="stylesheet">
    <link href="/css/animate.min.css" rel="stylesheet">
    <link href="/css/owl.carousel.css" rel="stylesheet">
    <link href="/css/owl.transitions.css" rel="stylesheet">
    <link href="/css/prettyPhoto.css" rel="stylesheet">
    <link href="/css/main.css" rel="stylesheet">
    <link href="/css/responsive.css" rel="stylesheet">
    <link href="/css/prettify.css" rel="stylesheet">
    <link href="/css/bootstrap-treenav.min.css" rel="stylesheet">
    <!--[if lt IE 9]>
    <script src="js/html5shiv.js"></script>
    <script src="js/respond.min.js"></script>
    <![endif]--> 

    <script src="//load.sumome.com/" data-sumo-site-id="699cb66cf4dc59352efb45705526d15cbe314e1cd43f7761b94d96f3cf7338e8" async="async"></script>
    <script type="text/javascript">
(function(e, t) {
    function r(e, t) {
        e[t] = function() {
            e.push([ t ].concat(Array.prototype.slice.call(arguments, 0)));
        };
    }
    var n = "JacoRecorder";
    (function(e, t, i, s) {
        if (!i.__VERSION) {
            e[n] = i;
            var o = [ "init", "identify", "startRecording", "stopRecording", "removeUserTracking", "setUserInfo" ];
            for (var u = 0; u < o.length; u++) r(i, o[u]);
            i.__VERSION = .9, i.__INIT_TIME = 1 * new Date;
            var a = t.createElement("script");
            a.async = !0, a.setAttribute("crossorigin", "anonymous"), a.src = s;
            var f = t.getElementsByTagName("head")[0];
            f.appendChild(a);
        }
    })(e, t, e[n] || [], "//recorder-assets.getjaco.com/recorder.js");
}).call(window, window, document), window.JacoRecorder.push([ "init", "0e8738ef-44eb-4eed-8d47-e564ec9b5587", {} ]);
</script>
    <link rel="shortcut icon" href="/favicon.ico">
<script src="/js/jquery.js"></script></head><!--/head-->


<body id="home" class="homepage" data-spy="scroll" data-offset="100" data-target="#toc">

    <header id="header">
        <nav id="main-menu" class="navbar navbar-default navbar-fixed-top" role="banner">
            <div class="container-fluid">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="/"><img src="/images/logo.png" alt="logo" style="max-height:42px;float: inherit;
    padding-right: 3px;"></a> 
                    
                   
                </div>
                <div class="collapse navbar-collapse navbar-left">
                    <ul class="nav navbar-nav">
                        <li class="navbar-text pull-left"><strong>TechDocs</strong></li>
                        <p class="navbar-text">
                                            EMDK For Android
                                            2.3
                        </p>

                    </ul>
                </div>
                <div class="collapse navbar-collapse navbar-right">
                    <ul class="nav navbar-nav">
                        


                        <li>
                            <a href="/emdk-for-android/3-1/guide/about">
                                    Home
                            </a>
                        </li>
                        <li>
                            <a href="/emdk-for-android/3-1/guide/gettingstarted">
                                    Getting Started
                            </a>
                        </li>
                        <li>
                            <a href="/emdk-for-android/3-1/tutorial/">
                                    Tutorials
                            </a>
                        </li>
                        <li>
                            <a href="/emdk-for-android/3-1/samples">
                                    Samples
                            </a>
                        </li>
                        <li>
                            <a href="/emdk-for-android/3-1/guide/programming-guides">
                                    Guides
                            </a>
                        </li>
                        <li>
                            <a href="/emdk-for-android/3-1/guide/profile-manager-guides">
                                    Profile Manager
                            </a>
                        </li>
                        <li>
                            <a href="/emdk-for-android/3-1/api">
                                    APIs
                            </a>
                        </li>
                        <!-- <li ><a href="/products">SDKs</a></li>
                        <li ><a href="/samples">Samples</a></li>
                        <li ><a href="/guides">Guides</a></li>
                        <li ><a href="/tutorials">Tutorials</a></li>
                        <li ><a href="/apis">APIs</a></li> -->
                        <!-- <li><a href="#"><input type="text" class="st-default-search-input"></a></li> -->
                    </ul>
                </div>
            </div><!--/.container-->
        </nav><!--/nav-->
    </header><!--/header-->
<div class="container-fluid">
    <section id="blog">
        <div class="">
            <section class="content-with-sidebar">
            <div class="row">
                <div class="col-sm-3 hidden-sm hidden-xs" id="sidebar">
                    
                    
                    <nav id="toc" data-toggle="toc" data-spy="affix" style="height: 75%; max-width: 225px; overflow-y: auto; ">
                        
                        <ul class="nav">
                            <li><strong>Using Intent Output With DataCapture Profiles</strong></li>
                        </ul>
                    </nav>
                    <div class="modal fade" id="modal-smartdocs" tabindex="-1" role="dialog" aria-labelledby="basicModal" aria-hidden="true" data-backdrop="true">
                    	<div class="modal-dialog">
                    		<div class="modal-content">
                    			<div class="modal-header">
                    				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">X</button>
                    			</div>
                    			<div class="modal-body">
                    				<form>
                    				  <div class="form-group">
                    				    <label for="exampleInputEmail1">MX Version On Device:</label>
                    				    <select class="form-control">
                    					  <option value="4.0">4.0</option>
                    					  <option value="4.1">4.1</option>
                    					  <option value="4.2">4.2</option>
                    					  <option value="4.3">4.3</option>
                    					  <option value="5.0">5.0</option>
                    					</select>
                    				  </div>						
                    				  <div class="form-group">
                    				    <label for="exampleInputEmail1">OSX Version On Device:</label>
                    				    <select class="form-control">
                    					  <option value="1.0">1.0</option>
                    					  <option value="1.2">1.2</option>
                    					  <option value="1.3.4-56">1.3.4-56</option>
                    					  <option value="3.4">3.4</option>
                    					  <option value="3.5">3.5</option>
                    					  <option value="3.6">3.6</option>
                    					  <option value="4.1">4.1</option>
                    					  <option value="4.2">4.2</option>
                    					  <option value="4.3">4.3</option>
                    					  <option value="4.4">4.4</option>
                    					</select>
                    				  </div>						
                    				  <div class="form-group">
                    				    <label for="exampleInputEmail1">Android Version On Device:</label>
                    				    <select class="form-control">
                    					  <option value="23">6.0 Marshmallow</option>
                    					  <option value="22">5.1 Lollipop</option>
                    					  <option value="21">5.0 Lollipop</option>
                    					  <option value="19">4.4 Kitkat</option>
                    					  <option value="18">4.3 Jellybean</option>
                    					  <option value="17">4.2.x Jellybean</option>
                    					  <option value="16">4.1.x Jellybean</option>
                    					  <option value="15">4.0.3-4.0.4 Ice Cream Sandwich</option>
                    					  <option value="14">4.0-4.0.2 Ice Cream Sandwich</option>
                    					  <option value="10">2.3.3-2.3.4 Gingerbread</option>
                    					</select>
                    				  </div>
                    				  <div class="form-group">
                    				  	<button class="primary" id="btn_SaveSmartDocOptions">Save Changes</button><button class="primary" id="btn_ClearSmartDocOptions">Clear Changes</button>
                    				  </div>
                    				</form>
                    			</div>
                    	</div>
                      </div>
                    </div>
                    
                    <script type="text/javascript">
                        $(document).ready(function() {
                        	$( "#btn_SaveSmartDocOptions" ).click(function() {
                      			console.log('Saving Options');
                      			$("#modal-smartdocs").modal({show: false});
                    		});
                        	$( "#btn_SaveSmartDocOptions" ).click(function() {
                      			console.log('Clearing Options');
                      			$("#modal-smartdocs").modal({show: false});
                    		});
                        });
                    </script><link rel="stylesheet" href="https://cdn.rawgit.com/afeld/bootstrap-toc/v0.3.0/dist/bootstrap-toc.min.css">
                    <script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v0.3.0/dist/bootstrap-toc.min.js"></script>
                    <script type="text/javascript">
                        $(document).ready(function() {
                    
                        });
                    
                    
                    </script>
                </div>                
                <div class="col-sm-9 ">
                    <div class="row">
                        <div class="col-sm-12">
                            <section id="cta" class="wow fadeIn">
                                <div class="">
                                    <h1 id="using-intent-output-with-datacapture-profiles" class="anchor"><a class="heading-anchor" href="#using-intent-output-with-datacapture-profiles"><span></span></a>Using Intent Output With DataCapture Profiles</h1>
                                    <p>
                                        EMDK For Android
                                        2.3
                                    </p>
                                </div>
                            </section>                    
                        </div>
                    </div>
                    <div id="mainContent" class="row">
                        <div class="col-sm-12">
                            <div class="blog-post blog-large wow fadeInLeft" data-wow-duration="300ms" data-wow-delay="0ms">
                            <!-- Start of guide -->
                                <div class="service-box wow fadeInRight">
                                    <div class="">

                                        <p></p><h2 id="developinganemdkforandroidapplicationpart2" class="anchor"><a class="heading-anchor" href="#developinganemdkforandroidapplicationpart2"><span></span></a>Developing an EMDK for Android Application Part 2</h2>

<p>This tutorial will walk you through adding <a href="../../mx/data-capture/intent">Intent Output</a> support to the EMDK For Android application you made using <a href="../tutdatacaptureprofile">Developing an EMDK for Android Application Part 1</a>. This tutorial will assume your project is at the state of the end of that tutorial and build on top of it. You can follow the tutorial in the previous step of download the source from the previous step and start from there.</p>

<p>The tutorial uses EMDK V 2.1 that has organized existing features as well as got some new features that would be discussed later in the tutorial.</p>

<h3 id="prerequisites" class="anchor"><a class="heading-anchor" href="#prerequisites"><span></span></a>Prerequisites</h3>

<ul>
<li>Java Development Kit (JDK)</li>

<li>Android Developer Tools (ADT) (<a href="http://developer.android.com/sdk/index.html">Android Studio</a>/<a href="http://developer.android.com/tools/sdk/eclipse-adt.html">Eclipse with ADT</a>)</li>

<li>EMDK for Android </li>

<li>Completion of <a href="../tutdatacaptureprofile">Developing an EMDK for Android Application Part 1</a></li>
</ul>

<p>For more information about setting up the EMDK please see the EMDK Overview.</p>

<h2 id="addingintentstothedatacaptureprofile" class="anchor"><a class="heading-anchor" href="#addingintentstothedatacaptureprofile"><span></span></a>Adding Intents to the DataCapture Profile</h2>

<ol>
<li><p>Select "EMDKSample" project from Package Explorer.    </p></li>

<li><p>Click "EMDK" menu present on the top-bar and select "Profile Manager" option.</p></li>

<li><p>The EMDK Profile Manager Window will appear.</p>

<p><img src="../../images/setup/image105.jpg" alt="img"></p></li>

<li><p>select "DataCaptureProfile" and click "Edit".</p></li>

<li><p>Select "Intent" from the list of "Available Features" and add it to "Selected Features" by clicking "Right Arrow".</p>

<blockquote>
  <p>Note: 
  The field "Name" contains user defined name to identify a particular Intent Output feature. This is required when editing any specific Intent Output feature programmatically, which is outside the scope of this tutorial. So we will keep the "Name" field empty.</p>
</blockquote>

<p><img src="../../images/setup/image106.jpg" alt="img"></p></li>

<li><p>Select "Intent" from the list of "Selected Features". </p></li>

<li><p>Now we will configure the "Intent" parameters.  </p>

<ul>
<li>Switch "Intent Output Enable" to Enable". </li>

<li>For "Intent Output Action" enter "com.symbol.emdksample.RECVR".</li>

<li>For "Intent Output Category" enter "android.intent.category.DEFAULT".</li>

<li>Switch "Intent Output Delivery" to "Send via startActivity".  </li>

<li>Switch "Basic data formatting Enable" to Enable". </li>

<li>Switch "Basic data formatting Send Data" to Enable".  </li></ul>

<p>Your Intent configuration should now look like this:</p>

<p><img src="../../images/setup/image107.jpg" alt="img">  </p></li>

<li><p>Click "Apply" and "Finish".</p>

<p><img src="../../images/setup/image105.jpg" alt="img"></p></li>

<li><p>Click "Close". <br>
&gt;Note: <br>
&gt;Now the "EMDKConfig.xml" under "\assets" folder will be updated with your changes.</p></li>
</ol>

<h2 id="addingtheintentfilter" class="anchor"><a class="heading-anchor" href="#addingtheintentfilter"><span></span></a>Adding the Intent Filter</h2>

<ol>
<li><p>Open your application's "Manifest.xml" file.</p>

<p><img src="../../images/setup/image211.jpg" alt="img"></p></li>

<li><p>Make the following changes to your application's"Manifest.xml" file.  </p>

<p>Add the following parameter to your activity settings to enable "singleTask" mode.</p>

<pre class="prettyprint"><code>
android:launchMode="singleTask"  
</code></pre>

<p>Add the following lines to receive EMDK Intents in your application: </p>

<pre class="prettyprint"><code>
&lt;intent-filter&gt;  
        &lt;action android:name="com.symbol.emdksample.RECVR"/&gt;  
        &lt;category android:name="android.intent.category.DEFAULT"/&gt;  
&lt;/intent-filter&gt;     
</code></pre>

<p>When done, your manifest.xml should look like this:</p>

<p><img src="../../images/setup/image108.jpg" alt="img">  </p>

<blockquote>
  <p>Note:  </p>
  
  <ul>
  <li>The intent action name should match the value of "Intent Output Action" in the EMDK Profile Manager. </li>
  
  <li>The intent category name should match the value of "Intent Output Category" in the EMDK Profile Manager.</li></ul>
</blockquote></li>
</ol>

<h2 id="addingtheintentcode" class="anchor"><a class="heading-anchor" href="#addingtheintentcode"><span></span></a>Adding the Intent code</h2>

<ol>
<li><p>Add the following imports to your program.</p>

<pre class="prettyprint"><code>
import android.content.Intent;  
import android.widget.TextView; 
</code></pre>

<p><img src="../../images/setup/image109.jpg" alt="img"></p></li>

<li><p>Add the following function to your program for processing intents. </p>

<pre class="prettyprint"><code>
//This function is responsible for getting the data from the intent  
private void handleDecodeData(Intent i)  
{  

}
</code></pre>

<p><img src="../../images/setup/image110.jpg" alt="img"></p></li>

<li><p>Add the following code to your "onCreate" function check for a possible intent; </p>

<pre class="prettyprint"><code>
//In case we have been launched by the DataWedge intent plug-in  
Intent i = getIntent();  
handleDecodeData(i); 
</code></pre>

<p><img src="../../images/setup/image112.jpg" alt="img"></p></li>

<li><p>Overide "onNewIntent" to handle incoming intents. </p>

<pre class="prettyprint"><code>
//We need to handle any incoming intents, so let override the onNewIntent method  
@Override  
public void onNewIntent(Intent i) {  
        handleDecodeData(i);  

} 
</code></pre>

<p><img src="../../images/setup/image111.jpg" alt="img"></p></li>

<li><p>Add a TextView in the UI called "textViewBarcode", inside "res/layout/activity_main.xml".</p>

<pre class="prettyprint"><code>
&lt;TextView  
        android:id="@+id/textViewBarcode"  
    android:layout_width="wrap_content"  
    android:layout_height="wrap_content"  
    android:layout_alignParentTop="true"  
    android:layout_centerHorizontal="true"  
    android:layout_marginTop="50dp"  
    android:text="@+string/hello_world"  
    android:textAppearance="?android:attr/textAppearanceMedium" /&gt;  
</code></pre>

<p><img src="../../images/setup/image113.jpg" alt="img"></p></li>

<li><p>Add a global variable for the TextView. </p>

<pre class="prettyprint"><code>
//Declare a variable to store the textViewBarcode  
private TextView textViewBarcode = null;
</code></pre>

<p><img src="../../images/setup/image114.jpg" alt="img"></p></li>

<li><p>Add the following code to your onCreate function to get a handle on the TextView.</p>

<pre class="prettyprint"><code>
//Get the textViewBarcode  
textViewBarcode = (TextView) findViewById(R.id.textViewBarcode); 
</code></pre>

<p><img src="../../images/setup/image115.jpg" alt="img"></p></li>

<li><p>Add the following code to your "handleDecodeData" function to confirm the intent was meant for us. </p>

<pre class="prettyprint"><code>
//Check the intent action is for us  
if (i.getAction().contentEquals("com.symbol.emdksample.RECVR") ) {  

} 
</code></pre>

<p><img src="../../images/setup/image116.jpg" alt="img">   </p></li>

<li><p>Add the following code to your "handleDecodeData" function to check if the intent contains Barcode data.  </p>

<pre class="prettyprint"><code>
//Get the source of the data  
String source = i.getStringExtra("com.motorolasolutions.emdk.datawedge.source");  

//Check if the data has come from the Barcode scanner  
if(source.equalsIgnoreCase("scanner"))  
{  

}
</code></pre>

<p><img src="../../images/setup/image117.jpg" alt="img"></p></li>

<li><p>Add the following code to your "handleDecodeData" function to retrieve Barcode data.  </p>

<pre class="prettyprint"><code>
//Get the data from the intent  
String data = i.getStringExtra("com.motorolasolutions.emdk.datawedge.data_string");  

//Check that we have received data  
if(data != null &amp;&amp; data.length() &gt; 0)  
{  

} 
</code></pre>

<p><img src="../../images/setup/image118.jpg" alt="img"></p></li>

<li><p>Add the following code to your "handleDecodeData" function to populate the TextView with the revived Barcode data.</p>

<pre class="prettyprint"><code>
//Display the data to the text view  
textViewBarcode.setText("Data = " + data); 
</code></pre>

<p><img src="../../images/setup/image119.jpg" alt="img"></p></li>

<li><p>Connect the device (having the latest EMDK runtime) to USB port.</p>

<blockquote>
  <p>Note: <br>
  Make sure the device is in USB debug.</p>
</blockquote></li>

<li><p>Run the application.</p>

<p><img src="../../images/setup/image120.png" alt="img"></p></li>

<li><p>Press the trigger button and scan a Barcode.</p></li>

<li><p>The scanned data will be populated in the Edit Text field Through the previous Keystroke Intent and will appear on the Text View using the new Datawedge Intent.</p>

<p><img src="../../images/setup/image121.png" alt="img"> </p></li>
</ol>

<h2 id="whatsnext" class="anchor"><a class="heading-anchor" href="#whatsnext"><span></span></a>What's Next</h2>

<p>The <a href="../tutdatacaptureprofilePt3">next tutorial</a> will show you how to use multiple Data Capture Profiles that are handled by multiple activities.</p><p></p>
                                        


                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                </div><!--/.col-sm-6-->
            </div>
            </section>
        </div>
    </section>    

<div class="modal fade" id="basicModal" tabindex="-1" role="dialog" aria-labelledby="basicModal" aria-hidden="true" data-backdrop="true">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal" aria-hidden="true">X</button>
					</div>
					<div class="modal-body">
						<div id="modalImg">
						
						</div>
					</div>
			</div>
		  </div>
		</div> </div>
         <footer id="footer" class="navbar-fixed-bottom">
            <div class="container-fluid">
                <div class="row">
                    <div class="col-sm-10">
                        © 2015 ZIH Corp and/or its affiliates. All rights reserved. Zebra and the stylized Zebra head are trademarks of ZIH Corp., registered in many jurisdictions worldwide. All other trademarks are the property of their respective owners. <a href="https://www.zebra.com/us/en/about-zebra/company-information/compliance/information-privacy/terms-of-use.html">Terms &amp; Conditions</a>
                    </div>
                    <div class="col-sm-2">
                        <ul class="social-icons">
                            <li><a href="http://www.facebook.com/pages/Zebra-Technologies/107703715989073"><i class="fa fa-facebook"></i></a></li>
                            <li><a href="https://twitter.com/ZebraDevs"><i class="fa fa-twitter"></i></a></li>
                            <li><a href="http://www.youtube.com/zebratechnologies/"><i class="fa fa-youtube"></i></a></li>
                            <li><a href="https://www.linkedin.com/groups?home=&amp;gid=3220074&amp;trk=anet_ug_hm&amp;goback=%2Egmr_3220074"><i class="fa fa-linkedin"></i></a></li>
                            <li><a href="https://github.com/developer-zebra"><i class="fa fa-github"></i></a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </footer><!--/#footer-->
    <script src="/js/bootstrap.min.js"></script>
    <script src="/js/owl.carousel.min.js"></script>
    <script src="/js/mousescroll.js"></script>
    <script src="/js/smoothscroll.js"></script>
    <script src="/js/jquery.prettyPhoto.js"></script>
    <script src="/js/jquery.isotope.min.js"></script>
    <script src="/js/jquery.inview.min.js"></script>
    <script src="/js/wow.min.js"></script>
    <script src="/js/bootstrap-treenav.min.js"></script>
    <script src="/js/prettify.js"></script>
    <script src="/js/zepto.js"></script>
    <script src="/js/jquery.waterfall.js"></script>   
    <script src="/js/main.js"></script>

<script type="text/javascript">
  (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
  (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
  e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
  })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

  _st('install','zRzEsAUhWTTkrdEN2YfA','2.0.0');
</script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-72584442-1', 'auto');
  ga('send', 'pageview');

</script> 

<script>
    ChatraID = 'QDvZ76min4DhLW5vJ';
    (function(d, w, c) {
        var n = d.getElementsByTagName('script')[0],
            s = d.createElement('script');
        w[c] = w[c] || function() {
            (w[c].q = w[c].q || []).push(arguments);
        };
        s.async = true;
        s.src = (d.location.protocol === 'https:' ? 'https:': 'http:')
            + '//call.chatra.io/chatra.js';
        n.parentNode.insertBefore(s, n);
    })(document, window, 'Chatra');
</script>         


</body></html>