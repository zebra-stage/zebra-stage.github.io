
<!DOCTYPE html>
<html lang="en"><head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Online Documentation for Zebra Technologies developer tools and utiltiescomp including EMDK for Android, EMDK for Xamarin, StageNow, Enterprise Browser.">
    <meta name="author" content="Zebra Technologies">
    <meta name="google-site-verification" content="i4B78BrWnNy8ShJwe5feRW3jO3HE6gfYlYqYbxfl8yY">
    <meta name="msvalidate.01" content="6B651B00161BCE79B8950AC09D5C4C75">
    <meta title="PassThruApduProcessor">
    <title>PassThruApduProcessor - Zebra Technologies Online Documentation</title>
    <!-- core CSS -->
    <link href="/css/bootstrap.min.css" rel="stylesheet">
    <link href="/css/font-awesome.min.css" rel="stylesheet">
    <link href="/css/animate.min.css" rel="stylesheet">
    <link href="/css/owl.carousel.css" rel="stylesheet">
    <link href="/css/owl.transitions.css" rel="stylesheet">
    <link href="/css/prettyPhoto.css" rel="stylesheet">
    <link href="/css/main.css" rel="stylesheet">
    <link href="/css/responsive.css" rel="stylesheet">
    <link href="/css/prettify.css" rel="stylesheet">
    <link href="/css/bootstrap-treenav.min.css" rel="stylesheet">
    <!--[if lt IE 9]>
    <script src="js/html5shiv.js"></script>
    <script src="js/respond.min.js"></script>
    <![endif]-->       
    <link rel="shortcut icon" href="/favicon.ico">
<script src="/js/jquery.js"></script></head><!--/head-->


<body id="home" class="homepage" data-spy="scroll" data-target="#toc">

    <header id="header">
        <nav id="main-menu" class="navbar navbar-default navbar-fixed-top" role="banner">
            <div class="container-fluid">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <span class="navbar-text"><a class="navbar-brand" href="/"><img src="/images/logo.png" alt="logo" style="max-height:42px;float: inherit;
    padding-right: 3px;"></a> <strong>Online Documentation</strong>
                    <p>
                                        EMDK For Android
                                        3.1
                    </p>
    </span>
                   
                </div>
                
                <div class="collapse navbar-collapse navbar-right">
                    <ul class="nav navbar-nav">
                        <li>
                            <a href="/emdk-for-android/3-1/guide/about">
                                    Home
                            </a>
                        </li>
                        <li>
                            <a href="">
                                    Getting Started
                            </a>
                        </li>
                        <li>
                            <a href="">
                                    Tutorials
                            </a>
                        </li>
                        <li>
                            <a href="/emdk-for-android/3-1/samples">
                                    Samples
                            </a>
                        </li>
                        <li>
                            <a href="">
                                    Programming Guides
                            </a>
                        </li>
                        <li>
                            <a href="">
                                    Profile Manager
                            </a>
                        </li>
                        <li>
                            <a href="/emdk-for-android/3-1/api">
                                    APIs
                            </a>
                        </li>
                        <li>
                            <a href="">
                                    Platform Intents
                            </a>
                        </li>
                        <!-- <li ><a href="/products">SDKs</a></li>
                        <li ><a href="/samples">Samples</a></li>
                        <li ><a href="/guides">Guides</a></li>
                        <li ><a href="/tutorials">Tutorials</a></li>
                        <li ><a href="/apis">APIs</a></li> -->
                        <!-- <li><a href="#"><input type="text" class="st-default-search-input"></a></li> -->
                    </ul>
                </div>
            </div><!--/.container-->
        </nav><!--/nav-->
    </header><!--/header-->
<div class="container-fluid">
    <section id="blog">
        <div class="">
            <section class="content-with-sidebar">
            <div class="row">
                <div class="col-sm-3 ">
                    <!-- <nav id="automenu"   >
                    
                    </nav> -->
                    <nav id="toc" data-spy="affix" data-toggle="toc">
                        <ul class="nav">
                            <li><strong>PassThruApduProcessor</strong></li>
                        </ul>
                    </nav>
                    <!-- <div class="row">
                        <nav class="col-xs-3 bs-docs-sidebar">
                            <ul id="sidebar" class="nav nav-stacked fixed">
                                <li>
                                    <a href="/emdk-for-android/3-1/guide/about">Home</a>
                                </li>
                                <li>
                                    <a href="">Getting Started</a>
                                    <ul class="nav nav-stacked">
                                        <li><a href="/emdk-for-android/download">Download</a></li>
                                        <li><a href="/emdk-for-android/3-1/guide/setup">EMDK For Android Setup</a></li>
                                        <li><a href="/emdk-for-android/3-1/guide/setupDevice">Configuring A Device</a></li>
                                        <li><a href="/emdk-for-android/3-1/tutorial/tutdatacaptureprofile">Build Hello EMDK</a></li>
                                        <li><a href="/emdk-for-android/3-1/guide/profiles/usingwizard">Using Profile Manager</a></li>
                                    </ul>
                                </li>
                                <li>
                                    <a href="">Tutorials</a>
                                    <ul class="nav nav-stacked">
                                        <li><a href="">Profile Manager</a></li>
                                        <li><a href="">Platform Intents</a></li>
                                        <li><a href="">Scanning APIs</a></li>
                                        <li><a href="/emdk-for-android/3-1/tutorial/tutScanAndPairAPI">ScanAndPair Remote Device</a></li>
                                        <li><a href="/emdk-for-android/3-1/tutorial/tutSimulScanAPI">Document Capture</a></li>
                                    </ul>
                                </li>
                                <li>
                                    <a href="/emdk-for-android/3-1/samples">Samples</a>
                                    <ul class="nav nav-stacked">
                                        <li><a href="/emdk-for-android/3-1/guide/emdksamples_androidstudio">Importing Samples(Android Studio)</a></li>
                                        <li><a href="/emdk-for-android/3-1/guide/emdksamples_eclipse">Importing Samples(Eclipse/ADT)</a></li>
                                        <li><a href="/emdk-for-android/3-1/samples/barcode">Barcode Sample</a></li>
                                        <li><a href="/emdk-for-android/3-1/samples/data-capture">DataCapture Profile Sample</a></li>
                                        <li><a href="/emdk-for-android/3-1/samples/app-manager">AppManager Sample</a></li>
                                        <li><a href="/emdk-for-android/3-1/samples/clock">Clock Sample</a></li>
                                        <li><a href="/emdk-for-android/3-1/samples/gprs">GPRS Manager Sample</a></li>
                                        <li><a href="/emdk-for-android/3-1/samples/power">PowerManager Sample</a></li>
                                        <li><a href="/emdk-for-android/3-1/samples/wifi">Wi-Fi Manager Sample</a></li>
                                        <li><a href="/emdk-for-android/3-1/samples/bluetooth">Wireless Manager Sample</a></li>
                                        <li><a href="/emdk-for-android/3-1/samples/scanandpair">Scan and Pair Sample</a></li>
                                        <li><a href="/emdk-for-android/3-1/samples/simulscan">SimulScan Sample</a></li>
                                        <li><a href="/emdk-for-android/3-1/samples/personal-shopper">PersonalShopper Sample</a></li>
                                    </ul>
                                </li>
                                <li>
                                    <a href="">Programming Guides</a>
                                    <ul class="nav nav-stacked">
                                        <li><a href="/emdk-for-android/3-1/guide/simulscan_guide">SimulScan API</a></li>
                                        <li><a href="/emdk-for-android/3-1/guide/name_value_pair">Name-Value Pair</a></li>
                                        <li><a href="/emdk-for-android/3-1/guide/personalshopper">PersonalShopper API</a></li>
                                        <li><a href="/emdk-for-android/3-1/guide/securenfc">Secure NFC API</a></li>
                                    </ul>
                                </li>
                                <li>
                                    <a href="">Profile Manager</a>
                                    <ul class="nav nav-stacked">
                                        <li><a href="/emdk-for-android/3-1/guide/profiles/usingwizard">Using Profile Manager</a></li>
                                        <li><a href="/emdk-for-android/3-1/guide/profiles/usingwizard/#emdkprofilefeatures">Profile Features</a></li>
                                    </ul>
                                </li>
                                <li>
                                    <a href="/emdk-for-android/3-1/api">APIs</a>
                                    <ul class="nav nav-stacked">
                                        <li><a href="/emdk-for-android/3-1/api/core">Core and ProfileManager APIs</a></li>
                                        <li><a href="/emdk-for-android/3-1/api/barcode">Barcode APIs</a></li>
                                        <li><a href="/emdk-for-android/3-1/api/scanandpair">ScanAndPair APIs</a></li>
                                        <li><a href="/emdk-for-android/3-1/api/simulscan">SimulScan APIs</a></li>
                                        <li><a href="/emdk-for-android/3-1/api/PersonalShopper">Personal Shopper APIs</a></li>
                                        <li><a href="/emdk-for-android/3-1/api/securenfc">Secure NFC APIs</a></li>
                                    </ul>
                                </li>
                                <li>
                                    <a href="">Platform Intents</a>
                                    <ul class="nav nav-stacked">
                                        <li><a href="/emdk-for-android/3-1/guide/reference/refdatacaptureintent">Datawedge Intents</a></li>
                                        <li><a href="/emdk-for-android/3-1/guide/reference/refbatteryintent">Battery Intent</a></li>
                                    </ul>
                                </li>
                            </ul>
                        </nav>
                    </div> -->
                    
                    <link rel="stylesheet" href="https://cdn.rawgit.com/afeld/bootstrap-toc/v0.3.0/dist/bootstrap-toc.min.css">
                    <script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v0.3.0/dist/bootstrap-toc.min.js"></script>
                    <script type="text/javascript">
                        // $(window).load(function() {
                        //     var pathname = window.location.pathname.slice(0, -1);
                        //     // console.log(pathname);
                        //     var menuitem = $('.sidebar-container').find('a[href^="' + pathname + '"]').first()[0];
                        //     var menulevel = $(menuitem).parents('ul').length;
                        //     // console.log(menuitem);
                        //     // console.log(menulevel);
                        //     var parentLI = $(menuitem).parent().parent().parent();
                        //     var itemarrow = parentLI.find('.arrow').first()[0];
                    
                        //     //now check for higher level
                        //     if(menulevel==3){
                    
                        //         var parentFirstLevel = $(parentLI).parent().parent().first()[0];
                        //         var parentarrow = $(parentFirstLevel).find('.arrow').first()[0];
                        //         parentarrow.click();
                        //     }
                    
                        //     if(menulevel>1){
                        //         itemarrow.click();
                    
                        //     }
                        //     $(menuitem).addClass('sidebar-selected');
                        //     $(menuitem).parent().append('<ul style="display:block" id="indoc"></ul>')
                        //     $('h2').each(function(index, value){
                        //           if($(this).attr('id')){
                        //             var anchor = "#" + $(this).attr('id');
                        //             var text = $(this).text();
                        //             var li = "<li><a href='" + anchor + "'>" + text + "</a>" ;
                        //             $('#indoc').append(li);               
                        //           }
                    
                                  
                        //     });
                        // });
                      var $myNav = $('#toc');
                      $('body').scrollspy({
                        target: $myNav
                      });
                        function affix() {
                            
                            // Fit affix width to its parent's width
                            var $affixElement = $('div[data-spy="affix"]');
                            $affixElement.width($affixElement.parent().width());
                     
                            // Position of vertical scrollbar 
                            var position = $(window).scrollTop();
                            if (position >= offset) {
                                $('.wrapper .section').each(function(i) {
                                    // Current content block's position less body padding
                                    var current = $(this).offset().top - offset - 1;
                                    
                                    // Add active class to corresponding affix menu while removing the same from siblings as per position) of current block
                                    if (current <= position) {
                                        $('a', $affixElement).eq(i).addClass('active').siblings().removeClass('active');
                                    }
                                });
                            } else {
                                $('a', $affixElement).find('.active').removeClass('active').end().find(":first").addClass('active');
                            }
                        };
                    
                        // $(window).on('scroll resize', function() {
                        //     affix();
                     
                        // });
                    
                    </script>
                </div>                
                <div class="col-sm-9 ">
                    <div class="row">
                        <div class="col-sm-12">
                            <section id="cta" class="wow fadeIn">
                                <div class="">
                                    <h1 id="passthruapduprocessor" class="anchor"><a class="heading-anchor" href="#passthruapduprocessor"><span></span></a>PassThruApduProcessor</h1>
                                    <p>
                                        EMDK For Android
                                        3.1
                                    </p>
                                </div>
                            </section>                    
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-12">
                            <div class="blog-post blog-large wow fadeInLeft" data-wow-duration="300ms" data-wow-delay="0ms">
                            <!-- Start of guide -->
                                <div class="service-box wow fadeInRight">
                                    <div class="">

                                        <p></p><p>This class is designed for the NFC applications to perform secure communication with the
 contact-less secure cards (tags) at the low level protocol. The audience of this class are 
 secure NFC application developers with good understanding and expertise of the secure technology 
 they use, including the cards (tags) and SAM documentation, features and protocol. </p>

<p>Note: 
 This is recommended only for the secure NFC application developers who are interested getting the full control
 of the APDU. Other can use the SecureNfcManager.getTagTechInstance which provides simple API to securely
 communicate with the Smart card/tags for the supported tag technologies.</p>

<p><strong>Example Usage:</strong></p>

<pre class="prettyprint"><code>


public class MainActivity extends Activity implements EMDKListener {

SecureNfcManager secureNfcManager;
EMDKManager emdkManager;
PassThruApduProcessor passThruApduProcessor;


protected void onCreate(Bundle savedInstanceState) {

EMDKResults results = EMDKManager.getEMDKManager(
getApplicationContext(), this);
}


public void onOpened(EMDKManager emdkManager) {

this.emdkManager = emdkManager;

this.secureNfcManager = (secureNfcManager) this.emdkManager
.getInstance(FEATURE_TYPE.SECURENFC);

if (this.secureNfcManager != null) {

if(secureNfcMgr!= null){

passThruApduProcessor = secureNfcMgr.getPassThruApduInstance();

try {
passThruApduProcessor.enable(ProtocolType.T1);

passThruApduProcessor.disable();

}catch (PassThruApduException e) {

e.printStackTrace();
}

}
}
}


public void onDestroy() {
if (this.emdkManager != null)
this.emdkManager.release();
}


public void onClosed() {
this.emdkManager.release();
}

}

}
</code></pre>

<h2 id="publicmethods" class="anchor"><a class="heading-anchor" href="#publicmethods"><span></span></a>Public Methods</h2>

<h3 id="enable" class="anchor"><a class="heading-anchor" href="#enable"><span></span></a>enable</h3>

<p><strong>public void enable(PassThruApduProcessor.ProtocolType protocolType)</strong></p>

<p>Enables connection between host device and Secure Access Module (SAM).</p>

<p><strong>Parameters:</strong></p>

<p>protocolType - Protocol to be used for communication between card reader
            (SAM) and contactless cards. This parameter is added for future use only.</p>

<p><strong>Returns:</strong></p>

<p>void</p>

<p><strong>Throws:</strong></p>

<p>com.symbol.emdk.securenfc.PassThruApduException</p>

<p>The exception will be thrown if it fails to enable the
             smartcard.</p>

<h3 id="disable" class="anchor"><a class="heading-anchor" href="#disable"><span></span></a>disable</h3>

<p><strong>public void disable()</strong></p>

<p>Closes already established connection between host device and SAM.</p>

<p><strong>Returns:</strong></p>

<p>void</p>

<p><strong>Throws:</strong></p>

<p>com.symbol.emdk.securenfc.PassThruApduException</p>

<p>The exception will be thrown if it fails to disable the
             smartcard.</p>

<h3 id="getversion" class="anchor"><a class="heading-anchor" href="#getversion"><span></span></a>getVersion</h3>

<p><strong>public String getVersion(PassThruApduProcessor.VersionType versionType)</strong></p>

<p>Retrieves version of smart card stack or connected smart card.</p>

<p><strong>Parameters:</strong></p>

<p>versionType</p>

<p><strong>Returns:</strong></p>

<p>java.lang.String</p>

<p><strong>Throws:</strong></p>

<p>com.symbol.emdk.securenfc.PassThruApduException</p>

<p>The exception will be thrown if it fails to retrieve version
             of smart card stack or connected smart card.</p>

<h3 id="process" class="anchor"><a class="heading-anchor" href="#process"><span></span></a>process</h3>

<p><strong>public byte process(byte cmdApdu, short expectedRespLength, boolean userFormattedProtocolFrame)</strong></p>

<p>Sends the Command APDU (C-APDU) (Application Protocol Data Unit) and
 receives Response APDU (R-APDU) from connected contactless smart cards.
 Application has to create C-APDU and send it to SAM using this API.
 Application should have process the R-APDU received from SAM.</p>

<p><strong>Note:</strong> This is a synchronous call and may block the main thread
 depending on the time process the command and its payload. The
 recommendation is not to be called from the main application thread.</p>

<p><strong>Parameters:</strong></p>

<p>cmdApdu - Command APDU (C-APDU) to be processed by smart card</p>

<p>expectedRespLength - Length of expected response. Pass this parameter as 0</p>

<p>userFormattedProtocolFrame - This parameter applicable for only T1 protocol. Typically user
            will provide this parameter as false. true: User provides
            frame header</p>

<p><strong>Returns:</strong></p>

<p>byte</p>

<p><strong>Throws:</strong></p>

<p>com.symbol.emdk.securenfc.PassThruApduException</p>

<p>The exception will be thrown if it fails to process the given
             APDU.</p>

<h2 id="publicenums" class="anchor"><a class="heading-anchor" href="#publicenums"><span></span></a>Public Enums</h2>

<h3 id="passthruapduprocessorversiontype" class="anchor"><a class="heading-anchor" href="#passthruapduprocessorversiontype"><span></span></a>PassThruApduProcessor.VersionType</h3>

<p>The enum to get the Smart Card stack and connected Smart Card versions.</p>

<p><strong>Values:</strong></p>

<ul>
<li><p><strong>SMART_CARD</strong> -The version of connected smart card and this version can be obtained
only after successful connection.</p></li>

<li><p><strong>SMART<em>CARD</em>STACK</strong> -Retrieves the version of the smart card stack.</p></li>
</ul>

<h3 id="passthruapduprocessorprotocoltype" class="anchor"><a class="heading-anchor" href="#passthruapduprocessorprotocoltype"><span></span></a>PassThruApduProcessor.ProtocolType</h3>

<p>Communication protocol between a SAM and tag.
 The protocolType is added for future use only.
 This parameter does not have effect on protocol used by device to communicate with SAM. 
 TDA8029 smart card reader uses either T=0 or T=1 depending on protocol supported by the connected SAM. 
 User can provide it as either SC<em>PROTOCOL</em>T0 or SC<em>PROTOCOL</em>T1.Communication protocol (i.e. T=0 or T=1) 
 between TDA8029 (Smart card reader chip) and SAM is always decided by TDA8029 as per protocol supported 
 by the connected SAM. Thus if SAM supports only T=0 protocol then TDA8029 will set communication mode as T=0, 
 else if SAM supports only T=1 protocol then TDA8029 will set communication mode as T=1.</p>

<p><strong>Values:</strong></p>

<ul>
<li><p><strong>T0</strong> -T-0 byte-oriented half duplex transmission protocol</p></li>

<li><p><strong>T1</strong> -T-1 block-oriented half duplex transmission protocol</p></li>
</ul><p></p>
                                        <div>    <footer id="footer" class="navbar-fixed-bottom">
        <div class="container-fluid">
            <div class="row">
                <div class="col-sm-10">
                    Â© 2015 ZIH Corp and/or its affiliates. All rights reserved. Zebra and the stylized Zebra head are trademarks of ZIH Corp., registered in many jurisdictions worldwide. All other trademarks are the property of their respective owners. <a href="https://www.zebra.com/us/en/about-zebra/company-information/compliance/information-privacy/terms-of-use.html">Terms &amp; Conditions</a>
                </div>
                <div class="col-sm-2">
                    <ul class="social-icons">
                        <li><a href="http://www.facebook.com/pages/Zebra-Technologies/107703715989073"><i class="fa fa-facebook"></i></a></li>
                        <li><a href="https://twitter.com/ZebraDevs"><i class="fa fa-twitter"></i></a></li>
                        <li><a href="http://www.youtube.com/zebratechnologies/"><i class="fa fa-youtube"></i></a></li>
                        <li><a href="https://www.linkedin.com/groups?home=&amp;gid=3220074&amp;trk=anet_ug_hm&amp;goback=%2Egmr_3220074"><i class="fa fa-linkedin"></i></a></li>
                        <li><a href="https://github.com/developer-zebra"><i class="fa fa-github"></i></a></li>
                    </ul>
                </div>
            </div>
        </div>
    </footer><!--/#footer-->
</div>


                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                </div><!--/.col-sm-6-->
            </div>
            </section>
        </div>
    </section>    


 </div>
    <script src="/js/bootstrap.min.js"></script>
    <script src="/js/owl.carousel.min.js"></script>
    <script src="/js/mousescroll.js"></script>
    <script src="/js/smoothscroll.js"></script>
    <script src="/js/jquery.prettyPhoto.js"></script>
    <script src="/js/jquery.isotope.min.js"></script>
    <script src="/js/jquery.inview.min.js"></script>
    <script src="/js/wow.min.js"></script>
    <script src="/js/bootstrap-treenav.min.js"></script>
    <script src="/js/prettify.js"></script>
    <script src="/js/zepto.js"></script>
    <script src="/js/jquery.waterfall.js"></script>   
    <script src="/js/main.js"></script>

<script type="text/javascript">
  (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
  (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
  e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
  })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

  _st('install','zRzEsAUhWTTkrdEN2YfA','2.0.0');
</script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-72584442-1', 'auto');
  ga('send', 'pageview');

</script>          


</body></html>