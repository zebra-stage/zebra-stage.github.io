
<!DOCTYPE html>
<html lang="en"><head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Online Documentation for Zebra Technologies developer tools and utiltiescomp including EMDK for Android, EMDK for Xamarin, StageNow, Enterprise Browser.">
    <meta name="author" content="Zebra Technologies">
    <meta name="google-site-verification" content="i4B78BrWnNy8ShJwe5feRW3jO3HE6gfYlYqYbxfl8yY">
    <meta name="msvalidate.01" content="6B651B00161BCE79B8950AC09D5C4C75">
    <meta title="Personal Shopper Programmer's Guide">
    <title>Personal Shopper Programmer's Guide - Zebra Technologies Online Documentation</title>
    <!-- core CSS -->
    <link href="/css/bootstrap.min.css" rel="stylesheet">
    <link href="/css/font-awesome.min.css" rel="stylesheet">
    <link href="/css/animate.min.css" rel="stylesheet">
    <link href="/css/owl.carousel.css" rel="stylesheet">
    <link href="/css/owl.transitions.css" rel="stylesheet">
    <link href="/css/prettyPhoto.css" rel="stylesheet">
    <link href="/css/main.css" rel="stylesheet">
    <link href="/css/responsive.css" rel="stylesheet">
    <link href="/css/prettify.css" rel="stylesheet">
    <link href="/css/bootstrap-treenav.min.css" rel="stylesheet">
    <!--[if lt IE 9]>
    <script src="js/html5shiv.js"></script>
    <script src="js/respond.min.js"></script>
    <![endif]-->       
    <link rel="shortcut icon" href="/favicon.ico">
<script src="/js/jquery.js"></script></head><!--/head-->


<body id="home" class="homepage" data-spy="scroll" data-offset="100" data-target="#toc">

    <header id="header">
        <nav id="main-menu" class="navbar navbar-default navbar-fixed-top" role="banner">
            <div class="container-fluid">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <span class="navbar-text"><a class="navbar-brand" href="/"><img src="/images/logo.png" alt="logo" style="max-height:42px;float: inherit;
    padding-right: 3px;"></a> <strong>Online Documentation</strong>
                    <p style="padding-left:50px;">
                                        EMDK For Android
                                        4.0
                    </p>
    </span>
                   
                </div>
                
                <div class="collapse navbar-collapse navbar-right">
                    <ul class="nav navbar-nav">
                        <li>
                            <a href="/emdk-for-android/4-0/guide/about">
                                    Home
                            </a>
                        </li>
                        <li>
                            <a href="/emdk-for-android/4-0/guide/gettingstarted">
                                    Getting Started
                            </a>
                        </li>
                        <li>
                            <a href="/emdk-for-android/4-0/tutorial/">
                                    Tutorials
                            </a>
                        </li>
                        <li>
                            <a href="/emdk-for-android/4-0/samples">
                                    Samples
                            </a>
                        </li>
                        <li>
                            <a href="/emdk-for-android/4-0/guide/programming-guides">
                                    Guides
                            </a>
                        </li>
                        <li>
                            <a href="/emdk-for-android/4-0/guide/profile-manager-guides">
                                    Profile Manager
                            </a>
                        </li>
                        <li>
                            <a href="/emdk-for-android/4-0/api">
                                    APIs
                            </a>
                        </li>
                        <li>
                            <a href="/emdk-for-android/4-0/search">
                                    <i class="fa fa-search"></i>
                            </a>
                        </li>
                        <!-- <li ><a href="/products">SDKs</a></li>
                        <li ><a href="/samples">Samples</a></li>
                        <li ><a href="/guides">Guides</a></li>
                        <li ><a href="/tutorials">Tutorials</a></li>
                        <li ><a href="/apis">APIs</a></li> -->
                        <!-- <li><a href="#"><input type="text" class="st-default-search-input"></a></li> -->
                    </ul>
                </div>
            </div><!--/.container-->
        </nav><!--/nav-->
    </header><!--/header-->
<div class="container-fluid">
    <section id="blog">
        <div class="">
            <section class="content-with-sidebar">
            <div class="row">
                <div class="col-sm-3 " id="sidebar">
                    <!-- <nav id="automenu"   >
                    
                    </nav> -->
                    <nav id="toc" data-toggle="toc" data-spy="affix" style="height: 95%; overflow-y: auto; ">
                        <ul class="nav">
                            <li><strong>Personal Shopper Programmer's Guide</strong></li>
                        </ul>
                    </nav>
                    <!-- <div class="row">
                        <nav class="col-xs-3 bs-docs-sidebar">
                            <ul id="sidebar" class="nav nav-stacked fixed">
                                <li>
                                    <a href="/emdk-for-android/4-0/guide/about">Home</a>
                                </li>
                                <li>
                                    <a href="/emdk-for-android/4-0/guide/gettingstarted">Getting Started</a>
                                </li>
                                <li>
                                    <a href="/emdk-for-android/4-0/tutorial/">Tutorials</a>
                                </li>
                                <li>
                                    <a href="/emdk-for-android/4-0/samples">Samples</a>
                                </li>
                                <li>
                                    <a href="/emdk-for-android/4-0/guide/programming-guides">Guides</a>
                                </li>
                                <li>
                                    <a href="/emdk-for-android/4-0/guide/profile-manager-guides">Profile Manager</a>
                                </li>
                                <li>
                                    <a href="/emdk-for-android/4-0/api">APIs</a>
                                </li>
                                <li>
                                    <a href="/emdk-for-android/4-0/search"></a>
                                </li>
                            </ul>
                        </nav>
                    </div> -->
                    
                    <link rel="stylesheet" href="https://cdn.rawgit.com/afeld/bootstrap-toc/v0.3.0/dist/bootstrap-toc.min.css">
                    <script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v0.3.0/dist/bootstrap-toc.min.js"></script>
                    <script type="text/javascript">
                        // $(window).load(function() {
                        //     var pathname = window.location.pathname.slice(0, -1);
                        //     // console.log(pathname);
                        //     var menuitem = $('.sidebar-container').find('a[href^="' + pathname + '"]').first()[0];
                        //     var menulevel = $(menuitem).parents('ul').length;
                        //     // console.log(menuitem);
                        //     // console.log(menulevel);
                        //     var parentLI = $(menuitem).parent().parent().parent();
                        //     var itemarrow = parentLI.find('.arrow').first()[0];
                    
                        //     //now check for higher level
                        //     if(menulevel==3){
                    
                        //         var parentFirstLevel = $(parentLI).parent().parent().first()[0];
                        //         var parentarrow = $(parentFirstLevel).find('.arrow').first()[0];
                        //         parentarrow.click();
                        //     }
                    
                        //     if(menulevel>1){
                        //         itemarrow.click();
                    
                        //     }
                        //     $(menuitem).addClass('sidebar-selected');
                        //     $(menuitem).parent().append('<ul style="display:block" id="indoc"></ul>')
                        //     $('h2').each(function(index, value){
                        //           if($(this).attr('id')){
                        //             var anchor = "#" + $(this).attr('id');
                        //             var text = $(this).text();
                        //             var li = "<li><a href='" + anchor + "'>" + text + "</a>" ;
                        //             $('#indoc').append(li);               
                        //           }
                    
                                  
                        //     });
                        // });
                      // var $myNav = $('#toc');
                      // $('body').scrollspy({
                      //   target: $myNav
                      // });
                    
                     
                        function affix() {
                            
                            // Fit affix width to its parent's width
                            var $affixElement = $('div[data-spy="affix"]');
                            $affixElement.width($affixElement.parent().width());
                     
                            // Position of vertical scrollbar 
                            var position = $(window).scrollTop();
                            if (position >= offset) {
                                $('.wrapper .section').each(function(i) {
                                    // Current content block's position less body padding
                                    var current = $(this).offset().top - offset - 1;
                                    
                                    // Add active class to corresponding affix menu while removing the same from siblings as per position) of current block
                                    if (current <= position) {
                                        $('a', $affixElement).eq(i).addClass('active').siblings().removeClass('active');
                                    }
                                });
                            } else {
                                $('a', $affixElement).find('.active').removeClass('active').end().find(":first").addClass('active');
                            }
                        };
                    
                        // $(window).on('scroll resize', function() {
                        //     affix();
                     
                        // });
                    
                    </script>
                </div>                
                <div class="col-sm-9 ">
                    <div class="row">
                        <div class="col-sm-12">
                            <section id="cta" class="wow fadeIn">
                                <div class="">
                                    <h1 id="personal-shopper-programmers-guide" class="anchor"><a class="heading-anchor" href="#personal-shopper-programmers-guide"><span></span></a>Personal Shopper Programmer's Guide</h1>
                                    <p>
                                        EMDK For Android
                                        4.0
                                    </p>
                                </div>
                            </section>                    
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-12">
                            <div class="blog-post blog-large wow fadeInLeft" data-wow-duration="300ms" data-wow-delay="0ms">
                            <!-- Start of guide -->
                                <div class="service-box wow fadeInRight">
                                    <div class="">

                                        <p></p><h2 id="introduction" class="anchor"><a class="heading-anchor" href="#introduction"><span></span></a>Introduction</h2>

<p>The EMDK for Android provides developers with a set of tools to easily create Personal shopper applications for use with the MC18 enterprise mobility device</p>

<blockquote>
  <p>NOTE: Personal Shopper feature type added in this release is only applicable for the MC18 personal shopper Android KK device. At present the smart cradle interfaces and Diagnostic interface are supported for this feature.</p>
</blockquote>

<h2 id="examples" class="anchor"><a class="heading-anchor" href="#examples"><span></span></a>Examples</h2>

<p>The following code snippets illustrate the typical usage of the Personal Shopper feature type to use the smart cradle interfaces and Diagnostic Interface on MC18 device</p>

<p><strong>Get access to EMDKManager class to access different features supported</strong></p>

<pre class="prettyprint"><code>
EMDKManager emdkManager = EMDKManager.getEMDKManager(getApplicationContext(), this);
</code></pre>

<p><strong>Create an instance of the personal shopper feature class</strong></p>

<pre class="prettyprint"><code>
PersonalShopper  personalShopper = (PersonalShopper)this.emdkManager.getInstance(FEATURE_TYPE.PERSONALSHOPPER);

if(personalShopper == null)
{
    //This feature is not supported on the device in use.
}
</code></pre>

<p><strong>For smart cradle interactions, use the ‘cradle’ member variable of the personalShopper object</strong></p>

<pre class="prettyprint"><code>
//enable the cradle first before starting to use.
try {
       personalShopper.cradle.enable();
} catch (CradleException e) {
       e.printStackTrace();
}
</code></pre>

<h2 id="cradleinfo" class="anchor"><a class="heading-anchor" href="#cradleinfo"><span></span></a>CradleInfo</h2>

<p><strong>To fetch the cradle information like firmware version, part number, serial number, HW id etc</strong></p>

<pre class="prettyprint"><code>
try{
       CradleInfo cradleInfo =  personalShopper.cradle.getCradleInfo();
}catch(CradleException e){
       e.printStackTrace();
}
</code></pre>

<h2 id="unlock" class="anchor"><a class="heading-anchor" href="#unlock"><span></span></a>Unlock</h2>

<p><strong>To unlock the cradle for a specific duration with LED blinks</strong></p>

<blockquote>
  <p>NOTE: To unlock without flashing, keep the onDuration as 0.</p>
</blockquote>

<pre class="prettyprint"><code>
try {
       CradleLedFlashInfo ledFlashInfo = new CradleLedFlashInfo(onDuration, offDuration, smoothEnable);
       CradleResults result = personalShopper.cradle.unlock(unlockDuration, ledFlashInfo);

       if(result == CradleResults.SUCCESS){
             // Successfully unlocked the device
       }
       else{
       // Failure in unlocking
       }
}catch (CradleException e) {
       e.printStackTrace();
}
</code></pre>

<h2 id="flashleds" class="anchor"><a class="heading-anchor" href="#flashleds"><span></span></a>Flash LEDs</h2>

<p><strong>To flash the cradle leds</strong></p>

<blockquote>
  <p>NOTE: To stop the flashing before the flashCount, call the flashLED again with onDuration as 0</p>
</blockquote>

<pre class="prettyprint"><code>
try {
       CradleLedFlashInfo ledFlashInfo = new CradleLedFlashInfo(onDuration, offDuration, smoothEnable);
       CradleResults result = personalShopper.cradle.flashLed(flashCount, ledFlashInfo);

       if(result == CradleResults.SUCCESS){
             // Successfully flashed the leds
       }
       else{
       // Failure in flashing LEDs
       }
}catch (CradleException e) {
       e.printStackTrace();
}
</code></pre>

<h2 id="cradleconfig" class="anchor"><a class="heading-anchor" href="#cradleconfig"><span></span></a>Cradle Config</h2>

<p><strong>To fetch the charge rate</strong></p>

<pre class="prettyprint"><code>
try {
       boolean fastChargeState = personalShopper.cradle.config.getFastChargingState();

       if(fastChargeState == true){
             // Fast charge enabled
       }
       else{
       // Fast charge disabled
       }
}catch (CradleException e) {
       e.printStackTrace();
}
</code></pre>

<p><strong>To set the charge rate</strong></p>

<pre class="prettyprint"><code>
try {
       boolean fastChargeEnable = true; //true to enable, false to disable.
       personalShopper.cradle.config.setFastChargingState(fastChargeEnable);
}catch (CradleException e) {
       e.printStackTrace();
}
</code></pre>

<p><strong>To fetch cradle location information – row,wall,column</strong></p>

<pre class="prettyprint"><code>
try {
       CradleLocation location = personalShopper.cradle.config.getLocation();

       if(location!=null){
             // location.row, location.column, location.wall successfully read.
       }
       else{
       // failure in reading location information.
       }
}catch (CradleException e) {
       e.printStackTrace();
}
</code></pre>

<p><strong>To set the location information</strong></p>

<pre class="prettyprint"><code>
try {
       CradleLocation location = personalShopper.cradle.config.new CradleLocation(wall,row,col);
       personalShopper.cradle.config.setLocation(location);

}catch (CradleException e) {
       e.printStackTrace();
}
</code></pre>

<p><strong>Disable the cradle after the use so that other applications can use the cradle methods</strong></p>

<pre class="prettyprint"><code>
try {
personalShopper.cradle.disable();
} catch (CradleException e) {
    e.printStackTrace();
}
</code></pre>

<h2 id="diagnostic" class="anchor"><a class="heading-anchor" href="#diagnostic"><span></span></a>Diagnostic</h2>

<p><strong>To get Diagnostic interface, use the ‘diagnostic’ member variable of the personalShopper object</strong></p>

<p>To get Diagnostic Parameters like Battery state of health, State of charge , Time to Empty , Manufacturing Date, Required Charging time , Charging elapsed time ,Days since battery replaced and time since last reboot.</p>

<pre class="prettyprint"><code>
try {
DiagnosticParamId diagnosticparamID = new DiagnosticParamId();
DiagnosticData diagnosticData = personalShopper.diagnostic.getDiagnosticData(diagnosticparamID.ALL,
new  DiagnosticConfig(AvgCurrent,shoppingtrip));

}catch (DiagnosticException e) {
       e.printStackTrace();
}
</code></pre><p></p>
                                        <div>    <footer id="footer" class="navbar-fixed-bottom">
        <div class="container-fluid">
            <div class="row">
                <div class="col-sm-10">
                    © 2015 ZIH Corp and/or its affiliates. All rights reserved. Zebra and the stylized Zebra head are trademarks of ZIH Corp., registered in many jurisdictions worldwide. All other trademarks are the property of their respective owners. <a href="https://www.zebra.com/us/en/about-zebra/company-information/compliance/information-privacy/terms-of-use.html">Terms &amp; Conditions</a>
                </div>
                <div class="col-sm-2">
                    <ul class="social-icons">
                        <li><a href="http://www.facebook.com/pages/Zebra-Technologies/107703715989073"><i class="fa fa-facebook"></i></a></li>
                        <li><a href="https://twitter.com/ZebraDevs"><i class="fa fa-twitter"></i></a></li>
                        <li><a href="http://www.youtube.com/zebratechnologies/"><i class="fa fa-youtube"></i></a></li>
                        <li><a href="https://www.linkedin.com/groups?home=&amp;gid=3220074&amp;trk=anet_ug_hm&amp;goback=%2Egmr_3220074"><i class="fa fa-linkedin"></i></a></li>
                        <li><a href="https://github.com/developer-zebra"><i class="fa fa-github"></i></a></li>
                    </ul>
                </div>
            </div>
        </div>
    </footer><!--/#footer-->
</div>


                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                </div><!--/.col-sm-6-->
            </div>
            </section>
        </div>
    </section>    


 </div>
    <script src="/js/bootstrap.min.js"></script>
    <script src="/js/owl.carousel.min.js"></script>
    <script src="/js/mousescroll.js"></script>
    <script src="/js/smoothscroll.js"></script>
    <script src="/js/jquery.prettyPhoto.js"></script>
    <script src="/js/jquery.isotope.min.js"></script>
    <script src="/js/jquery.inview.min.js"></script>
    <script src="/js/wow.min.js"></script>
    <script src="/js/bootstrap-treenav.min.js"></script>
    <script src="/js/prettify.js"></script>
    <script src="/js/zepto.js"></script>
    <script src="/js/jquery.waterfall.js"></script>   
    <script src="/js/main.js"></script>

<script type="text/javascript">
  (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
  (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
  e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
  })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

  _st('install','zRzEsAUhWTTkrdEN2YfA','2.0.0');
</script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-72584442-1', 'auto');
  ga('send', 'pageview');

</script>          


</body></html>