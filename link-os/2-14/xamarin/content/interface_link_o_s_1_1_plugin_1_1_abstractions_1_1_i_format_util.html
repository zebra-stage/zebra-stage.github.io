<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Zebra LinkOS Multiplatform SDK for Xamarin: LinkOS.Plugin.Abstractions.IFormatUtil Interface Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="Zebra_New.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Zebra LinkOS Multiplatform SDK for Xamarin
   &#160;<span id="projectnumber">1.1</span>
   </div>
   <div id="projectbrief">Link-OS Portable Class Library Plugin for Xamarin</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('interface_link_o_s_1_1_plugin_1_1_abstractions_1_1_i_format_util.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="interface_link_o_s_1_1_plugin_1_1_abstractions_1_1_i_format_util-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">LinkOS.Plugin.Abstractions.IFormatUtil Interface Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Defines functions used for interacting with printer formats.  
 <a href="interface_link_o_s_1_1_plugin_1_1_abstractions_1_1_i_format_util.html#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for LinkOS.Plugin.Abstractions.IFormatUtil:</div>
<div class="dyncontent">
 <div class="center">
  <img src="interface_link_o_s_1_1_plugin_1_1_abstractions_1_1_i_format_util.png" usemap="#LinkOS.Plugin.Abstractions.IFormatUtil_map" alt=""/>
  <map id="LinkOS.Plugin.Abstractions.IFormatUtil_map" name="LinkOS.Plugin.Abstractions.IFormatUtil_map">
<area href="interface_link_o_s_1_1_plugin_1_1_abstractions_1_1_i_zebra_printer.html" title="An interface used to obtain various properties of a Zebra printer. " alt="LinkOS.Plugin.Abstractions.IZebraPrinter" shape="rect" coords="0,56,251,80"/>
<area href="class_link_o_s_1_1_plugin_1_1_zebra_printer_implementation.html" title="The OS specific implementation of an IZebraPrinter " alt="LinkOS.Plugin.ZebraPrinterImplementation" shape="rect" coords="0,112,251,136"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a766d12d5c2e0eb62293d14bf85fe78a4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="interface_link_o_s_1_1_plugin_1_1_abstractions_1_1_i_field_description.html">IFieldDescription</a> []&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_link_o_s_1_1_plugin_1_1_abstractions_1_1_i_format_util.html#a766d12d5c2e0eb62293d14bf85fe78a4">GetVariableFields</a> (string formatString)</td></tr>
<tr class="memdesc:a766d12d5c2e0eb62293d14bf85fe78a4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a list of descriptors of the variable fields in this format.  <a href="#a766d12d5c2e0eb62293d14bf85fe78a4">More...</a><br /></td></tr>
<tr class="separator:a766d12d5c2e0eb62293d14bf85fe78a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a119b35845d7fa09cd4187271d80a87af"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_link_o_s_1_1_plugin_1_1_abstractions_1_1_i_format_util.html#a119b35845d7fa09cd4187271d80a87af">PrintStoredFormat</a> (string formatPathOnPrinter, Dictionary&lt; int, string &gt; vars)</td></tr>
<tr class="memdesc:a119b35845d7fa09cd4187271d80a87af"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prints a stored format on the printer, filling in the fields specified by the Map. The values of any format variables will be encoded using the default encoding type. See System.Text.Encoding for more information about encoding types.  <a href="#a119b35845d7fa09cd4187271d80a87af">More...</a><br /></td></tr>
<tr class="separator:a119b35845d7fa09cd4187271d80a87af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5458d29dc31c6e26cff69d2ff965b58a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_link_o_s_1_1_plugin_1_1_abstractions_1_1_i_format_util.html#a5458d29dc31c6e26cff69d2ff965b58a">PrintStoredFormat</a> (string formatPathOnPrinter, string[] vars)</td></tr>
<tr class="memdesc:a5458d29dc31c6e26cff69d2ff965b58a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prints a stored format on the printer, filling in the fields specified by the array. The values of any format variables will be encoded using the default encoding type. See System.Text.Encoding for more information about encoding types.  <a href="#a5458d29dc31c6e26cff69d2ff965b58a">More...</a><br /></td></tr>
<tr class="separator:a5458d29dc31c6e26cff69d2ff965b58a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7751cd35ebf88ad7d70aa23ff6020010"><td class="memItemLeft" align="right" valign="top">byte []&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_link_o_s_1_1_plugin_1_1_abstractions_1_1_i_format_util.html#a7751cd35ebf88ad7d70aa23ff6020010">RetrieveFormatFromPrinter</a> (string formatPathOnPrinter)</td></tr>
<tr class="memdesc:a7751cd35ebf88ad7d70aa23ff6020010"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves a format from the printer. On a ZPL printer, only .ZPL files are supported. On a CPCL printer, only .FMT and .LBL files are supported. This function will only pull CPCL files on ZebraLink Mobile printers (RW, MZ, QL+).  <a href="#a7751cd35ebf88ad7d70aa23ff6020010">More...</a><br /></td></tr>
<tr class="separator:a7751cd35ebf88ad7d70aa23ff6020010"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Defines functions used for interacting with printer formats. </p>
<p>The ZPL print format: <a class="el" href="namespace_link_o_s_1_1_plugin_1_1_abstractions.html#a2823a897d344bab0e96a4226993a9be4a773d6e671a9ada14bf89afb71bd3945c" title="Printer control language ZPL ">FORMAT.ZPL</a> </p><div class="fragment"><div class="line">^XA</div><div class="line">^DFE:FORMAT.ZPL</div><div class="line">^FS</div><div class="line">^FT26,243^A0N,56,55^FH\^FN12<span class="stringliteral">&quot;First Name&quot;</span>^FS</div><div class="line">^FT26,296^A0N,56,55^FH\^FN11<span class="stringliteral">&quot;Last Name&quot;</span>^FS</div><div class="line">^FT258,73^A0N,39,38^FH\^FDVisitor^FS</div><div class="line">^BY2,4^FT403,376^B7N,4,0,2,2,N^FH^FDSerial Number^FS</div><div class="line">^FO5,17^GB601,379,8^FS</div><div class="line">^XZ</div></div><!-- fragment --><p>Create and print a format<br />
 See <a class="el" href="interface_link_o_s_1_1_plugin_1_1_abstractions_1_1_i_printer_status.html" title="A class used to obtain the status of a Zebra printer. ">IPrinterStatus</a> for PreCheckPrinterStatus() and PostPrintCheckStatus() code.<br />
 See <a class="el" href="interface_link_o_s_1_1_plugin_1_1_abstractions_1_1_i_connection.html" title="A connection to a device. ">IConnection</a> for CheckPrinterLanguage() code. </p><div class="fragment"><div class="line"><span class="keyword">using</span> <a class="code" href="namespace_link_o_s.html">LinkOS</a>.<a class="code" href="namespace_link_o_s_1_1_plugin.html">Plugin</a>;</div><div class="line"><span class="keyword">using</span> <a class="code" href="namespace_link_o_s.html">LinkOS</a>.<a class="code" href="namespace_link_o_s_1_1_plugin.html">Plugin</a>.<a class="code" href="namespace_link_o_s_1_1_plugin_1_1_abstractions.html">Abstractions</a>;</div><div class="line"><span class="keyword">using</span> <a class="code" href="namespace_system.html">System</a>.Collections.Generic;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="keywordtype">void</span> SendFile()</div><div class="line">{</div><div class="line">    IConnection connection = ConnectionBuilder.Current.Build(<span class="stringliteral">&quot;TCP:192.168.1.100:9100&quot;</span>);</div><div class="line"></div><div class="line">    <span class="keywordflow">try</span></div><div class="line">    {</div><div class="line">        connection.Open();</div><div class="line"></div><div class="line">        <span class="keywordflow">if</span> (!CheckPrinterLanguage(connection))</div><div class="line">            <span class="keywordflow">return</span>;</div><div class="line">        <span class="keywordflow">if</span> (!PreCheckPrinterStatus(connection))</div><div class="line">            <span class="keywordflow">return</span>;</div><div class="line"></div><div class="line">        IZebraPrinter printer = ZebraPrinterFactory.Current.GetInstance(connection);</div><div class="line">        <span class="comment">// FORMAT.ZPL has two fields - the first is number 12, the second is number 11</span></div><div class="line">        Dictionary&lt;int, string&gt; vars = <span class="keyword">new</span> Dictionary&lt;int, string&gt;();</div><div class="line">        vars.Add(11, <span class="stringliteral">&quot;John&quot;</span>);</div><div class="line">        vars.Add(12, <span class="stringliteral">&quot;Smith&quot;</span>);</div><div class="line">        printer.PrintStoredFormat(<span class="stringliteral">&quot;E:FORMAT.ZPL&quot;</span>, vars);</div><div class="line"></div><div class="line">        PostPrintCheckStatus(connection);</div><div class="line">    }</div><div class="line">    <span class="keywordflow">catch</span> (Exception e)</div><div class="line">    {</div><div class="line">        <a class="code" href="namespace_system.html">System</a>.Diagnostics.Debug.WriteLine(<span class="stringliteral">&quot;Exception:&quot;</span> + e.Message);</div><div class="line">    }</div><div class="line">    <span class="keywordflow">finally</span></div><div class="line">    {</div><div class="line">        <span class="keywordflow">if</span> (connection.IsConnected)</div><div class="line">            connection.Close();</div><div class="line">    }</div><div class="line">}</div></div><!-- fragment --></div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a766d12d5c2e0eb62293d14bf85fe78a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a766d12d5c2e0eb62293d14bf85fe78a4">&#9670;&nbsp;</a></span>GetVariableFields()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="interface_link_o_s_1_1_plugin_1_1_abstractions_1_1_i_field_description.html">IFieldDescription</a> [] LinkOS.Plugin.Abstractions.IFormatUtil.GetVariableFields </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>formatString</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns a list of descriptors of the variable fields in this format. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">formatString</td><td>the contents of the recalled format.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a list of field data descriptors. In CPCL the nth element of the list will contain the integer n and no name. In ZPL, each element will contain an ^FN number and a variable name if present. If the format contains multiple ^FNs with the same number, only the last one will be in the result. See <a class="el" href="interface_link_o_s_1_1_plugin_1_1_abstractions_1_1_i_field_description.html" title="This class is used to describe format variable fields. ">IFieldDescription</a> for an example of how variable fields look.</dd></dl>

<p>Implemented in <a class="el" href="class_link_o_s_1_1_plugin_1_1_zebra_printer_implementation.html#a829b78fb08202d435c272c91eeef4771">LinkOS.Plugin.ZebraPrinterImplementation</a>.</p>

</div>
</div>
<a id="a119b35845d7fa09cd4187271d80a87af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a119b35845d7fa09cd4187271d80a87af">&#9670;&nbsp;</a></span>PrintStoredFormat() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void LinkOS.Plugin.Abstractions.IFormatUtil.PrintStoredFormat </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>formatPathOnPrinter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Dictionary&lt; int, string &gt;&#160;</td>
          <td class="paramname"><em>vars</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prints a stored format on the printer, filling in the fields specified by the Map. The values of any format variables will be encoded using the default encoding type. See System.Text.Encoding for more information about encoding types. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">formatPathOnPrinter</td><td>the location of the file on the printer (e.g. "E:FORMAT.ZPL").</td></tr>
    <tr><td class="paramname">vars</td><td>a dictionary which contains the key/value pairs for the stored format. For ZPL formats, the key number should correspond directly to the number of the field in the format. For CPCL formats, the values will be passed in ascending numerical order. </td></tr>
  </table>
  </dd>
</dl>

<p>Implemented in <a class="el" href="class_link_o_s_1_1_plugin_1_1_zebra_printer_implementation.html#a425b691c1af0acd595af649d955fe17d">LinkOS.Plugin.ZebraPrinterImplementation</a>.</p>

</div>
</div>
<a id="a5458d29dc31c6e26cff69d2ff965b58a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5458d29dc31c6e26cff69d2ff965b58a">&#9670;&nbsp;</a></span>PrintStoredFormat() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void LinkOS.Plugin.Abstractions.IFormatUtil.PrintStoredFormat </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>formatPathOnPrinter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string []&#160;</td>
          <td class="paramname"><em>vars</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prints a stored format on the printer, filling in the fields specified by the array. The values of any format variables will be encoded using the default encoding type. See System.Text.Encoding for more information about encoding types. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">formatPathOnPrinter</td><td>the name of the format on the printer, including the extension (e.g. "E:FORMAT.ZPL").</td></tr>
    <tr><td class="paramname">vars</td><td>an array of strings representing the data to fill into the format. For ZPL formats, index 0 of the array corresponds to field number 2 (^FN2). For CPCL, the variables are passed in the order that they are found in the format.</td></tr>
  </table>
  </dd>
</dl>

<p>Implemented in <a class="el" href="class_link_o_s_1_1_plugin_1_1_zebra_printer_implementation.html#a5197f1753bb0d4a0dedce6a5083e5d6c">LinkOS.Plugin.ZebraPrinterImplementation</a>.</p>

</div>
</div>
<a id="a7751cd35ebf88ad7d70aa23ff6020010"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7751cd35ebf88ad7d70aa23ff6020010">&#9670;&nbsp;</a></span>RetrieveFormatFromPrinter()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">byte [] LinkOS.Plugin.Abstractions.IFormatUtil.RetrieveFormatFromPrinter </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>formatPathOnPrinter</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieves a format from the printer. On a ZPL printer, only .ZPL files are supported. On a CPCL printer, only .FMT and .LBL files are supported. This function will only pull CPCL files on ZebraLink Mobile printers (RW, MZ, QL+). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">formatPathOnPrinter</td><td>the location of the file on the printer (e.g. "E:FORMAT.ZPL").</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the contents of the format file.</dd></dl>

<p>Implemented in <a class="el" href="class_link_o_s_1_1_plugin_1_1_zebra_printer_implementation.html#a1ab4b7d78ae4c106d7cb92dd1b6cf543">LinkOS.Plugin.ZebraPrinterImplementation</a>.</p>

</div>
</div>
<hr/>The documentation for this interface was generated from the following file:<ul>
<li>C:/Users/jkimball/xamarin-sdk/Link_OS_SDK_for_Xamarin_Portable/LinkOS/LinkOS.Plugin.Abstractions/IFormatUtil.cs</li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespace_link_o_s.html">LinkOS</a></li><li class="navelem"><a class="el" href="namespace_link_o_s_1_1_plugin.html">Plugin</a></li><li class="navelem"><a class="el" href="namespace_link_o_s_1_1_plugin_1_1_abstractions.html">Abstractions</a></li><li class="navelem"><a class="el" href="interface_link_o_s_1_1_plugin_1_1_abstractions_1_1_i_format_util.html">IFormatUtil</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.14 </li>
  </ul>
</div>
</body>
</html>
