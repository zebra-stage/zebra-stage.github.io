<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Zebra LinkOS Multiplatform SDK for Xamarin: LinkOS.Plugin.Abstractions.IConnection Interface Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="Zebra_New.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Zebra LinkOS Multiplatform SDK for Xamarin
   &#160;<span id="projectnumber">1.1</span>
   </div>
   <div id="projectbrief">Link-OS Portable Class Library Plugin for Xamarin</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('interface_link_o_s_1_1_plugin_1_1_abstractions_1_1_i_connection.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#properties">Properties</a> &#124;
<a href="interface_link_o_s_1_1_plugin_1_1_abstractions_1_1_i_connection-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">LinkOS.Plugin.Abstractions.IConnection Interface Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>A connection to a device.  
 <a href="interface_link_o_s_1_1_plugin_1_1_abstractions_1_1_i_connection.html#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for LinkOS.Plugin.Abstractions.IConnection:</div>
<div class="dyncontent">
 <div class="center">
  <img src="interface_link_o_s_1_1_plugin_1_1_abstractions_1_1_i_connection.png" usemap="#LinkOS.Plugin.Abstractions.IConnection_map" alt=""/>
  <map id="LinkOS.Plugin.Abstractions.IConnection_map" name="LinkOS.Plugin.Abstractions.IConnection_map">
<area href="class_link_o_s_1_1_plugin_1_1_connection_implementation.html" title="The OS specific implementation of an IConnection " alt="LinkOS.Plugin.ConnectionImplementation" shape="rect" coords="0,56,242,80"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a229b2a034ba522db8fb76620c53833d9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_link_o_s_1_1_plugin_1_1_abstractions_1_1_i_connection.html#a229b2a034ba522db8fb76620c53833d9">Initialize</a> (string connectionString)</td></tr>
<tr class="memdesc:a229b2a034ba522db8fb76620c53833d9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a new connection.  <a href="#a229b2a034ba522db8fb76620c53833d9">More...</a><br /></td></tr>
<tr class="separator:a229b2a034ba522db8fb76620c53833d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac98359486a4615a82599bdcfdd19001b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_link_o_s_1_1_plugin_1_1_abstractions_1_1_i_connection.html#ac98359486a4615a82599bdcfdd19001b">Open</a> ()</td></tr>
<tr class="memdesc:ac98359486a4615a82599bdcfdd19001b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Opens the connection to a device.  <a href="#ac98359486a4615a82599bdcfdd19001b">More...</a><br /></td></tr>
<tr class="separator:ac98359486a4615a82599bdcfdd19001b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf1591930417d3810777bf573bcf424c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_link_o_s_1_1_plugin_1_1_abstractions_1_1_i_connection.html#acf1591930417d3810777bf573bcf424c">Close</a> ()</td></tr>
<tr class="memdesc:acf1591930417d3810777bf573bcf424c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Closes this connection and releases any system resources associated with the connection.  <a href="#acf1591930417d3810777bf573bcf424c">More...</a><br /></td></tr>
<tr class="separator:acf1591930417d3810777bf573bcf424c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad21fa9016f30fcedbbe9a75406d83ca3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_link_o_s_1_1_plugin_1_1_abstractions_1_1_i_connection.html#ad21fa9016f30fcedbbe9a75406d83ca3">Write</a> (byte[] data)</td></tr>
<tr class="memdesc:ad21fa9016f30fcedbbe9a75406d83ca3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes data.length bytes from the specified byte array to this output stream.  <a href="#ad21fa9016f30fcedbbe9a75406d83ca3">More...</a><br /></td></tr>
<tr class="separator:ad21fa9016f30fcedbbe9a75406d83ca3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24bcf5587bd6317103b977fd28e49e2a"><td class="memItemLeft" align="right" valign="top">byte []&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_link_o_s_1_1_plugin_1_1_abstractions_1_1_i_connection.html#a24bcf5587bd6317103b977fd28e49e2a">Read</a> ()</td></tr>
<tr class="memdesc:a24bcf5587bd6317103b977fd28e49e2a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads all the available data from the connection.  <a href="#a24bcf5587bd6317103b977fd28e49e2a">More...</a><br /></td></tr>
<tr class="separator:a24bcf5587bd6317103b977fd28e49e2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae11d04f71b88ce7bf45d116b2fc413c"><td class="memItemLeft" align="right" valign="top">byte []&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_link_o_s_1_1_plugin_1_1_abstractions_1_1_i_connection.html#aae11d04f71b88ce7bf45d116b2fc413c">SendAndWaitForResponse</a> (byte[] dataToSend, int initialResponseTimeout, int responseCompletionTimeout, string terminator=null)</td></tr>
<tr class="memdesc:aae11d04f71b88ce7bf45d116b2fc413c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends dataToSend and returns the response data. The software returns immediately if the data received contains terminator. The connection must be open before this method is called. If sendAndWaitForResponse is called when a connection is closed, a ConnectionException is thrown.  <a href="#aae11d04f71b88ce7bf45d116b2fc413c">More...</a><br /></td></tr>
<tr class="separator:aae11d04f71b88ce7bf45d116b2fc413c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e15ba308cb1718116d64ed674978c89"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_link_o_s_1_1_plugin_1_1_abstractions_1_1_i_connection.html#a8e15ba308cb1718116d64ed674978c89">WaitForData</a> (int maxTimeout)</td></tr>
<tr class="memdesc:a8e15ba308cb1718116d64ed674978c89"><td class="mdescLeft">&#160;</td><td class="mdescRight">Causes the currently executing thread to sleep until bytesAvailable() &gt; 0, or for a maximum of maxTimeout milliseconds.  <a href="#a8e15ba308cb1718116d64ed674978c89">More...</a><br /></td></tr>
<tr class="separator:a8e15ba308cb1718116d64ed674978c89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6823d96f7e9b2519f8684c0d7304db16"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_link_o_s_1_1_plugin_1_1_abstractions_1_1_i_connection.html#a6823d96f7e9b2519f8684c0d7304db16">BytesAvailable</a> ()</td></tr>
<tr class="memdesc:a6823d96f7e9b2519f8684c0d7304db16"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns an estimate of the number of bytes that can be read from this connection without blocking.  <a href="#a6823d96f7e9b2519f8684c0d7304db16">More...</a><br /></td></tr>
<tr class="separator:a6823d96f7e9b2519f8684c0d7304db16"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="properties"></a>
Properties</h2></td></tr>
<tr class="memitem:a74c505246ad423309cceaa46e6032b59"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_link_o_s_1_1_plugin_1_1_abstractions_1_1_i_connection.html#a74c505246ad423309cceaa46e6032b59">IsConnected</a><code> [get]</code></td></tr>
<tr class="memdesc:a74c505246ad423309cceaa46e6032b59"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the connection is open.  <a href="#a74c505246ad423309cceaa46e6032b59">More...</a><br /></td></tr>
<tr class="separator:a74c505246ad423309cceaa46e6032b59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01180f7815030926a98a96ca5ed87564"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_link_o_s_1_1_plugin_1_1_abstractions_1_1_i_connection.html#a01180f7815030926a98a96ca5ed87564">MaxTimeoutForRead</a><code> [get, set]</code></td></tr>
<tr class="memdesc:a01180f7815030926a98a96ca5ed87564"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets or sets the maximum time, in milliseconds, to wait for any data to be received. Recommended setting before opening the connection.  <a href="#a01180f7815030926a98a96ca5ed87564">More...</a><br /></td></tr>
<tr class="separator:a01180f7815030926a98a96ca5ed87564"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93ee020bd493ba8d312e3ecfb597670e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_link_o_s_1_1_plugin_1_1_abstractions_1_1_i_connection.html#a93ee020bd493ba8d312e3ecfb597670e">TimeToWaitForMoreData</a><code> [get, set]</code></td></tr>
<tr class="memdesc:a93ee020bd493ba8d312e3ecfb597670e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets or sets the maximum time, in milliseconds, to wait in-between reads after the initial read. Recommended setting before opening the connection.  <a href="#a93ee020bd493ba8d312e3ecfb597670e">More...</a><br /></td></tr>
<tr class="separator:a93ee020bd493ba8d312e3ecfb597670e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78496cf1f8d71d2cb75a23757356ab02"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_link_o_s_1_1_plugin_1_1_abstractions_1_1_i_connection.html#a78496cf1f8d71d2cb75a23757356ab02">TimeToWaitAfterWrite</a><code> [get, set]</code></td></tr>
<tr class="memdesc:a78496cf1f8d71d2cb75a23757356ab02"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ignored in Android. In iOS Bluetooth -overrides the time the write() method will wait after writing data to the stream. <br />
The default time is 60ms. This method is used to adapt to different Bluetooth radio performance requirements. <br />
If you notice an issues writing bytes, try increasing this time.  <a href="#a78496cf1f8d71d2cb75a23757356ab02">More...</a><br /></td></tr>
<tr class="separator:a78496cf1f8d71d2cb75a23757356ab02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa3fcb488c2ab3f389ae5dc18c3f0c68"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_link_o_s_1_1_plugin_1_1_abstractions_1_1_i_connection.html#afa3fcb488c2ab3f389ae5dc18c3f0c68">TimeToWaitAfterRead</a><code> [get, set]</code></td></tr>
<tr class="memdesc:afa3fcb488c2ab3f389ae5dc18c3f0c68"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ignored in Android. In iOS Bluetooth -overrides the time the read() method will wait after reading data from the stream. <br />
The default time is 10ms. This method is used to adapt to different Bluetooth radio performance requirements. <br />
If you notice an issues writing bytes, try increasing this time.  <a href="#afa3fcb488c2ab3f389ae5dc18c3f0c68">More...</a><br /></td></tr>
<tr class="separator:afa3fcb488c2ab3f389ae5dc18c3f0c68"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A connection to a device. </p>
<p>See <a class="el" href="interface_link_o_s_1_1_plugin_1_1_abstractions_1_1_i_printer_status.html" title="A class used to obtain the status of a Zebra printer. ">IPrinterStatus</a> for PreCheckPrinterStatus() and PostPrintCheckStatus() code. </p><div class="fragment"><div class="line"><span class="keyword">using</span> <a class="code" href="namespace_link_o_s.html">LinkOS</a>.<a class="code" href="namespace_link_o_s_1_1_plugin.html">Plugin</a>;</div><div class="line"><span class="keyword">using</span> <a class="code" href="namespace_link_o_s.html">LinkOS</a>.<a class="code" href="namespace_link_o_s_1_1_plugin.html">Plugin</a>.<a class="code" href="namespace_link_o_s_1_1_plugin_1_1_abstractions.html">Abstractions</a>;</div><div class="line"><span class="keyword">using</span> <a class="code" href="namespace_system.html">System</a>.Text;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="keywordtype">void</span> PrintTCP()</div><div class="line">{</div><div class="line">    IConnection connection = ConnectionBuilder.Current.Build(<span class="stringliteral">&quot;TCP:192.168.1.100:9100&quot;</span>);</div><div class="line">    Print(connection);</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="keywordtype">void</span> PrintBluetooth()</div><div class="line">{</div><div class="line">    IConnection connection = ConnectionBuilder.Current.Build(<span class="stringliteral">&quot;BT:00:22:33:44:55:66&quot;</span>);</div><div class="line">    Print(connection);</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="keywordtype">void</span> Print(IConnection connection)</div><div class="line">{</div><div class="line">    <span class="keywordtype">string</span> zpl = <span class="stringliteral">&quot;^XA^POI^MNN^LL90^PW400^FO20,20^A0N,50,50^FDTEST^FS^XZ&quot;</span>;</div><div class="line"></div><div class="line">    <span class="keywordflow">try</span></div><div class="line">    {</div><div class="line">        connection.Open();</div><div class="line"></div><div class="line">        <span class="keywordflow">if</span> (!CheckPrinterLanguage(connection))</div><div class="line">            <span class="keywordflow">return</span>;</div><div class="line"></div><div class="line">        <span class="keywordflow">if</span> (!PreCheckPrinterStatus(connection))</div><div class="line">            <span class="keywordflow">return</span>;</div><div class="line"></div><div class="line">        connection.Write(Encoding.UTF8.GetBytes(zpl));</div><div class="line"></div><div class="line">        PostPrintCheckStatus(connection);</div><div class="line">    }</div><div class="line">    <span class="keywordflow">catch</span> (Exception e)</div><div class="line">    {</div><div class="line">        <a class="code" href="namespace_system.html">System</a>.Diagnostics.Debug.WriteLine(<span class="stringliteral">&quot;Exception:&quot;</span> + e.Message);</div><div class="line">    }</div><div class="line">    <span class="keywordflow">finally</span></div><div class="line">    {</div><div class="line">        <span class="keywordflow">if</span> (connection.IsConnected)</div><div class="line">            connection.Close();</div><div class="line">    }</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="keywordtype">bool</span> CheckPrinterLanguage(IConnection connection)</div><div class="line">{</div><div class="line">    <span class="comment">//  Set the printer command languege</span></div><div class="line">    connection.Write(GetBytes(<span class="stringliteral">&quot;! U1 setvar \&quot;device.languages\\&quot;</span> \<span class="stringliteral">&quot;zpl\\&quot;</span>\r\n<span class="stringliteral">&quot;));</span></div><div class="line"><span class="stringliteral">    byte[] response = connection.SendAndWaitForResponse(GetBytes(&quot;</span>! U1 getvar \<span class="stringliteral">&quot;device.languages\\&quot;</span>\r\n<span class="stringliteral">&quot;), 500, 100);</span></div><div class="line"><span class="stringliteral">    string language = Encoding.UTF8.GetString(response, 0, response.Length);</span></div><div class="line"><span class="stringliteral">    if (!language.Contains(&quot;</span>zpl<span class="stringliteral">&quot;))</span></div><div class="line"><span class="stringliteral">    {</span></div><div class="line"><span class="stringliteral">        ShowErrorAlert(&quot;</span>Printer language not <span class="keyword">set</span>. Not a <a class="code" href="namespace_link_o_s_1_1_plugin_1_1_abstractions.html#a2823a897d344bab0e96a4226993a9be4a773d6e671a9ada14bf89afb71bd3945c">ZPL</a> printer.<span class="stringliteral">&quot;);</span></div><div class="line"><span class="stringliteral">        return false;</span></div><div class="line"><span class="stringliteral">    }</span></div><div class="line"><span class="stringliteral">    return true;</span></div><div class="line"><span class="stringliteral">}</span></div></div><!-- fragment --></div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a6823d96f7e9b2519f8684c0d7304db16"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6823d96f7e9b2519f8684c0d7304db16">&#9670;&nbsp;</a></span>BytesAvailable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int LinkOS.Plugin.Abstractions.IConnection.BytesAvailable </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns an estimate of the number of bytes that can be read from this connection without blocking. </p>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Implemented in <a class="el" href="class_link_o_s_1_1_plugin_1_1_connection_implementation.html#aeedd5b5bb413ec7a8f1a2bffed04afa3">LinkOS.Plugin.ConnectionImplementation</a>.</p>

</div>
</div>
<a id="acf1591930417d3810777bf573bcf424c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf1591930417d3810777bf573bcf424c">&#9670;&nbsp;</a></span>Close()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void LinkOS.Plugin.Abstractions.IConnection.Close </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Closes this connection and releases any system resources associated with the connection. </p>

<p>Implemented in <a class="el" href="class_link_o_s_1_1_plugin_1_1_connection_implementation.html#a022f73d44c2029cb9f090782e240f41e">LinkOS.Plugin.ConnectionImplementation</a>.</p>

</div>
</div>
<a id="a229b2a034ba522db8fb76620c53833d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a229b2a034ba522db8fb76620c53833d9">&#9670;&nbsp;</a></span>Initialize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void LinkOS.Plugin.Abstractions.IConnection.Initialize </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>connectionString</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a new connection. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">connectionString</td><td>The format of the input string is: [prefix:] address [: port_number(s)]<br />
 Prefix is either TCP_MULTI, TCP, TCP_STATUS, BT_MULTI, BT, or BT_STATUS<br />
 The format of address depends on the prefix and OS:<br />
 &amp;#xA0;&amp;#xA0;&amp;#xA0;BT : Android - address is the printer's BT MAC address. iOS - address is the printer's serial number.<br />
 &amp;#xA0;&amp;#xA0;&amp;#xA0;TCP : Android - address is either a DNS name or an IPv4 address. iOS - address is an IPv4 address.<br />
 port_number(s) is optional, and only applicable for TCP connections.<br />
 <b>iOS Considerations:</b>TCP_MULTI, BT_MULTI, and BT_STATUS are not availible. TCP IPv4 address only, DNS name not supported.<br />
 Examples :<br />
 <div class="fragment"><div class="line">TCP:ZBR3054027:9100</div><div class="line">TCP_STATUS:10.1.2.3</div><div class="line">BT:11:22:33:44:55:66</div><div class="line">BT:XXQLJ112000026</div><div class="line">10.1.2.3</div></div><!-- fragment --></td></tr>
  </table>
  </dd>
</dl>

<p>Implemented in <a class="el" href="class_link_o_s_1_1_plugin_1_1_connection_implementation.html#ab06c11d2f2a7cebab3154e40547ac3d6">LinkOS.Plugin.ConnectionImplementation</a>.</p>

</div>
</div>
<a id="ac98359486a4615a82599bdcfdd19001b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac98359486a4615a82599bdcfdd19001b">&#9670;&nbsp;</a></span>Open()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void LinkOS.Plugin.Abstractions.IConnection.Open </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Opens the connection to a device. </p>

<p>Implemented in <a class="el" href="class_link_o_s_1_1_plugin_1_1_connection_implementation.html#ac1097b65775ea67902034d4f7a5c725a">LinkOS.Plugin.ConnectionImplementation</a>.</p>

</div>
</div>
<a id="a24bcf5587bd6317103b977fd28e49e2a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a24bcf5587bd6317103b977fd28e49e2a">&#9670;&nbsp;</a></span>Read()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">byte [] LinkOS.Plugin.Abstractions.IConnection.Read </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads all the available data from the connection. </p>
<dl class="section return"><dt>Returns</dt><dd>received data</dd></dl>

<p>Implemented in <a class="el" href="class_link_o_s_1_1_plugin_1_1_connection_implementation.html#ae8df042e4f5c3c8bb0b346ae2da74cd8">LinkOS.Plugin.ConnectionImplementation</a>.</p>

</div>
</div>
<a id="aae11d04f71b88ce7bf45d116b2fc413c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae11d04f71b88ce7bf45d116b2fc413c">&#9670;&nbsp;</a></span>SendAndWaitForResponse()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">byte [] LinkOS.Plugin.Abstractions.IConnection.SendAndWaitForResponse </td>
          <td>(</td>
          <td class="paramtype">byte []&#160;</td>
          <td class="paramname"><em>dataToSend</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>initialResponseTimeout</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>responseCompletionTimeout</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>terminator</em> = <code>null</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sends dataToSend and returns the response data. The software returns immediately if the data received contains terminator. The connection must be open before this method is called. If sendAndWaitForResponse is called when a connection is closed, a ConnectionException is thrown. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dataToSend</td><td>byte array of data to send</td></tr>
    <tr><td class="paramname">initialResponseTimeout</td><td>The maximum time, in milliseconds, to wait for the initial response to be received. If no data is received during this time, the function returns a zero length array</td></tr>
    <tr><td class="paramname">responseCompletionTimeout</td><td>After the initial response, if no data is received for this period of time, the input is considered complete and the method returns</td></tr>
    <tr><td class="paramname">terminator</td><td>If the response contains this string, the input is considered complete and the method returns. May be used to avoid waiting for more data when the response is always terminated with a known string. Use null if no terminator is desired.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>received data</dd></dl>

<p>Implemented in <a class="el" href="class_link_o_s_1_1_plugin_1_1_connection_implementation.html#ac44ae6c1b25f2b36b45c6ed70c15cbc8">LinkOS.Plugin.ConnectionImplementation</a>.</p>

</div>
</div>
<a id="a8e15ba308cb1718116d64ed674978c89"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e15ba308cb1718116d64ed674978c89">&#9670;&nbsp;</a></span>WaitForData()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void LinkOS.Plugin.Abstractions.IConnection.WaitForData </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>maxTimeout</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Causes the currently executing thread to sleep until bytesAvailable() &gt; 0, or for a maximum of maxTimeout milliseconds. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">maxTimeout</td><td>maximum time in milliseconds to wait for an initial response from the printer.</td></tr>
  </table>
  </dd>
</dl>

<p>Implemented in <a class="el" href="class_link_o_s_1_1_plugin_1_1_connection_implementation.html#a00b494cee289050f23c95f354b2b6649">LinkOS.Plugin.ConnectionImplementation</a>.</p>

</div>
</div>
<a id="ad21fa9016f30fcedbbe9a75406d83ca3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad21fa9016f30fcedbbe9a75406d83ca3">&#9670;&nbsp;</a></span>Write()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void LinkOS.Plugin.Abstractions.IConnection.Write </td>
          <td>(</td>
          <td class="paramtype">byte []&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Writes data.length bytes from the specified byte array to this output stream. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>the data.</td></tr>
  </table>
  </dd>
</dl>

<p>Implemented in <a class="el" href="class_link_o_s_1_1_plugin_1_1_connection_implementation.html#a9eb9c142694792d80ae82b278fb8b0f7">LinkOS.Plugin.ConnectionImplementation</a>.</p>

</div>
</div>
<h2 class="groupheader">Property Documentation</h2>
<a id="a74c505246ad423309cceaa46e6032b59"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a74c505246ad423309cceaa46e6032b59">&#9670;&nbsp;</a></span>IsConnected</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool LinkOS.Plugin.Abstractions.IConnection.IsConnected</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">get</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns true if the connection is open. </p>

</div>
</div>
<a id="a01180f7815030926a98a96ca5ed87564"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a01180f7815030926a98a96ca5ed87564">&#9670;&nbsp;</a></span>MaxTimeoutForRead</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int LinkOS.Plugin.Abstractions.IConnection.MaxTimeoutForRead</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">get</span><span class="mlabel">set</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets or sets the maximum time, in milliseconds, to wait for any data to be received. Recommended setting before opening the connection. </p>

</div>
</div>
<a id="afa3fcb488c2ab3f389ae5dc18c3f0c68"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa3fcb488c2ab3f389ae5dc18c3f0c68">&#9670;&nbsp;</a></span>TimeToWaitAfterRead</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int LinkOS.Plugin.Abstractions.IConnection.TimeToWaitAfterRead</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">get</span><span class="mlabel">set</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Ignored in Android. In iOS Bluetooth -overrides the time the read() method will wait after reading data from the stream. <br />
The default time is 10ms. This method is used to adapt to different Bluetooth radio performance requirements. <br />
If you notice an issues writing bytes, try increasing this time. </p>

</div>
</div>
<a id="a78496cf1f8d71d2cb75a23757356ab02"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a78496cf1f8d71d2cb75a23757356ab02">&#9670;&nbsp;</a></span>TimeToWaitAfterWrite</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int LinkOS.Plugin.Abstractions.IConnection.TimeToWaitAfterWrite</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">get</span><span class="mlabel">set</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Ignored in Android. In iOS Bluetooth -overrides the time the write() method will wait after writing data to the stream. <br />
The default time is 60ms. This method is used to adapt to different Bluetooth radio performance requirements. <br />
If you notice an issues writing bytes, try increasing this time. </p>

</div>
</div>
<a id="a93ee020bd493ba8d312e3ecfb597670e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93ee020bd493ba8d312e3ecfb597670e">&#9670;&nbsp;</a></span>TimeToWaitForMoreData</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int LinkOS.Plugin.Abstractions.IConnection.TimeToWaitForMoreData</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">get</span><span class="mlabel">set</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets or sets the maximum time, in milliseconds, to wait in-between reads after the initial read. Recommended setting before opening the connection. </p>

</div>
</div>
<hr/>The documentation for this interface was generated from the following file:<ul>
<li>C:/Users/jkimball/xamarin-sdk/Link_OS_SDK_for_Xamarin_Portable/LinkOS/LinkOS.Plugin.Abstractions/IConnection.cs</li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespace_link_o_s.html">LinkOS</a></li><li class="navelem"><a class="el" href="namespace_link_o_s_1_1_plugin.html">Plugin</a></li><li class="navelem"><a class="el" href="namespace_link_o_s_1_1_plugin_1_1_abstractions.html">Abstractions</a></li><li class="navelem"><a class="el" href="interface_link_o_s_1_1_plugin_1_1_abstractions_1_1_i_connection.html">IConnection</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.14 </li>
  </ul>
</div>
</body>
</html>
