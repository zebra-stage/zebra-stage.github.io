
<!DOCTYPE html>
<html lang="en"><head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Online Documentation for Zebra Technologies developer tools and utiltiescomp including EMDK for Android, EMDK for Xamarin, StageNow, Enterprise Browser.">
    <meta name="author" content="Zebra Technologies">
    <meta name="google-site-verification" content="i4B78BrWnNy8ShJwe5feRW3jO3HE6gfYlYqYbxfl8yY">
    <meta name="msvalidate.01" content="6B651B00161BCE79B8950AC09D5C4C75">
    <meta title="Staging Service APIs">
    <title>Staging Service APIs - Zebra Technologies Techdocs</title>
    <!-- core CSS -->
    <link href="/css/bootstrap.min.css" rel="stylesheet">
    <link href="/css/font-awesome.min.css" rel="stylesheet">
    <link href="/css/animate.min.css" rel="stylesheet">
    <link href="/css/owl.carousel.css" rel="stylesheet">
    <link href="/css/owl.transitions.css" rel="stylesheet">
    <link href="/css/prettyPhoto.css" rel="stylesheet">
    <link href="/css/main.css" rel="stylesheet">
    <link href="/css/responsive.css" rel="stylesheet">
    <link href="/css/prettify.css" rel="stylesheet">
    <link href="/css/bootstrap-treenav.min.css" rel="stylesheet">
    <!--[if lt IE 9]>
    <script src="js/html5shiv.js"></script>
    <script src="js/respond.min.js"></script>
    <![endif]--> 

    <script src="//load.sumome.com/" data-sumo-site-id="699cb66cf4dc59352efb45705526d15cbe314e1cd43f7761b94d96f3cf7338e8" async="async"></script>
    <link rel="shortcut icon" href="/favicon.ico">
<script src="/js/jquery.js"></script></head><!--/head-->


<body id="home" class="homepage" data-spy="scroll" data-offset="100" data-target="#toc">

    <header id="header">
        <nav id="main-menu" class="navbar navbar-default navbar-fixed-top" role="banner">
            <div class="container-fluid">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="/"><img src="/images/logo.png" alt="logo" style="max-height:66px;float: inherit;
    padding-right: 3px;"></a> 
                    
                   
                </div>
                <div class="collapse navbar-collapse navbar-left">
                    <ul class="nav navbar-nav">
                        <li class="navbar-text pull-left"><strong>TECHDOCS</strong></li>
                        <p class="navbar-text">
                                            EMM Toolkit
                                            2.0
                        </p>

                    </ul>
                </div>
                <div class="collapse navbar-collapse navbar-right">
                    <ul class="nav navbar-nav">
                        


                        <li>
                            <a href="/emmtk/2-0/guide/about">
                                    About
                            </a>
                        </li>
                        <li>
                            <a href="/emmtk/2-0/guide/faq">
                                    FAQ
                            </a>
                        </li>
                        <li>
                            <a href="/emmtk/2-0/guide/migrateaedo">
                                    Migrate
                            </a>
                        </li>
                        <li>
                            <a href="/emmtk/2-0/guide/enrollaedo">
                                    Enroll
                            </a>
                        </li>
                        <li>
                            <a href="/emmtk/2-0/guide/persistence">
                                    Persist
                            </a>
                        </li>
                        <li>
                            <a href="/mx">
                                    MX
                            </a>
                        </li>
                        <li>
                            <a href="/emmtk/2-0/guide/functionmap">
                                    Function Maps
                            </a>
                        </li>
                        <li>
                            <a href="/emmtk/2-0/guide/glossary">
                                    Glossary
                            </a>
                        </li>
                        <li>
                            <a href="/emmtk/2-0/guide/api">
                                    APIs
                            </a>
                        </li>
                        <li>
                            <a href="/emmtk/2-0/guide">
                                    More...
                            </a>
                        </li>
                        <li>
                            <a href="/emmtk/2-0/search">
                                    <i class="fa fa-search"></i>
                            </a>
                        </li>
                        
                        <!-- <li ><a href="/products">SDKs</a></li>
                        <li ><a href="/samples">Samples</a></li>
                        <li ><a href="/guides">Guides</a></li>
                        <li ><a href="/tutorials">Tutorials</a></li>
                        <li ><a href="/apis">APIs</a></li> -->
                        <!-- <li><a href="#"><input type="text" class="st-default-search-input"></a></li> -->
                    </ul>
                </div>
            </div><!--/.container-->
        </nav><!--/nav-->
    </header><!--/header-->
<div class="container-fluid">
    <section id="blog">
        <div class="">
            <section class="content-with-sidebar">
            <div class="row">
                <div class="col-sm-3 hidden-sm hidden-xs" id="sidebar">
                    
                    
                    <nav id="toc" data-toggle="toc" data-spy="affix" style="height: 75%; max-width: 225px; overflow-y: auto; ">
                        
                        <ul class="nav">
                            <li><strong>Staging Service APIs</strong></li>
                        </ul>
                    </nav>
                    <div class="modal fade" id="modal-smartdocs" tabindex="-1" role="dialog" aria-labelledby="basicModal" aria-hidden="true" data-backdrop="true">
                    	<div class="modal-dialog">
                    		<div class="modal-content">
                    			<div class="modal-header">
                    				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">X</button>
                    			</div>
                    			<div class="modal-body">
                    				<form>
                    				  <div class="form-group">
                    				    <label for="exampleInputEmail1">MX Version On Device:</label>
                    				    <select class="form-control">
                    					  <option value="4.0">4.0</option>
                    					  <option value="4.1">4.1</option>
                    					  <option value="4.2">4.2</option>
                    					  <option value="4.3">4.3</option>
                    					  <option value="5.0">5.0</option>
                    					</select>
                    				  </div>						
                    				  <div class="form-group">
                    				    <label for="exampleInputEmail1">OSX Version On Device:</label>
                    				    <select class="form-control">
                    					  <option value="1.0">1.0</option>
                    					  <option value="1.2">1.2</option>
                    					  <option value="1.3.4-56">1.3.4-56</option>
                    					  <option value="3.4">3.4</option>
                    					  <option value="3.5">3.5</option>
                    					  <option value="3.6">3.6</option>
                    					  <option value="4.1">4.1</option>
                    					  <option value="4.2">4.2</option>
                    					  <option value="4.3">4.3</option>
                    					  <option value="4.4">4.4</option>
                    					</select>
                    				  </div>						
                    				  <div class="form-group">
                    				    <label for="exampleInputEmail1">Android Version On Device:</label>
                    				    <select class="form-control">
                    					  <option value="23">6.0 Marshmallow</option>
                    					  <option value="22">5.1 Lollipop</option>
                    					  <option value="21">5.0 Lollipop</option>
                    					  <option value="19">4.4 Kitkat</option>
                    					  <option value="18">4.3 Jellybean</option>
                    					  <option value="17">4.2.x Jellybean</option>
                    					  <option value="16">4.1.x Jellybean</option>
                    					  <option value="15">4.0.3-4.0.4 Ice Cream Sandwich</option>
                    					  <option value="14">4.0-4.0.2 Ice Cream Sandwich</option>
                    					  <option value="10">2.3.3-2.3.4 Gingerbread</option>
                    					</select>
                    				  </div>
                    				  <div class="form-group">
                    				  	<button class="primary" id="btn_SaveSmartDocOptions">Save Changes</button><button class="primary" id="btn_ClearSmartDocOptions">Clear Changes</button>
                    				  </div>
                    				</form>
                    			</div>
                    	</div>
                      </div>
                    </div>
                    
                    <script type="text/javascript">
                        $(document).ready(function() {
                        	$( "#btn_SaveSmartDocOptions" ).click(function() {
                      			console.log('Saving Options');
                      			$("#modal-smartdocs").modal({show: false});
                    		});
                        	$( "#btn_SaveSmartDocOptions" ).click(function() {
                      			console.log('Clearing Options');
                      			$("#modal-smartdocs").modal({show: false});
                    		});
                        });
                    </script><link rel="stylesheet" href="https://cdn.rawgit.com/afeld/bootstrap-toc/v0.3.0/dist/bootstrap-toc.min.css">
                    <script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v0.3.0/dist/bootstrap-toc.min.js"></script>
                    <script type="text/javascript">
                        $(document).ready(function() {
                    
                        });
                    
                    
                    </script>
                </div>                
                <div class="col-sm-9 ">
                    <div class="row">
                        <div class="col-sm-12">
                            <section id="cta" class="wow fadeIn">
                                <div class="">
                                    <h1 id="staging-service-apis" class="anchor"><a class="heading-anchor" href="#staging-service-apis"><span></span></a>Staging Service APIs</h1>
                                    <p>
                                            EMM Toolkit
                                            2.0
                                    </p>
                                </div>
                            </section>                    
                        </div>
                    </div>
                    <div id="mainContent" class="row">
                        <div class="col-sm-12">
                            <div class="blog-post blog-large wow fadeInLeft" data-wow-duration="300ms" data-wow-delay="0ms">
                            <!-- Start of guide -->
                                <div class="service-box wow fadeInRight">
                                    <div class="">

                                        <p></p><h2 id="draft" class="anchor"><a class="heading-anchor" href="#draft"><span></span></a><code>DRAFT</code></h2>

<p><strong><em>Information subject to change without notice</em></strong>. </p>

<hr>

<h2 id="overview" class="anchor"><a class="heading-anchor" href="#overview"><span></span></a>Overview</h2>

<p>This document provides interface specifications for the cloud-based Staging Service APIs, part of the Zebra Enterprise Mobility Management Toolkit (EMMTK). These APIs are intended for use by Zebra EMM vendors to generate StageNow barcodes for enrolling devices in an EMM solution. </p>

<h3 id="prerequisites" class="anchor"><a class="heading-anchor" href="#prerequisites"><span></span></a>Prerequisites</h3>

<ul>
<li><strong>A computer running Windows 7</strong> with StageNow 2.10.1 or higher</li>

<li><strong>An EMM server with internet connectivity</strong> </li>
</ul>

<blockquote>
  <p><strong>Note: For computers running Windows 10</strong>, <a href="/stagenow">StageNow 3.0</a> or higher is required. </p>
</blockquote>

<!-- 
* **One or more supported Zebra devices**
* **A printer** for printing barcodes
 -->

<!-- 
**Interfaces are of two types**: 

* **[REST APIs](#rest)**: generating barcodes, error reporting and other functions
* **

Second, User interface which can be invoked from the EMM’sWeb user interface. When the UI is invoked, Zebra EMM toolkit will take control over the UI and take user through the steps to capture the information required before generating the barcode. In case of any failures during MDM enrollment, the toolkit can also be used upload the error file and get error message and some assistance if possible. 2. Enroll in MDM, direct barcode generation: This API interface can be used to generate StageNow barcode directly by providing the XML settings file (which can be generated by using StageNow desktop tool)as input to the API
 -->

<p><strong><em>Information subject to change without notice</em></strong>. </p>

<hr>

<div id="rest"></div>

<h2 id="restapis" class="anchor"><a class="heading-anchor" href="#restapis"><span></span></a>REST APIs</h2>

<h3 id="generatebarcodes" class="anchor"><a class="heading-anchor" href="#generatebarcodes"><span></span></a>Generate Barcodes</h3>

<p>Use this API to generate StageNow barcodes directly by using XML-based settings files as input to the API. Settings files are generated by the StageNow desktop tool. </p>

<p><strong>URL</strong>: <code>https://emmtk.zebra.com/v1/generate-barcode</code></p>

<p>Note: For on-premise deployments, change "<code>emmtk.zebra.com</code>" in the URL above to match the host domain in use. </p>

<p><strong>METHOD</strong>: POST</p>

<p>Called with <code>HTTP</code> request method <code>POST</code>. The parameters to be sent as part of the body are specified in <code>Data Params</code> section.</p>

<p><strong>URL PARAMS</strong>: NONE</p>

<p><strong>HTTP headers</strong>: <code>Content-Type: application/x-www-form-urlencoded</code></p>

<p><strong>DATA PARAMS</strong>:</p>

<p>The body of the <code>HTTP</code> request should contain the following data in JSON format:</p>

<ul>
<li><strong>ConfigData</strong>: 


<ul>
<li><strong>settingxml</strong>: Base64encoded XML string in accordance with the format specified by the MX framework.</li>

<li><strong>mxVersion</strong>: Version of MX for which the XML settings file is targeted.</li></ul>
</li>

<li><strong>BarcodeInfo</strong>


<ul>
<li><strong>type</strong>: String indicating type of barcode to be generated. <br>
Possible values:


<ul>
<li><code>linear</code></li>

<li><code>pdf417</code> (default if no value is passed) </li></ul>
</li>

<li><strong>profileName</strong>: String printed as meta info in the generated barcode page for reference. A random name (i.e. "StageNow_profile31") is used if no value is passed.</li>

<li><strong>brandingId</strong>: Optional integer parameter to identify branding information included in the generated barcode. <strong>Reserved for future use</strong>.</li>

<li><strong>comments</strong>: Optional string with instructions included in the document for display to the staging user. If no value is passed, takes comments section of the barcode page.</li></ul>
</li>
</ul>

<p><strong>Success Response</strong>: Base64-encoded PDF file in binary format with <code>HTTP</code> status code 200.</p>

<p><strong>Error Response</strong>: Standard <code>HTTP</code> error codes are used to indicate the error. Specific errors are part of error message in JSON format. </p>

<p><strong>Examples</strong>:</p>

<ul>
<li>Error code <code>400</code>: XML input malformed or not found.</li>

<li>Error code <code>503</code>: Service cannot be fulfilled due to overloading.</li>
</ul>

<p><strong>Sample request body</strong></p>

<pre class="prettyprint"><code>
{
    "configData":{
        "settingXML":"&lt;wap-provisioningdoc&gt;&lt;characteristicversion=\"4.5\"type=\"Wi-Fi\"&gt;&lt;characteristictype=\"System\"&gt;&lt;parmname=\"WiFiAction\"value=\"enable\"/&gt;&lt;/characteristic&gt;&lt;parmname=\"UseRegulatory\"value=\"0\"/&gt;&lt;parmname=\"UseDiagnosticOptions\"value=\"0\"/&gt;&lt;parmname=\"UseAdvancedOptions\"value=\"0\"/&gt;&lt;/characteristic&gt;&lt;/wap-provisioningdoc&gt;",
        "mxVersion":"6.2"
        },
    "barcodeInfo":{
        "type":["PDF417"],
        "profileName":
        "myStagingProfile",
        "brandingId":1,
        "comments":"Scanthebarcodepage1and2"
        }
}
</code></pre>

<blockquote>
  <p>Note: Notice the quote marks in <code>settingXML</code> section are escaped</p>
</blockquote>

<h3 id="errorreporting" class="anchor"><a class="heading-anchor" href="#errorreporting"><span></span></a>Error reporting</h3>

<p>This interface is used in case of failure after scanning the EMM's enrollment barcode using StageNow client on the device. The interface provides a UI to upload the error file and receive an error message, and might provide insight for determining required changes (if possible).</p>

<p><strong>URL</strong>: <code>https://emmtk.zebra.com/v1/errorreport</code></p>

<blockquote>
  <p>Note: For on-premise deployments, change "<code>emmtk.zebra.com</code>" to match the host domain name in use. </p>
</blockquote>

<p><strong>METHOD</strong>: POST</p>

<p>The API should be called with <code>HTTP</code> request method <code>POST</code>. The parameters to be sent as part of body is specified in <code>URL Params</code> section.</p>

<p><strong>URL PARAMS</strong>:</p>

<ul>
<li><strong>errorfile</strong>: URL encoded in error XML. If this parameter is not provided, the invoked EMMTKv3 UI asks user to upload the error XML before showing the error message and suggestions. </li>
</ul>

<p><strong>Example</strong>:</p>

<pre class="prettyprint"><code>`%3Cwap-provisioningdoc%3E%0D%0A%3Ccharacteristic-error+type%3D%22AppMgr%22+version%3D%225.1%22+desc%3D%22missing%22%3E%0D%0A%3Cparm-error+name%3D%22Action%22+value%3D%22Install%22+desc%3D%22apk+doesnot+exist+in+the+path%22%2F%3E%0D%0A%3Cparm+name%3D%22APK%22+value%3D%22%2Fmnt%2Fsdcard%2FAKNotepad%22%2F%3E%0D%0A%3C%2Fcharacteristic-error%3E%0D%0A%3C%2Fwap-provisioningdoc%3E%0D%0A`
</code></pre>

<ul>
<li><strong>isLogFile</strong>: Flag (true|false) indicating whether the “errorfile” parameter contains error XML or is error log file in which the error XML is embedded.</li>

<li><strong>settingxml</strong>: Optional parameter with URL encoded XML settings file for which the error was seen. Helps the toolkit determine the cause of the error most accurately.</li>
</ul>

<p><strong>Success Response</strong>: An error message along with a possible details is rendered in the web page.</p>

<p><strong>Error Response</strong>: A web page containing the error message and the possible cause of the error is shown.</p>

<!-- 

<div id="uiinterface"></div>

## UI Interface

The UI interface which can be invoked from the EMM’s Web user interface. When the UI is invoked, Zebra EMM toolkit will take control over the UI and take the user through the steps to capture the information required before generating the barcode.

 -->

<hr>

<h3 id="prerequisites-1" class="anchor"><a class="heading-anchor" href="#prerequisites-1"><span></span></a>Pre-Requisites</h3>

<p>To use this interface, the EMM should work with the Zebra technical team to come up with tailored UI flow (WDD), which is unique to each EMM vendor. A unique ID is provided to EMMs for the generated flow (WDD), which is passed as a parameter to the interface.</p>

<h3 id="generatebarcode" class="anchor"><a class="heading-anchor" href="#generatebarcode"><span></span></a>Generate barcode</h3>

<p><strong>URL</strong>: <code>https://emmtk.zebra.com/v1/enroll/{wizard_id}?mx-version=6.0</code></p>

<blockquote>
  <p>Note: Replace the "<code>wizard_id</code>" above with the ID provided by Zebra. For on-premise deployments, change "<code>emmtk.zebra.com</code>" to match the host domain name in use. </p>
</blockquote>

<p><strong>METHOD</strong>: GET</p>

<p>The API should be called with <code>HTTP</code> request method <code>GET</code>. </p>

<p><strong>URL PARAMS</strong>: </p>

<ul>
<li><strong>wizard_id</strong>: <strong>MANDATORY</strong> parameter containing the unique ID of the wizard shared with EMMs when WDD is developed by Zebra.</li>

<li><strong>mxVersion</strong>: Version of MX for which the XML settings file is targeted.</li>
</ul>

<p><strong>Success Response</strong>: Barcode page will be rendered in the page from which this UI is invoked.</p>

<p><strong>Error Response</strong>: Web page containing the error message and possible cause of the error. </p>

<hr>

<h2 id="seealso" class="anchor"><a class="heading-anchor" href="#seealso"><span></span></a>See Also</h2>

<ul>
<li><a href="../about">About EMM Toolkit</a></li>

<li><a href="../guide">Other EMMTK Guides</a></li>
</ul><p></p>
                                        


                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                </div><!--/.col-sm-6-->
            </div>
            </section>
        </div>
    </section>    

<div class="modal fade" id="basicModal" tabindex="-1" role="dialog" aria-labelledby="basicModal" aria-hidden="true" data-backdrop="true">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal" aria-hidden="true">X</button>
					</div>
					<div class="modal-body">
						<div id="modalImg">
						
						</div>
					</div>
			</div>
		  </div>
		</div> </div>
         <footer id="footer" class="navbar-fixed-bottom">
            <div class="container-fluid">
                <div class="row">
                    <div class="col-sm-10">
                        © 2015 ZIH Corp and/or its affiliates. All rights reserved. Zebra and the stylized Zebra head are trademarks of ZIH Corp., registered in many jurisdictions worldwide. All other trademarks are the property of their respective owners. <a href="https://www.zebra.com/us/en/about-zebra/company-information/compliance/information-privacy/terms-of-use.html">Terms &amp; Conditions</a>
                    </div>
                    <div class="col-sm-2">
                        <ul class="social-icons">
                            <li><a href="http://www.facebook.com/pages/Zebra-Technologies/107703715989073"><i class="fa fa-facebook"></i></a></li>
                            <li><a href="https://twitter.com/ZebraDevs"><i class="fa fa-twitter"></i></a></li>
                            <li><a href="http://www.youtube.com/zebratechnologies/"><i class="fa fa-youtube"></i></a></li>
                            <li><a href="https://www.linkedin.com/groups?home=&amp;gid=3220074&amp;trk=anet_ug_hm&amp;goback=%2Egmr_3220074"><i class="fa fa-linkedin"></i></a></li>
                            <li><a href="https://github.com/developer-zebra"><i class="fa fa-github"></i></a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </footer><!--/#footer-->
    <script src="/js/bootstrap.min.js"></script>
    <script src="/js/owl.carousel.min.js"></script>
    <script src="/js/mousescroll.js"></script>
    <script src="/js/smoothscroll.js"></script>
    <script src="/js/jquery.prettyPhoto.js"></script>
    <script src="/js/jquery.isotope.min.js"></script>
    <script src="/js/jquery.inview.min.js"></script>
    <script src="/js/wow.min.js"></script>
    <script src="/js/bootstrap-treenav.min.js"></script>
    <script src="/js/prettify.js"></script>
    <script src="/js/zepto.js"></script>
    <script src="/js/jquery.waterfall.js"></script>   
    <script src="/js/main.js"></script>

<script type="text/javascript">
  (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
  (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
  e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
  })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

  _st('install','zRzEsAUhWTTkrdEN2YfA','2.0.0');
</script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-72584442-1', 'auto');
  ga('send', 'pageview');

</script> 

<script>
    ChatraID = 'QDvZ76min4DhLW5vJ';
    (function(d, w, c) {
        var n = d.getElementsByTagName('script')[0],
            s = d.createElement('script');
        w[c] = w[c] || function() {
            (w[c].q = w[c].q || []).push(arguments);
        };
        s.async = true;
        s.src = (d.location.protocol === 'https:' ? 'https:': 'http:')
            + '//call.chatra.io/chatra.js';
        n.parentNode.insertBefore(s, n);
    })(document, window, 'Chatra');
</script>         


</body></html>