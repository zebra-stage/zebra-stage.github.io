
<!DOCTYPE html>
<html lang="en"><head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Online Documentation for Zebra Technologies developer tools and utiltiescomp including EMDK for Android, EMDK for Xamarin, StageNow, Enterprise Browser.">
    <meta name="author" content="Zebra Technologies">
    <meta name="google-site-verification" content="i4B78BrWnNy8ShJwe5feRW3jO3HE6gfYlYqYbxfl8yY">
    <meta name="msvalidate.01" content="6B651B00161BCE79B8950AC09D5C4C75">
    <meta title="SAP ITSmobile for Android">
    <title>SAP ITSmobile for Android - Zebra Technologies TechDocs</title>
    <!-- core CSS -->
    <link href="/css/bootstrap.min.css" rel="stylesheet">
    <link href="/css/font-awesome.min.css" rel="stylesheet">
    <link href="/css/animate.min.css" rel="stylesheet">
    <link href="/css/owl.carousel.css" rel="stylesheet">
    <link href="/css/owl.transitions.css" rel="stylesheet">
    <link href="/css/prettyPhoto.css" rel="stylesheet">
    <link href="/css/main.css" rel="stylesheet">
    <link href="/css/responsive.css" rel="stylesheet">
    <link href="/css/prettify.css" rel="stylesheet">
    <link href="/css/bootstrap-treenav.min.css" rel="stylesheet">
    <!--[if lt IE 9]>
    <script src="js/html5shiv.js"></script>
    <script src="js/respond.min.js"></script>
    <![endif]--> 

    <script src="//load.sumome.com/" data-sumo-site-id="699cb66cf4dc59352efb45705526d15cbe314e1cd43f7761b94d96f3cf7338e8" async="async"></script>
    <link rel="shortcut icon" href="/favicon.ico">
<script src="/js/jquery.js"></script></head><!--/head-->


<body id="home" class="homepage" data-spy="scroll" data-offset="100" data-target="#toc">

    <header id="header">
        <nav id="main-menu" class="navbar navbar-default navbar-fixed-top" role="banner">
            <div class="container-fluid">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="/"><img src="/images/logo.png" alt="logo" style="max-height:42px;float: inherit;
    padding-right: 3px;"></a> 
                    
                   
                </div>
                <div class="collapse navbar-collapse navbar-left">
                    <ul class="nav navbar-nav">
                        <li class="navbar-text pull-left"><strong>TechDocs</strong></li>
                        <li class="dropdown">
                          <button class="btn btn-default dropdown-toggle" type="button" data-toggle="dropdown"> Enterprise Browser 2.0
                          <span class="caret"></span></button>
                          <ul class="dropdown-menu">
                                <li><a onclick="changeVersion('2-0','1-4','/enterprise-browser/2-0/guide/about')">Enterprise Browser 1.4</a></li>
                          </ul>
                        </li>                    
                    </ul>
                </div>
                <div class="collapse navbar-collapse navbar-right">
                    <ul class="nav navbar-nav">
                        


                        <li>
                            <a href="/enterprise-browser/2-0/guide/about">
                                    About
                            </a>
                        </li>
                        <li>
                            <a href="/enterprise-browser/2-0/guide/gettingstarted/">
                                    Start Here
                            </a>
                        </li>
                        <li>
                            <a href="/enterprise-browser/2-0/tutorial/">
                                    Tutorials
                            </a>
                        </li>
                        <li>
                            <a href="/enterprise-browser/2-0/guide/samples">
                                    Sample Apps
                            </a>
                        </li>
                        <li>
                            <a href="/enterprise-browser/2-0/guide">
                                    Guides
                            </a>
                        </li>
                        <li>
                            <a href="/enterprise-browser/2-0/guide/licensing">
                                    License
                            </a>
                        </li>
                        <li>
                            <a href="/enterprise-browser/2-0/guide/migration">
                                    Migrate
                            </a>
                        </li>
                        <li>
                            <a href="/enterprise-browser/2-0/guide/configreference">
                                    Config.xml
                            </a>
                        </li>
                        <li>
                            <a href="/enterprise-browser/2-0/api">
                                    APIs
                            </a>
                        </li>
                        <li>
                            <a href="https://www.youtube.com/playlist?list=PLce6-npz5dKcUY98npViY6QbuL3yhAXCx">
                                    <i class="fa fa-youtube-play"></i>
                            </a>
                        </li>
                        <li>
                            <a href="/enterprise-browser/2-0/download">
                                    <i class="fa fa-download"></i>
                            </a>
                        </li>
                        <li>
                            <a href="/enterprise-browser/2-0/search">
                                    <i class="fa fa-search"></i>
                            </a>
                        </li>
                        <!-- <li ><a href="/products">SDKs</a></li>
                        <li ><a href="/samples">Samples</a></li>
                        <li ><a href="/guides">Guides</a></li>
                        <li ><a href="/tutorials">Tutorials</a></li>
                        <li ><a href="/apis">APIs</a></li> -->
                        <!-- <li><a href="#"><input type="text" class="st-default-search-input"></a></li> -->
                    </ul>
                </div>
            </div><!--/.container-->
        </nav><!--/nav-->
    </header><!--/header-->
<div class="container-fluid">
    <section id="blog">
        <div class="">
            <section class="content-with-sidebar">
            <div class="row">
                <div class="col-sm-3 hidden-sm hidden-xs" id="sidebar">
                    
                    
                    <nav id="toc" data-toggle="toc" data-spy="affix" style="height: 75%; max-width: 225px; overflow-y: auto; ">
                        
                        <ul class="nav">
                            <li><strong>SAP ITSmobile for Android</strong></li>
                        </ul>
                    </nav>
                    <div class="modal fade" id="modal-smartdocs" tabindex="-1" role="dialog" aria-labelledby="basicModal" aria-hidden="true" data-backdrop="true">
                    	<div class="modal-dialog">
                    		<div class="modal-content">
                    			<div class="modal-header">
                    				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">X</button>
                    			</div>
                    			<div class="modal-body">
                    				<form>
                    				  <div class="form-group">
                    				    <label for="exampleInputEmail1">MX Version On Device:</label>
                    				    <select class="form-control">
                    					  <option value="4.0">4.0</option>
                    					  <option value="4.1">4.1</option>
                    					  <option value="4.2">4.2</option>
                    					  <option value="4.3">4.3</option>
                    					  <option value="5.0">5.0</option>
                    					</select>
                    				  </div>						
                    				  <div class="form-group">
                    				    <label for="exampleInputEmail1">OSX Version On Device:</label>
                    				    <select class="form-control">
                    					  <option value="1.0">1.0</option>
                    					  <option value="1.2">1.2</option>
                    					  <option value="1.3.4-56">1.3.4-56</option>
                    					  <option value="3.4">3.4</option>
                    					  <option value="3.5">3.5</option>
                    					  <option value="3.6">3.6</option>
                    					  <option value="4.1">4.1</option>
                    					  <option value="4.2">4.2</option>
                    					  <option value="4.3">4.3</option>
                    					  <option value="4.4">4.4</option>
                    					</select>
                    				  </div>						
                    				  <div class="form-group">
                    				    <label for="exampleInputEmail1">Android Version On Device:</label>
                    				    <select class="form-control">
                    					  <option value="23">6.0 Marshmallow</option>
                    					  <option value="22">5.1 Lollipop</option>
                    					  <option value="21">5.0 Lollipop</option>
                    					  <option value="19">4.4 Kitkat</option>
                    					  <option value="18">4.3 Jellybean</option>
                    					  <option value="17">4.2.x Jellybean</option>
                    					  <option value="16">4.1.x Jellybean</option>
                    					  <option value="15">4.0.3-4.0.4 Ice Cream Sandwich</option>
                    					  <option value="14">4.0-4.0.2 Ice Cream Sandwich</option>
                    					  <option value="10">2.3.3-2.3.4 Gingerbread</option>
                    					</select>
                    				  </div>
                    				  <div class="form-group">
                    				  	<button class="primary" id="btn_SaveSmartDocOptions">Save Changes</button><button class="primary" id="btn_ClearSmartDocOptions">Clear Changes</button>
                    				  </div>
                    				</form>
                    			</div>
                    	</div>
                      </div>
                    </div>
                    
                    <script type="text/javascript">
                        $(document).ready(function() {
                        	$( "#btn_SaveSmartDocOptions" ).click(function() {
                      			console.log('Saving Options');
                      			$("#modal-smartdocs").modal({show: false});
                    		});
                        	$( "#btn_SaveSmartDocOptions" ).click(function() {
                      			console.log('Clearing Options');
                      			$("#modal-smartdocs").modal({show: false});
                    		});
                        });
                    </script><link rel="stylesheet" href="https://cdn.rawgit.com/afeld/bootstrap-toc/v0.3.0/dist/bootstrap-toc.min.css">
                    <script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v0.3.0/dist/bootstrap-toc.min.js"></script>
                    <script type="text/javascript">
                        $(document).ready(function() {
                    
                        });
                    
                    
                    </script>
                </div>                
                <div class="col-sm-9 ">
                    <div class="row">
                        <div class="col-sm-12">
                            <section id="cta" class="wow fadeIn">
                                <div class="">
                                    <h1 id="sap-itsmobile-for-android" class="anchor"><a class="heading-anchor" href="#sap-itsmobile-for-android"><span></span></a>SAP ITSmobile for Android</h1>
                                    <p>
                                            Enterprise Browser
                                            2.0
                                    </p>
                                </div>
                            </section>                    
                        </div>
                    </div>
                    <div id="mainContent" class="row">
                        <div class="col-sm-12">
                            <div class="blog-post blog-large wow fadeInLeft" data-wow-duration="300ms" data-wow-delay="0ms">
                            <!-- Start of guide -->
                                <div class="service-box wow fadeInRight">
                                    <div class="">

                                        <p></p><h2 id="overview" class="anchor"><a class="heading-anchor" href="#overview"><span></span></a>Overview</h2>

<p>This guide provides instructions for modifying an EB app for Android to work with ITSmobile, the SAP middleware system built around its Internet Transaction Server (ITS). ITSmobile provides browser-based access to SAP's ERP, SRM and other enterprise apps made with the company's proprietary dynpro language. Enterprise Browser apps can be built or adapted to work with ITSmobile, and thereby to access SAP back-end enterprise apps. Doing so requires familiarity with editing the <code>Config.xml</code> and the HTML file(s) of EB apps. </p>

<h4 id="eb20forsap" class="anchor"><a class="heading-anchor" href="#eb20forsap"><span></span></a>EB 2.0 for SAP</h4>

<p>Enterprise Browser 2.0 (and newer) includes an installation package (<code>EnterpriseBrowser_SAP_signed_v2.0.1.0.apk</code>) with 
a <code>Config.xml</code> file designed for organizations that are running SAP ITS mobile app(s) on Zebra Android devices. The standard <code>Config.xml</code> file also is included in the package, and can be activated using steps in the <a href="#sapvsstandardebpackage">config-switching section</a> below. </p>

<p>When migrating SAP apps from Windows Mobile/CE to Android, the most common problems relate to page-fitting and the absence of hardware function keys. To address these issues, organizations often maintain separate applications for different device-screen sizes and build HTML-based buttons to replace the missing hardware keys. </p>

<p>Enterprise Browser 2.0 helps address these and other migration issues. </p>

<hr>

<h2 id="sappackagefeatures" class="anchor"><a class="heading-anchor" href="#sappackagefeatures"><span></span></a>SAP Package Features</h2>

<h3 id="soundsupport" class="anchor"><a class="heading-anchor" href="#soundsupport"><span></span></a>Sound support</h3>

<p>SAP ITSmobile applications can be configured to play a sound to indicate the success or failure of a transaction, and the EB SAP package can be configured also to play these sounds. If different sounds are desired, <a href="../dominjectionandroid">DOM injection</a> can be used to play sounds stored on the device.</p>

<h3 id="sapkeyboards" class="anchor"><a class="heading-anchor" href="#sapkeyboards"><span></span></a>SAP Keyboards</h3>

<p>EB 2.0 includes SAP-specific keyboard layouts that leverage EB's custom <a href="../customize">ButtonBar features</a>. This helps to compensate for hardware keys missing from Android devices. <strong>The SAP keyboard by default displays a numeric layout</strong> whenever the focus of an app is on an input field. The default layout is easily changed by editing the <code>showKeyboard</code>/<code>hideKeyboard</code> JavaScript function in the <code>sapkeyboard.js</code> API.</p>

<p><strong>A function key layout</strong> allows SAP users to press function keys from the Software Input Panel (SIP) on demand, eliminating the need to modify the SAP application to include HTML buttons to emulate function keys. Each key on an EB keyboard can easily be configured to issue a keystroke or to run a script. For more information, see the <a href="../customize/button">ButtonBar Parameter guide</a>. </p>

<p>Logic in the <code>/android_sap/Sapkeyboard.js</code> file reads the SAP keyboard config paramaters from the <code>Config.xml</code> file and registers for <code>onfocus</code> and <code>keydown</code> events to control keyboard pop-up behavior. <strong>It's important to ensure that the functions below are called <em><u>after</u></em> showing or hiding a keyboard</strong>.</p>

<pre class="prettyprint"><code>//call to redraw the WebView when keyboard pops up:
metaReceiver.resizeWebviewOnButtonbarShown(); 

//call to redraw WebView when keyboard is hidden:
 metaReceiver.restoreWebviewOnButtonbarHidden(); 
</code></pre>

<hr>

<h2 id="configurationparameters" class="anchor"><a class="heading-anchor" href="#configurationparameters"><span></span></a>Configuration Parameters</h2>

<p>Enterprise Browser 2.0 (and newer) introduces configuration parameters that provide more control over the behavior of SAP apps.</p>

<h3 id="sapkeyboardparameters" class="anchor"><a class="heading-anchor" href="#sapkeyboardparameters"><span></span></a>SAP Keyboard Parameters</h3>

<p>Keyboard visibility and custom key layouts can be controlled through parameters in the <code>Config.xml</code> file. See the <a href="../configreference">Config.xml reference</a> for details. </p>

<h4 id="toshowthesapkeyboardoneverypage" class="anchor"><a class="heading-anchor" href="#toshowthesapkeyboardoneverypage"><span></span></a>To show the SAP keyboard on every page:</h4>

<pre class="prettyprint"><code>&lt;KeyboardVisibility value="alwaysOn"/&gt;
</code></pre>

<h4 id="toshowkeyboardondemandwhenaninputfieldisinfocus" class="anchor"><a class="heading-anchor" href="#toshowkeyboardondemandwhenaninputfieldisinfocus"><span></span></a>To show keyboard on demand when an input field is in focus:</h4>

<pre class="prettyprint"><code>
&lt;KeyboardConfiguration&gt;
    &lt;KeyboardVisibility value="onDemand"/&gt;
      &lt;ondemand&gt;
        &lt;onFocus value="1"/&gt;
      &lt;/ondemand&gt;  
&lt;/KeyboardConfiguration&gt; 
</code></pre>

<p><br></p>

<h4 id="displaythekeyboardwheneverthef10keyispressed" class="anchor"><a class="heading-anchor" href="#displaythekeyboardwheneverthef10keyispressed"><span></span></a>Display the keyboard whenever the F10 key is pressed:</h4>

<pre class="prettyprint"><code>
&lt;KeyboardConfiguration&gt;
    &lt;KeyboardVisibility value="onDemand"/&gt;
      &lt;ondemand&gt;
        &lt;onHardwarekeypress value="1"/&gt;
        &lt;HardwarekeyValue value="140"/&gt;
      &lt;/ondemand&gt;   
&lt;/KeyboardConfiguration&gt;
</code></pre>

<p><br></p>

<h4 id="displaythekeyboardwithf10keyiuoriuwheninputfieldisfocused" class="anchor"><a class="heading-anchor" href="#displaythekeyboardwithf10keyiuoriuwheninputfieldisfocused"><span></span></a>Display the keyboard with F10 key <i><u>OR</u></i> when input field is focused:</h4>

<pre class="prettyprint"><code>
&lt;KeyboardConfiguration&gt;
&lt;KeyboardVisibility value="onDemand"/&gt;
      &lt;ondemand&gt;
          &lt;onHardwarekeypress value="1"/&gt;
           &lt;HardwarekeyValue value="140"/&gt;
                    &lt;onFocus value="1"/&gt;
                 &lt;/ondemand&gt;    
&lt;/KeyboardConfiguration&gt;
</code></pre>

<p><br></p>

<h4 id="makethepageresizableonkeyboardpopuptoavoidvisibilityconcerns" class="anchor"><a class="heading-anchor" href="#makethepageresizableonkeyboardpopuptoavoidvisibilityconcerns"><span></span></a>Make the page re-sizable on keyboard pop-up to avoid visibility concerns:</h4>

<pre class="prettyprint"><code>
&lt;SIP&gt;
  &lt;ResizeOnButtonbar value="1"/&gt;        
&lt;/SIP&gt;
</code></pre>

<p><br></p>

<h4 id="setthepageasresizablewhilereservingaminimumsafeheightforthekeyboard" class="anchor"><a class="heading-anchor" href="#setthepageasresizablewhilereservingaminimumsafeheightforthekeyboard"><span></span></a>Set the page as re-sizable while reserving a minimum safe height for the keyboard:</h4>

<pre class="prettyprint"><code>
&lt;SIP&gt;
  &lt;ResizeOnButtonbar value="1"/&gt;
  &lt;ButtonBarMaxHeight value="default"/&gt; 
&lt;/SIP&gt;
</code></pre>

<p><br></p>

<h5 id="notes" class="anchor"><a class="heading-anchor" href="#notes"><span></span></a>Notes:</h5>

<ul>
<li><p><strong>If the default SAP keyboard layout is preferred</strong>, Zebra recommends using the "default" value for the <code>ButtonBarMaxHeight</code> parameter (as above). If a custom layout is to be used, the value should be specified (in pixels) to match the layout height.</p></li>

<li><p><strong>To disable the SAP custom keyboard on the MC93</strong> device running Android 8.O Oreo, update the <code>sapconfigreader.js</code> file on the device as follows: </p>

<pre class="prettyprint"><code>
// Replace line 66 in the "sapconfigreader.js" file with the JavaScript code below:
//
if(-1 != deviceModel.indexOf("mc92") || -1 != deviceModel.indexOf("mc33") || -1 != deviceModel.indexOf("mc67") || -1 != deviceModel.indexOf("tc20k") || -1 != deviceMo
</code></pre></li>
</ul>

<p>Location of the <code>sapconfigreader.js</code> on the device:</p>

<ul>
<li><code>\[InternalStorage]\Android\data\com.symbol.enterprisebrowser\android_sap</code></li>
</ul>

<hr>

<h3 id="pagefitting" class="anchor"><a class="heading-anchor" href="#pagefitting"><span></span></a>Page Fitting</h3>

<p>Like all pixel-based UI elements, SAP ITSmobile UI elements look smaller on high-resolution displays than on low-res ones. A page designed to fill the screen of a 640x480 display will occupy only a portion of a modern high-res display. To compensate, apps running on Enterprise Browser 2.0 (and newer) can use the ViewPort parameter, which reads device-specific display settings into the app at runtime. </p>

<h4 id="example" class="anchor"><a class="heading-anchor" href="#example"><span></span></a>Example</h4>

<pre class="prettyprint"><code>
&lt;ViewPort&gt;
  &lt;UseWideViewPort value="1"/&gt;
  &lt;ViewPortWidth value="device-width"/&gt;
  &lt;ViewPortInitialScale value="1.0"/&gt;
&lt;/ViewPort&gt;
</code></pre>

<p><br></p>

<p><strong>Supported meta tags</strong>:</p>

<ul>
<li><strong>UseWideViewPort -</strong> Value of "1" applies subsequent meta tags (default=0). </li>

<li><strong>ViewPortWidth -</strong> Sets the width of the page.</li>

<li><strong>ViewPortInitialScale -</strong> Sets the zoom level of the page when the app starts.</li>
</ul>

<p><strong>Possible values</strong>: </p>

<ul>
<li><strong>UseWideViewPort</strong>


<ul>
<li>1 (enabled), meta tags (below) are applied</li>

<li><strong>0 (disabled), meta tags are NOT applied (default)</strong></li></ul>
</li>

<li><strong>ViewPortWidth</strong> <a href="https://developer.mozilla.org/en-US/docs/Mozilla/Mobile/Viewport_meta_tag#Viewport_width_and_screen_width">more info</a>


<ul>
<li>Accepts <a href="https://www.w3.org/TR/css-device-adapt-1/">HTML5-spec viewport settings</a></li>

<li>Number of CSS pixels (i.e. 600) at 100% scale</li>

<li><strong>device-width -</strong> sets page width to match that of device</li></ul>
</li>

<li><strong>ViewPortInitialScale</strong> <a href="https://developer.mozilla.org/en-US/docs/Mozilla/Mobile/Viewport_meta_tag#Viewport_width_and_screen_width">more info</a>


<ul>
<li>Accepts <a href="https://www.w3.org/TR/css-device-adapt-1/">HTML5-spec viewport settings</a></li>

<li>Number corresponding to fixed initial magnification value (i.e. "1.5" = 1.5x zoom)</li>

<li><strong>maximum-scale -</strong> caps the magnification value ("=1.0"=no zoom-in) </li>

<li><strong>minimum-scale -</strong> sets a base magnification value ("=1.0"=no zoom-out)</li>

<li><strong>user-scalable -</strong> Controls whether user is allowed to zoom (=yes, =no)</li></ul>
</li>
</ul>

<!-- ViewPort settings above are replicated in the config reference -->

<blockquote>
  <p><strong>Note</strong>: Settings above impact all pages.</p>
</blockquote>

<h4 id="forcefittoscreenwidth" class="anchor"><a class="heading-anchor" href="#forcefittoscreenwidth"><span></span></a>Force-fit to Screen Width</h4>

<p>It's possible that some ITSmobile pages are wider than the viewport (visible area) area of the device, resulting in the need to scroll the screen to see all page elements and a less than ideal user experience. This problem is addressed with the &lt;SapForceFitToScreen&gt; parameter, which arranges horizontally aligned HTML elements vertically. When enabled, ITSmobile pages are forced to render elements within the visible horizontal region, or screen width. </p>

<p><strong>NOTE</strong>: This parameter applies only to SAP ITSmobile apps, and might effect CSS styling. <strong>Parameter is disabled by default</strong>. </p>

<h4 id="confinepagetoscreenwidth" class="anchor"><a class="heading-anchor" href="#confinepagetoscreenwidth"><span></span></a>Confine page to screen width:</h4>

<pre class="prettyprint"><code>
&lt;SapForceFitToScreen value="1"/&gt;
</code></pre>

<h5 id="foradditionalpagefittingoptionsseethedominjectionguidedominjectionandroid" class="anchor"><a class="heading-anchor" href="#foradditionalpagefittingoptionsseethedominjectionguidedominjectionandroid"><span></span></a>For additional page fitting options, see the <a href="../dominjectionandroid">DOM injection guide</a>.</h5>

<hr>

<h3 id="customizepageuielements" class="anchor"><a class="heading-anchor" href="#customizepageuielements"><span></span></a>Customize Page UI Elements</h3>

<p>EB 2.0 provides configuration parameters for controlling the size of UI elements on SAP pages. <strong>These settings impact all pages</strong>.</p>

<h4 id="increasebuttonheight" class="anchor"><a class="heading-anchor" href="#increasebuttonheight"><span></span></a>Increase button height:</h4>

<pre class="prettyprint"><code>
&lt;SapCustomization&gt; 
    &lt;SapButtonHeight value="30px"/&gt;
&lt;/SapCustomization&gt;
</code></pre>

<p><br></p>

<h4 id="adjustfontsize" class="anchor"><a class="heading-anchor" href="#adjustfontsize"><span></span></a>Adjust font size:</h4>

<pre class="prettyprint"><code>
&lt;SapCustomization&gt;    
  &lt;SapButtonFontSize value="10px"/&gt;      
&lt;/SapCustomization&gt;
</code></pre>

<p><br></p>

<h4 id="adjustareadonlytextfield" class="anchor"><a class="heading-anchor" href="#adjustareadonlytextfield"><span></span></a>Adjust a read-only text field:</h4>

<pre class="prettyprint"><code>
&lt;SapCustomization&gt;     
  &lt;MobileEditDisabledWidth value="20px"/&gt; 
&lt;/SapCustomization&gt;
</code></pre>

<p><br></p>

<hr>

<!-- 
### Modify Page at Client Side

Modify Page at Client Side by running script

Enterprise Browser 2.0 support running a client-side script designed by user to customize the page. 

using the DOM injection pagecontent parameter. 

#### Execute on a Specific Page

An enterprise user may require to run some scripts or associate some Enterprise Browser actions such as (HOME, quit) when a SAP page loaded contains a text that is matching with user provided input.

For example, SAP user wants to redirect to HOME page when an error 400 is occurred. User can mention this information under a "tags" file referenced in the app's `Config.xml` file as below. 

Entry in config.xml; this entry already exist in Enterprise Browser SAP package Config.xml

    :::xml
    <FileLocations>
      <pageactionxmlfile  value="file://%INSTALLDIR%/android_sap/mySAPtags.xml"/>
    </FileLocations>

Entry in PageAction.xml; this entry already exist inside Enterprise Browser SAP package

    :::xml
    <pageActionGroup>
        <pageAction1>
            <pageIdentification value="400 Session timed out" />
            <Action value="Home" />
        </pageAction1>
    </pageActionGroup>

Similarly one can add an entry inside PageAction.xml to run a script at device side to alter the DOM or to execute some Enterprise Browser APIs as below. 

A sample for zooming a particular page (which contains a text ‘Change Password’ ) to 200% is given as below:

    :::xml
    <pageAction2> 
        <pageIdentification value=”Change Password" />
        <Action value="runscript-zoomScript" />
    </pageAction2>

When user prefer to run a script, script should be added inside customscript.xml file. Enterprise Browser for SAP contains a CustomScript.xml placed under android_sap folder inside installed directory on the device.

Below is the entry inside `CustomScript.xml`: 

    :::xml
    <CustomScripts>          
              <zoomscript>
               EB.WebView.zoomPage= 2.0;
             </zoomscript>
    </CustomScripts>

To know more about PageAction based on page contents, please visit {eddy to add link to PageAction documentation}
-->

<h2 id="androidkeyboardanddatawedge" class="anchor"><a class="heading-anchor" href="#androidkeyboardanddatawedge"><span></span></a>Android Keyboard and DataWedge</h2>

<p>The SAP package disables the Android keyboard by default, which also might prevent DataWedge from outputting acquired data as keystrokes. If DataWedge keystroke output is desired, <a href="/enterprise-keyboard/latest/guide/setup/#manualactivation">enable Enterprise Keyboard</a> on the device instead.  </p>

<p>Enterprise Browser supports disabling default SIP provided by Android platforms. Disable it by setting the <code>Config.xml</code> file attribute as below: </p>

<pre class="prettyprint"><code>
&lt;IME&gt;
  &lt;DisableAllIME value ="1"/&gt;
&lt;/IME&gt;
</code></pre>

<h4 id="preventallkeyboardpopups" class="anchor"><a class="heading-anchor" href="#preventallkeyboardpopups"><span></span></a>Prevent all keyboard pop-ups:</h4>

<pre class="prettyprint"><code>
&lt;IME&gt;
  &lt;DisableAllIME value ="1"/&gt;
&lt;/IME&gt;
&lt;SIP&gt;
  &lt;ResizeOnButtonbar value="1"/&gt;        
&lt;/SIP&gt;

:::xml
&lt;KeyboardConfiguration&gt;
&lt;KeyboardVisibility value="onDemand"/&gt;
  &lt;ondemand&gt;
      &lt;onHardwarekeypress value="1"/&gt;
      &lt;HardwarekeyValue value="140"/&gt;
  &lt;/ondemand&gt;   
&lt;/KeyboardConfiguration&gt;
</code></pre>

<p>The first section of the <code>Config.xml</code> code above prevents the keyboard from automatically popping up when the focus moves to an input field and sets the page as "resizable" so it can adapt when a keyboard pops up. The second section causes the keyboard to appear when the F10 key is pressed (on certain devices). </p>

<p><strong>More information</strong>: </p>

<ul>
<li><strong><a href="../configreference">Config.xml Reference Guide</a></strong>. </li>

<li><strong><a href="../dwintents">DataWedge Intents Guide</a></strong></li>
</ul>

<hr>

<h2 id="endingsapsession" class="anchor"><a class="heading-anchor" href="#endingsapsession"><span></span></a>Ending SAP Session</h2>

<p>It's important to terminate the SAP session when quitting an Enterprise Browser app that accesses ITSmobile. EB 2.0 implements a <code>Config.xml</code> tag for this purpose. The SAP package by default is set to terminate an SAP session whenever Enterprise Browser is closed. </p>

<h4 id="defaultsettingonsappackage" class="anchor"><a class="heading-anchor" href="#defaultsettingonsappackage"><span></span></a>Default setting on SAP package:</h4>

<pre class="prettyprint"><code>
&lt;DeleteCookiesOnLaunch value="1"/&gt;
</code></pre>

<p><br></p>

<h4 id="defaultsettingonnonsappackage" class="anchor"><a class="heading-anchor" href="#defaultsettingonnonsappackage"><span></span></a>Default setting on non-SAP package:</h4>

<pre class="prettyprint"><code>
&lt;DeleteCookiesOnLaunch value="0"/&gt;
</code></pre>

<p><br></p>

<hr>

<h2 id="lockingscreenorientation" class="anchor"><a class="heading-anchor" href="#lockingscreenorientation"><span></span></a>Locking Screen Orientation</h2>

<p>EB 2.0 (and newer) can lock an EB app to a specific screen orientation (portrait or landscape). The SAP package by default sets the parameter to "Auto," which locks the app in the "natural" orientation of device (landscape on CC5000, ET55, VC80 and WT6000; portrait on all others). <strong>Screen "auto-rotation" is disabled when this parameter is used</strong>. <a href="../configreference/#screenorientation">More info</a>. </p>

<h4 id="setscreenorientationtonaturalfordevice" class="anchor"><a class="heading-anchor" href="#setscreenorientationtonaturalfordevice"><span></span></a>Set screen orientation to "natural" for device:</h4>

<pre class="prettyprint"><code>
&lt;ScreenOrientation&gt;
  &lt;LockOrientation value= "Auto"/&gt;
&lt;/ScreenOrientation&gt;
</code></pre>

<hr>

<h2 id="keydownactions" class="anchor"><a class="heading-anchor" href="#keydownactions"><span></span></a>KeyDown Actions</h2>

<p>EB 2.0 (and newer) allows hardware keys of certain Zebra devices to be remapped to perform predefined actions or execute JavaScript code blocks residing on the device or on a server. Hardware keys are remapped in the KeyActions section of the <code>KeyCodeMapping
.xml</code> file. See the <a href="../keycapture">Keycode Mapping Guide</a> for more information. </p>

<h4 id="pressf8keytoquittheapp" class="anchor"><a class="heading-anchor" href="#pressf8keytoquittheapp"><span></span></a>Press F8 key to quit the app:</h4>

<pre class="prettyprint"><code>
&lt;KeyActions&gt; 
    &lt;KEYACTION  keyvalue="138" action="quit" /&gt;
&lt;/KeyActions&gt;
</code></pre>

<p><br></p>

<h4 id="executejavascriptonkeydownevent" class="anchor"><a class="heading-anchor" href="#executejavascriptonkeydownevent"><span></span></a>Execute JavaScript on KeyDown event</h4>

<pre class="prettyprint"><code>
&lt;KeyActions&gt; 
   &lt;KEYACTION  keyvalue="139" action="runscript- zoomscript" /&gt;
&lt;/KeyActions&gt; 
</code></pre>

<p><br></p>

<hr>

<h2 id="domnamespace" class="anchor"><a class="heading-anchor" href="#domnamespace"><span></span></a>DOM Namespace</h2>

<p>Enterprise Browser can inject one or more of its <a href="../../api">JavaScript APIs</a> into a running ITSmobile app, providing access to virtually any feature available to any other EB app. </p>

<p>See the <a href="../configreference/#jslibraries">EB Config Reference</a> for details. </p>

<!-- 
To disable EB namespace on your, user can simply disable below config.xml entry 

    :::xml
      <InjectEBLibraries>
          <JSLibraries value="0"/>
      </InjectEBLibraries>

Note: EB team recommends to enable the EB namespace in your DOM. Some of the SAP package functionality such as SAP keyboard may not function properly if this config tag is disabled.

Note: On regular package EB namespace will not be enabled by default. On regular package, default config.xml will have a value as below

    :::xml
      <InjectEBLibraries>
         <JSLibraries value="0"/>
      </InjectEBLibraries>
 -->

<hr>

<h2 id="hidesystembar" class="anchor"><a class="heading-anchor" href="#hidesystembar"><span></span></a>Hide SystemBar</h2>

<p>Enterprise Browser allows the System bar (also known as the Navigation bar, which contains HOME, BACK and RECENT buttons) to be hidden, maximizing screen space for apps and helping to prevent the app user from accidentally exiting. By default, the System bar is is hidden in the SAP bundle and displayed in the standard package. The parameter is configured in the app's <code>Config.xml</code> file. See the <a href="../configreference/#hidesystembar">EB Config Reference</a> for details. </p>

<hr>

<h2 id="speechrecognition" class="anchor"><a class="heading-anchor" href="#speechrecognition"><span></span></a>Speech Recognition</h2>

<p>EB 2.0 (and newer) supports the injection of speech commands into legacy SAP applications using text-to-speech (TTS) technology, allowing apps to speak to app users. Apps also can accept speech inputs via automatic speech recognition (ASR) and execute certain commands on a page, all without modifying the underlying server application. By default, TTS and ASR are disabled in the SAP package. See the <a href="../voice">Voice Guide</a> for details. </p>

<hr>

<h2 id="sapvsstandardebpackage" class="anchor"><a class="heading-anchor" href="#sapvsstandardebpackage"><span></span></a>SAP vs. Standard EB Package</h2>

<p>The SAP and standard Enterprise Browser <code>.apk</code> files are identical; the differences between the two packages are contained only in their <code>Config.xml</code> files. For organizations with mixed deployments, <strong>Zebra recommends deploying the SAP package to all devices and pushing the standard <code>Config.xml</code> file to the EB installation directory of devices that require it</strong>. This is because the SAP installation delivers both SAP <strong><em>and</em></strong> standard versions of the <code>Config.xml</code> to the device. </p>

<h5 id="installdirectory" class="anchor"><a class="heading-anchor" href="#installdirectory"><span></span></a>Install directory:</h5>

<p><code>/Android/data/com.symbol.EnterpriseBrowser/</code></p>

<h5 id="sapconfigfilelocation" class="anchor"><a class="heading-anchor" href="#sapconfigfilelocation"><span></span></a>SAP config file location:</h5>

<p><code>/Android/data/com.symbol.EnterpriseBrowser/android_sap/Config.xml</code></p>

<h5 id="standardconfigfilelocation" class="anchor"><a class="heading-anchor" href="#standardconfigfilelocation"><span></span></a>Standard config file location:</h5>

<p><code>/Android/data/com.symbol.EnterpriseBrowser/android_regular/Config.xml</code>
<br></p>

<p><strong>To convert to the standard package</strong> from SAP:</p>

<ul>
<li>Copy the <code>Config.xml</code> from <code>android_regular</code> to the EB install directory. </li>
</ul>

<p><strong>To convert to SAP</strong> from the standard package: </p>

<ul>
<li>Copy the <code>Config.xml</code> from <code>android_sap</code>  to the install directory.</li>
</ul>

<p><strong>Note</strong>: The <code>/Android/data/com.symbol.EnterpriseBrowser/</code> folder can be replaced with the <code>/%INSTALLDIR%/</code> substitution variable. </p>

<!-- 

FINISH THIS FRIDAY

## `TO BE REVISED`  
 -->

<!-- 

### SAP Package Scripts

The SAP package contains pre-defined scripts that use DOM injection on each pageload event of WebView. 

All dominjected files are mentioned inside mysaptags.txt file present inside android_sap folder. If user needs to inject custom script files then user may need to modify the mysaptags.txt file.

Default mysaptags.txt has the below javascript files those are intended to run SAP package smoothly. User can modify the script based on their need. Thus, Enterprise Browser SAP package becomes more handy for the users.

    :::xml
    <script type='text/javascript' src='file://%INSTALLDIR%/android_sap/sapkeyboard.js' pages='*' /> 
    <script type='text/javascript' src='file://%INSTALLDIR%/android_sap/sapbgsound.js' pages='*' /> 
    <script type='text/javascript' src='file://%INSTALLDIR%/android_sap/sapcustomview.js' pages='*' />
    <script type='text/javascript' src='file://%INSTALLDIR%/android_sap/sapconfigreader.js' pages='*' />

User can see the mentioned javascript files under `android_sap` folder of installed directory. 
`Sapconfigreader.js`

`Sapconfigreader.js` file is the entry point to all other javascript files. It has the logic to read the Enterprise Browser Config.xml. It reads the information related to keyboard and forcetofitscreen then invokes the associated functions defined in `sapkeyboard.js` and `sapcustomview.js` files respectively.

Sapconfigreader.js makes a call to Rho.Configreadwrite.readFromOriginalConfig and stores the required config.xml attributes values on to session storage over callback method.

Once the session store is initialized further dominjection will read config.xml value from the session store.
Once local attributes are initialized, it then makes a call to `performPostInitializationSapTask`. The function called here are defined in `sapkeyboard.js` and `sapcustomview.js` files respectively.

`initSapKeyBoard` function defined inside `sapkeyboard.js` file will be invoked for devices those doesn’t have a physical keyboard on the device. (eg:TC51, TC70x,WT6000, TC8000 etc). 

For devices with physical keyboard MC92, MC33, MC67, MC32, TC20K, we have added a check in the `performPostInitializationSapTask` function to prevent the calls to `initSapKeyBoard`.

Calling `initSapKeyBoard` will initialize the SAP button bar keyboard layouts. 

Button Bar layouts are not required for if physical keyboard is present.

Calling ForceFitContentsToScreen will force webview to place any elements present horizontally outside the visible region to vertically. This will ensure no elements are present beyond the screen width.

`Sapkeyboard.js`

This has the logic to show/hide keyboard based on the config.xml attributes values. Showkeyboard always set numeric keyboard as the preferred layout whenever a keyboard is poped-up.

It uses Enterprise Browser KeyCapture module to capture a keyevent to show/hide the keyboard if user had configured `Config.xml` file to show/hide keyboard ondemand when `onhardwarekeypress` is enabled.

A function `ddFocusEventListner` which is present inside `sapkeyboard.js` can be tweaked by user to filter the input elements those should be considered for handling focus/blur event. These event handler makes a call to show/hide keyboard functions.

User can modify the logic based on their need.

`Sapbgsound.js`

This javascript file search for bgsound tag and it replaces with the audio tag to play the SAP notification sounds. Bgsound tag which is IE specific tag is not supported by Android webview by default. This javascript file help in playing the sound. User can further modify this script to play any custom local sound files without modifying server application using Enterprise Browser utility APIs.

`Sapcustomview.js`

This contains the logic to force fit the content to the screen width. It simply finds all the div elements and remove the styles from it. User can further modify the script to have better user experience by modifying element styles.

### Summary

Enterprise Browser for SAP gives a better user experience for SAP customers. It avoids the need for modifying server application for lacking physical keyboard or any concern related to page fitting on the device.
Install the `EnterpriseBrowser_SAP_signed_v2.0.1.0.apk` on your device, pull the `Config.xml` file from the installed directory to change the startpage to the application URL.

User can also enable &lt;SapForceFitToScreen value="1"/&gt; to force fit the HTML elements to screen width of the device there by disabling a need for scrolling horizontally.

If user decided to receive scanned data from datawedge via keystroke, user need to ensure that Enterprise keyboard is installed (if not present as part of bsp) and enabled on the device. 

To quit the application user can press F8 button as configured (modifiable) in keycodemapping.xml. User can modify the value based on their need.

Similarly, pressing F10 can toggle SAP keyboard visibility. 

### Remarks

To use sapkeyboard smoothly, we have disabled the presence of regular sip by setting &lt;DisableAllIME value ="1"/&gt;. However on Kit Kat devices, DisableAllIME feature is not supported. 
Hence on KK devices, user may see both regular sip and sapkeyboard popping up on setting focus to an input field. This may result in `sapkeyboard` not functioning properly. To avoid this problem, Enterprise browser team recommends users to install Enterprise Keyboard (if not present as part of BSP) and to set Enterprise keyboard as the default keyboard on the device.

User can install Enterprise Keyboard from
http://techdocs.zebra.com/enterprise-keyboard/1-8/download/
-->

<hr>

<h4 id="seealso" class="anchor"><a class="heading-anchor" href="#seealso"><span></span></a>See Also</h4>

<ul>
<li><a href="../configreference">Config.xml Reference</a></li>

<li><a href="../apioverview">Enterprise Browser APIs</a></li>

<li><a href="../keycapture/#mappingproprietaryfunctionkeycodes">Function Key Mapping Guide</a></li>

<li><a href="../migration">Migration Guides</a></li>

<li><a href="../dom">DOM Injection guide</a></li>

<li><a href="https://wiki.scn.sap.com/wiki/display/HOME/ITSmobile">SAP ITSmobile wiki page</a></li>
</ul><p></p>
                                        


                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                </div><!--/.col-sm-6-->
            </div>
            </section>
        </div>
    </section>    

<div class="modal fade" id="basicModal" tabindex="-1" role="dialog" aria-labelledby="basicModal" aria-hidden="true" data-backdrop="true">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal" aria-hidden="true">X</button>
					</div>
					<div class="modal-body">
						<div id="modalImg">
						
						</div>
					</div>
			</div>
		  </div>
		</div> </div>
         <footer id="footer">
            <div class="container-fluid">
                <div class="row">
                    <div class="col-sm-10">
                        ZEBRA and the stylized Zebra head are trademarks of Zebra Technologies Corporation, registered in many jurisdictions worldwide. All other trademarks are the property of their respective owners. ©2019 Zebra Technologies Corporation and/or its affiliates. All rights reserved.<a href="https://www.zebra.com/us/en/about-zebra/company-information/compliance/information-privacy/terms-of-use.html">Terms &amp; Conditions</a>
                    </div>
                     <!--
                     <div class="col-sm-2">
                        <ul class="social-icons">
                            <li><a href="http://www.facebook.com/pages/Zebra-Technologies/107703715989073"><i class="fa fa-facebook"></i></a></li>
                            <li><a href="https://twitter.com/ZebraDevs"><i class="fa fa-twitter"></i></a></li>
                            <li><a href="http://www.youtube.com/zebratechnologies/"><i class="fa fa-youtube"></i></a></li>
                            <li><a href="https://www.linkedin.com/groups?home=&gid=3220074&trk=anet_ug_hm&goback=%2Egmr_3220074"><i class="fa fa-linkedin"></i></a></li>
                            <li><a href="https://github.com/developer-zebra"><i class="fa fa-github"></i></a></li>
                        </ul>
                    </div> -->
                 </div>
            </div>
        </footer>
    
    <!--/#footer 
        10/25/18 removed <footer id="footer" class="navbar-fixed-bottom">
    -->
    <script src="/js/bootstrap.min.js"></script>
    <script src="/js/owl.carousel.min.js"></script>
    <script src="/js/mousescroll.js"></script>
    <script src="/js/smoothscroll.js"></script>
    <script src="/js/jquery.prettyPhoto.js"></script>
    <script src="/js/jquery.isotope.min.js"></script>
    <script src="/js/jquery.inview.min.js"></script>
    <script src="/js/wow.min.js"></script>
    <script src="/js/bootstrap-treenav.min.js"></script>
    <script src="/js/prettify.js"></script>
    <script src="/js/zepto.js"></script>
    <script src="/js/jquery.waterfall.js"></script>   
    <script src="/js/main.js"></script>

<script type="text/javascript">
  (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
  (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
  e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
  })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

  _st('install','zRzEsAUhWTTkrdEN2YfA','2.0.0');
</script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-72584442-1', 'auto');
  ga('send', 'pageview');

</script> 

<script>
    ChatraID = 'QDvZ76min4DhLW5vJ';
    (function(d, w, c) {
        var n = d.getElementsByTagName('script')[0],
            s = d.createElement('script');
        w[c] = w[c] || function() {
            (w[c].q = w[c].q || []).push(arguments);
        };
        s.async = true;
        s.src = (d.location.protocol === 'https:' ? 'https:': 'http:')
            + '//call.chatra.io/chatra.js';
        n.parentNode.insertBefore(s, n);
    })(document, window, 'Chatra');
</script>         


</body></html>