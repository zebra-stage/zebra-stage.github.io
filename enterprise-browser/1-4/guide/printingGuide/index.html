
<!DOCTYPE html>
<html lang="en"><head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Online Documentation for Zebra Technologies developer tools and utiltiescomp including EMDK for Android, EMDK for Xamarin, StageNow, Enterprise Browser.">
    <meta name="author" content="Zebra Technologies">
    <meta name="google-site-verification" content="i4B78BrWnNy8ShJwe5feRW3jO3HE6gfYlYqYbxfl8yY">
    <meta name="msvalidate.01" content="6B651B00161BCE79B8950AC09D5C4C75">
    <meta title="Printing With Enterprise Browser">
    <title>Printing With Enterprise Browser - Zebra Technologies TechDocs</title>
    <!-- core CSS -->
    <link href="/css/bootstrap.min.css" rel="stylesheet">
    <link href="/css/font-awesome.min.css" rel="stylesheet">
    <link href="/css/animate.min.css" rel="stylesheet">
    <link href="/css/owl.carousel.css" rel="stylesheet">
    <link href="/css/owl.transitions.css" rel="stylesheet">
    <link href="/css/prettyPhoto.css" rel="stylesheet">
    <link href="/css/main.css" rel="stylesheet">
    <link href="/css/responsive.css" rel="stylesheet">
    <link href="/css/prettify.css" rel="stylesheet">
    <link href="/css/bootstrap-treenav.min.css" rel="stylesheet">
    <!--[if lt IE 9]>
    <script src="js/html5shiv.js"></script>
    <script src="js/respond.min.js"></script>
    <![endif]--> 

    <script src="//load.sumome.com/" data-sumo-site-id="699cb66cf4dc59352efb45705526d15cbe314e1cd43f7761b94d96f3cf7338e8" async="async"></script>
    <link rel="shortcut icon" href="/favicon.ico">
<script src="/js/jquery.js"></script></head><!--/head-->


<body id="home" class="homepage" data-spy="scroll" data-offset="100" data-target="#toc">

    <header id="header">
        <nav id="main-menu" class="navbar navbar-default navbar-fixed-top" role="banner">
            <div class="container-fluid">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="/"><img src="/images/logo.png" alt="logo" style="max-height:42px;float: inherit;
    padding-right: 3px;"></a> 
                    
                   
                </div>
                <div class="collapse navbar-collapse navbar-left">
                    <ul class="nav navbar-nav">
                        <li class="navbar-text pull-left"><strong>TechDocs</strong></li>
                        <li class="dropdown">
                          <button class="btn btn-default dropdown-toggle" type="button" data-toggle="dropdown"> Enterprise Browser 1.4
                          <span class="caret"></span></button>
                          <ul class="dropdown-menu">
                                <li><a onclick="changeVersion('1-4','1-5','/enterprise-browser/1-4/guide/about')">Enterprise Browser 1.5</a></li>
                          </ul>
                        </li>                    
                    </ul>
                </div>
                <div class="collapse navbar-collapse navbar-right">
                    <ul class="nav navbar-nav">
                        


                        <li>
                            <a href="/enterprise-browser/1-4/guide/about">
                                    About
                            </a>
                        </li>
                        <li>
                            <a href="/enterprise-browser/1-4/guide/gettingstarted">
                                    Getting Started
                            </a>
                        </li>
                        <li>
                            <a href="/enterprise-browser/1-4/tutorial/">
                                    Tutorials
                            </a>
                        </li>
                        <li>
                            <a href="/enterprise-browser/1-4/guide">
                                    Guides
                            </a>
                        </li>
                        <li>
                            <a href="/enterprise-browser/1-4/guide/configreference">
                                    Config.xml
                            </a>
                        </li>
                        <li>
                            <a href="/enterprise-browser/1-4/api">
                                    APIs
                            </a>
                        </li>
                        <li>
                            <a href="https://www.youtube.com/playlist?list=PLce6-npz5dKcUY98npViY6QbuL3yhAXCx">
                                    <i class="fa fa-youtube-play"></i>
                            </a>
                        </li>
                        <li>
                            <a href="https://developer.zebra.com/community/technologies/enterprisebrowser">
                                    <i class="fa fa-comment"></i>
                            </a>
                        </li>
                        <li>
                            <a href="/enterprise-browser/1-4/download">
                                    <i class="fa fa-download"></i>
                            </a>
                        </li>
                        <li>
                            <a href="/enterprise-browser/1-4/search">
                                    <i class="fa fa-search"></i>
                            </a>
                        </li>
                        <!-- <li ><a href="/products">SDKs</a></li>
                        <li ><a href="/samples">Samples</a></li>
                        <li ><a href="/guides">Guides</a></li>
                        <li ><a href="/tutorials">Tutorials</a></li>
                        <li ><a href="/apis">APIs</a></li> -->
                        <!-- <li><a href="#"><input type="text" class="st-default-search-input"></a></li> -->
                    </ul>
                </div>
            </div><!--/.container-->
        </nav><!--/nav-->
    </header><!--/header-->
<div class="container-fluid">
    <section id="blog">
        <div class="">
            <section class="content-with-sidebar">
            <div class="row">
                <div class="col-sm-3 hidden-sm hidden-xs" id="sidebar">
                    
                    
                    <nav id="toc" data-toggle="toc" data-spy="affix" style="height: 75%; max-width: 225px; overflow-y: auto; ">
                        
                        <ul class="nav">
                            <li><strong>Printing With Enterprise Browser</strong></li>
                        </ul>
                    </nav>
                    <div class="modal fade" id="modal-smartdocs" tabindex="-1" role="dialog" aria-labelledby="basicModal" aria-hidden="true" data-backdrop="true">
                    	<div class="modal-dialog">
                    		<div class="modal-content">
                    			<div class="modal-header">
                    				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">X</button>
                    			</div>
                    			<div class="modal-body">
                    				<form>
                    				  <div class="form-group">
                    				    <label for="exampleInputEmail1">MX Version On Device:</label>
                    				    <select class="form-control">
                    					  <option value="4.0">4.0</option>
                    					  <option value="4.1">4.1</option>
                    					  <option value="4.2">4.2</option>
                    					  <option value="4.3">4.3</option>
                    					  <option value="5.0">5.0</option>
                    					</select>
                    				  </div>						
                    				  <div class="form-group">
                    				    <label for="exampleInputEmail1">OSX Version On Device:</label>
                    				    <select class="form-control">
                    					  <option value="1.0">1.0</option>
                    					  <option value="1.2">1.2</option>
                    					  <option value="1.3.4-56">1.3.4-56</option>
                    					  <option value="3.4">3.4</option>
                    					  <option value="3.5">3.5</option>
                    					  <option value="3.6">3.6</option>
                    					  <option value="4.1">4.1</option>
                    					  <option value="4.2">4.2</option>
                    					  <option value="4.3">4.3</option>
                    					  <option value="4.4">4.4</option>
                    					</select>
                    				  </div>						
                    				  <div class="form-group">
                    				    <label for="exampleInputEmail1">Android Version On Device:</label>
                    				    <select class="form-control">
                    					  <option value="23">6.0 Marshmallow</option>
                    					  <option value="22">5.1 Lollipop</option>
                    					  <option value="21">5.0 Lollipop</option>
                    					  <option value="19">4.4 Kitkat</option>
                    					  <option value="18">4.3 Jellybean</option>
                    					  <option value="17">4.2.x Jellybean</option>
                    					  <option value="16">4.1.x Jellybean</option>
                    					  <option value="15">4.0.3-4.0.4 Ice Cream Sandwich</option>
                    					  <option value="14">4.0-4.0.2 Ice Cream Sandwich</option>
                    					  <option value="10">2.3.3-2.3.4 Gingerbread</option>
                    					</select>
                    				  </div>
                    				  <div class="form-group">
                    				  	<button class="primary" id="btn_SaveSmartDocOptions">Save Changes</button><button class="primary" id="btn_ClearSmartDocOptions">Clear Changes</button>
                    				  </div>
                    				</form>
                    			</div>
                    	</div>
                      </div>
                    </div>
                    
                    <script type="text/javascript">
                        $(document).ready(function() {
                        	$( "#btn_SaveSmartDocOptions" ).click(function() {
                      			console.log('Saving Options');
                      			$("#modal-smartdocs").modal({show: false});
                    		});
                        	$( "#btn_SaveSmartDocOptions" ).click(function() {
                      			console.log('Clearing Options');
                      			$("#modal-smartdocs").modal({show: false});
                    		});
                        });
                    </script><link rel="stylesheet" href="https://cdn.rawgit.com/afeld/bootstrap-toc/v0.3.0/dist/bootstrap-toc.min.css">
                    <script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v0.3.0/dist/bootstrap-toc.min.js"></script>
                    <script type="text/javascript">
                        $(document).ready(function() {
                    
                        });
                    
                    
                    </script>
                </div>                
                <div class="col-sm-9 ">
                    <div class="row">
                        <div class="col-sm-12">
                            <section id="cta" class="wow fadeIn">
                                <div class="">
                                    <h1 id="printing-with-enterprise-browser" class="anchor"><a class="heading-anchor" href="#printing-with-enterprise-browser"><span></span></a>Printing With Enterprise Browser</h1>
                                    <p>
                                            Enterprise Browser
                                            1.4
                                    </p>
                                </div>
                            </section>                    
                        </div>
                    </div>
                    <div id="mainContent" class="row">
                        <div class="col-sm-12">
                            <div class="blog-post blog-large wow fadeInLeft" data-wow-duration="300ms" data-wow-delay="0ms">
                            <!-- Start of guide -->
                                <div class="service-box wow fadeInRight">
                                    <div class="">

                                        <p></p><h2 id="overview" class="anchor"><a class="heading-anchor" href="#overview"><span></span></a>Overview</h2>

<p>Enterprise Browser permits printing via Bluetooth, USB and Wi-Fi from mobile devices running Android and Windows Mobile/CE. <strong>Printing via USB requires EB 1.3 or higher</strong>. This guide describes the steps necessary to enable printing in an Enterprise Browser application. Where appropriate, it contains links to details for the function calls, methods, parameters, constants and other specifics necessary to build an application using JavaScript and the Zebra printing APIs. See the Printing on Windows Mobile/CE section (below) for important notes, and the <a href="../../tutorial/printing">Printing Tutorial</a> for a walk-though of EB printing setup. </p>

<p><strong>All code samples are JavaScript</strong>. </p>

<h3 id="printingonwindowsmobilece" class="anchor"><a class="heading-anchor" href="#printingonwindowsmobilece"><span></span></a>Printing on Windows Mobile/CE</h3>

<p>Windows Mobile and Windows CE require that the <code>PrintingService</code> application is installed and always running whenever the <a href="../../api/printing">Printing</a> and <a href="../../api/printingzebra">PrintingZebra</a> APIs are to be used. This service (<code>PrintingService.cab</code>) is included with the Enterprise Browser installation, but requires the following Microsoft software to be on the device before the service can be deployed: </p>

<h4 id="printingserviceappinstallation" class="anchor"><a class="heading-anchor" href="#printingserviceappinstallation"><span></span></a>PrintingService App Installation</h4>

<ol>
<li><strong>For Windows Mobile/CE devices</strong>, the <a href="http://www.microsoft.com/en-us/download/details.aspx?id=65">.NET Compact Framework</a> must be present before installing the PrintingService app. Before downloading .NET CF, it might already be present on the build machine in <code>C:\Program Files (x86)\Microsoft.NET\SDK\CompactFramework\v3.5\WindowsCE\NETCFv35.wm.armv4i.cab</code>. </li>

<li><strong>Windows CE devices</strong> also require the messaging framework, which can be found on the build machine in <code>C:\Program Files (x86)\Microsoft.NET\SDK\CompactFramework\v3.5\WindowsCE\Diagnostics\NETCFv35.Messages.EN.cab</code>.</li>

<li><strong>The PrintingService installer (.cab) file</strong> can now be installed. It's found in <code>C:\&lt;path to Enterprise Browser&gt;\Printing-Service\PrintingService.cab</code>.</li>
</ol>

<h4 id="limitations" class="anchor"><a class="heading-anchor" href="#limitations"><span></span></a>Limitations</h4>

<ul>
<li>The PrintingService app currently supports a single client at a time.</li>

<li>The method <a href="../../api/printing/#requeststatespanclasstextinfoarrayspanlistofparameters"><code>Printer.requestState()</code></a> is not compatible with Bluetooth printers.</li>

<li>The method <a href="../../api/printing/#stopsearch"><code>Printer.stopSearch()</code></a> is disabled.</li>
</ul>

<h3 id="aboutusbprinting" class="anchor"><a class="heading-anchor" href="#aboutusbprinting"><span></span></a>About USB Printing</h3>

<p>The ability to print via USB was introduced in Enterprise Browser 1.3, and uses the <code>CONNECTION_TYPE_USB</code> parameter available in that and higher versions only. <strong>USB printing requires a USB "On-The-Go" (OTG) cable or adapter and one of <a href="../about/#printers">Zebra's printers with USB printing support</a></strong> or a compatible third-party printer. </p>

<p>Android and Windows Mobile/CE printing is supported via direct USB OTG connection or through a cradle with OTG adapter. Windows Mobile/CE devices also must be in "Host Mode," which is enabled under <strong>USB Config in the Settings panel</strong>. Connecting an OTG cable to an Android device invokes host mode automatically.</p>

<h4 id="usbcompatibilitynotes" class="anchor"><a class="heading-anchor" href="#usbcompatibilitynotes"><span></span></a>USB Compatibility Notes</h4>

<ul>
<li>A USB On-the-Go (OTG) cable or adapter permits a mobile device to act as "host" to client peripherals such as flash drives, keyboards and printers. </li>

<li><strong>On Android devices</strong>, connecting an OTG cable invokes host mode automatically.</li>

<li><strong>On Windows Mobile/CE devices</strong> "Host Mode" must be invoked manually (under USB Config in the Settings panel). </li>

<li>Some <a href="https://www.zebra.com/us/en/products/accessories/mobile-computer/cradles/sharecradle-system.html">Zebra TC7X single/dual slot cradles</a> present a USB micro "AB" receptacle that allows the TC7X to act as host or client, depending on the cable.</li>

<li>The Zebra OTG implementation lacks Session Request Protocol (SRP) and Host Negotiation Protocol (HNP), portions of the spec that allow connected devices to control power consumption and switch dynamically between host and client modes. </li>

<li>Printing via USB from a cradled device is possible by inserting an OTG Micro Type A connector to the cradle and connecting the USB-B (or Mini-B) end to the printer.</li>

<li>OTG supports direct USB connections only; the use of USB hubs is not supported by the OTG spec. </li>
</ul>

<h2 id="1enableprintapis" class="anchor"><a class="heading-anchor" href="#1enableprintapis"><span></span></a>1- Enable Print APIs</h2>

<p>Enterprise Browser provides two APIs for printing. The <a href="../../api/printing">Printer API</a> is a parent class that defines common class attributes that specific printer-type APIs will inherit. The <a href="../../api/printingzebra">PrinterZebra API</a> is the printer-type API for Zebra printers. </p>

<p>There are two methods of enabling the Printer API:</p>

<ul>
<li>Include all "ebapi" modules</li>

<li>Include only the required API modules</li>
</ul>

<p>Both methods are explained below. </p>

<p>Either way, the included files can be found in: 
<code>/Enterprise Browser/JavaScript Files/Enterprise Browser</code>,
a directory on the computer that contains the Enterprise Browser installation.</p>

<h3 id="includealljsapimodules" class="anchor"><a class="heading-anchor" href="#includealljsapimodules"><span></span></a>Include all JS API modules</h3>

<p>To include all JavaScript APIs, copy the <code>ebapi-modules.js</code> file to a location accessible by an app's files and include the JavaScript modules file in the app. For example, to include the modules file in <code>index.html</code>, copy the file to the same directory as index.html and add the following line to the HEAD section of that index.html file:</p>

<pre class="prettyprint"><code>
&lt;script type="text/javascript" charset="utf-8" src="ebapi-modules.js"&gt;&lt;/script&gt;
</code></pre>

<blockquote>
  <p>This will define the EB class within the page. <strong>Note that the path for this file is relative to the current page</strong> (<code>index.html</code>). Any page from which the API modules are accessed must include a reference to the <code>.js</code> file(s) in this way.</p>
</blockquote>

<h3 id="includeonlytherequiredmodules" class="anchor"><a class="heading-anchor" href="#includeonlytherequiredmodules"><span></span></a>Include only the required modules</h3>

<p>To include individual APIs, first include the <code>ebapi.js</code> in the HTML, and then the additional required API file(s). For example, to use the Printer API, add the code below to the HTML file(s). Again, this assumes that the relevant API files have been copied to the same directory as the HTML.</p>

<pre class="prettyprint"><code>
&lt;script type="text/javascript" charset="utf-8" src="ebapi.js"&gt;&lt;/script&gt;
&lt;script type="text/javascript" charset="utf-8" src="eb.printer.js"&gt;&lt;/script&gt;
</code></pre>

<blockquote>
  <p>In the code lines above, notice that <code>ebapi.js</code> is included first, followed by <code>eb.printer.js</code>, which is the Printer API for Enterprise Browser. <strong>This coding must be included on any HTML page that will call an individual API</strong>.</p>
</blockquote>

<h2 id="2findaprinter" class="anchor"><a class="heading-anchor" href="#2findaprinter"><span></span></a>2- Find a Printer</h2>

<p>Before an app can print, it must discover and connect to a printer. There are a few ways to discover printers, but all use the <a href="../../api/printing/#searchprintersspanclasstextinfohashspanoptions">searchPrinters method</a>.</p>

<h3 id="findingviabluetooth" class="anchor"><a class="heading-anchor" href="#findingviabluetooth"><span></span></a>Finding via Bluetooth</h3>

<p>Printing via Bluetooth is supported for Android and Windows Mobile/CE apps. During Bluetooth discovery, the printer must be in "discoverable" mode.  </p>

<p><strong>Look for any "discoverable" Zebra printer via Bluetooth by specifying the</strong> <code>connectionType</code> <strong>and</strong> <code>printerType</code> <strong>in the</strong> <code>options</code> <strong>parameter</strong>:</p>

<pre class="prettyprint"><code>
var printers = [];

EB.Printer.searchPrinters({ 
    connectionType:EB.Printer.CONNECTION_TYPE_BLUETOOTH,  
    printerType: EB.Printer.PRINTER_TYPE_ZEBRA
     }, function (cb){
        if(cb.status == 'PRINTER_STATUS_SUCCESS')
        {
            if (typeof cb.printerID != "undefined")
            {
                console.log('Found: ' + cb.printerID)
                // &gt; Found ZEBRA_PRINTER_1

                printers.push(cb.printerID);
            }
            else
            {
                console.log('Done Searching');
            }
        }
        else
        {
            console.log(cb.status);
        }
    });
</code></pre>

<p><strong>TIP: To minimize search time, code should provide as many search parameters as possible</strong>.</p>

<p>The Bluetooth MAC address consists of six pairs of hexadecimal digits separated by colons. </p>

<p><strong>Specify the Bluetooth MAC address (if known) as a</strong> <code>deviceAddress</code> <strong>using the</strong> <code>options</code> <strong>parameter</strong>: </p>

<pre class="prettyprint"><code>
EB.PrinterZebra.searchPrinters({ 
    connectionType:EB.Printer.CONNECTION_TYPE_BLUETOOTH,  
    deviceAddress: '00:03:7A:4C:F2:DB'
    ... 
</code></pre>

<p><strong>NOTE</strong>: When pairing with a Bluetooth device for the first time, a prompt might appear for a pairing PIN. Commonly used PINs: 0000, 1111 and 1234. Check the printer manufacturer's specifications.</p>

<h3 id="findingviawifi" class="anchor"><a class="heading-anchor" href="#findingviawifi"><span></span></a>Finding via Wi-Fi</h3>

<p><strong>Quickly identify known Wi-Fi printers, search using the</strong> <code>deviceAddress</code> <strong>and</strong> <code>devicePort</code> <strong>parameters</strong>:</p>

<pre class="prettyprint"><code>
EB.Printer.searchPrinters({ 
    connectionType:EB.Printer.CONNECTION_TYPE_TCP,  
    deviceAddress: '192.168.1.121',
    devicePort: 6101
    ...
</code></pre>

<p><strong>NOTE</strong>: When attepting to connect via Bluetooth or Wi-Fi, be sure the device's corresponding radio is turned on. If using Bluetooth, the printer should be in "discoverable" mode. </p>

<h3 id="findingviausb" class="anchor"><a class="heading-anchor" href="#findingviausb"><span></span></a>Finding via USB</h3>

<p>Printing via USB is supported from Zebra enterprise mobile computers only to <a href="../about/#printers">Zebra's supported printers</a>, which must be connected <strong>using an OTG cable or adapter.</strong>  Windows Mobile/CE devices also must be in "Host Mode," which is found under USB Config in the Settings panel.</p>

<p><strong>Use the <code>search.Printers</code> method and the</strong> <code>CONNECTION_TYPE_USB</code> <strong>parameter to search for printer(s) connected to the mobile device's USB port</strong>:</p>

<pre class="prettyprint"><code>
var printers = [];

EB.Printer.searchPrinters({ 
    connectionType:EB.Printer.CONNECTION_TYPE_USB,  
    printerType: EB.Printer.PRINTER_TYPE_ZEBRA
     }, function (cb){
        if(cb.status == 'PRINTER_STATUS_SUCCESS')
        {
            if (typeof cb.printerID != "undefined")
            {
                console.log('Found: ' + cb.printerID)
                // &gt; Found ZEBRA_PRINTER_1

                printers.push(cb.printerID);
            }
            else
            {
                console.log('Done Searching');
            }
        }
        else
        {
            console.log(cb.status);
        }
    });
</code></pre>

<p>For more information about USB connections, please refer to the Platform Notes section later in this guide. </p>

<h2 id="3connecttoaprinter" class="anchor"><a class="heading-anchor" href="#3connecttoaprinter"><span></span></a>3- Connect to a Printer</h2>

<p>The script in STEP 2 executes the callback function of the <a href="../../api/printing/#searchprintersspanclasstextinfohashspanoptions">searchPrinters method</a>, which returns a unique printerID property for each printer found and places them in the <code>printers</code> array variable. These IDs will be used to establish a connection with the desired printer. After the last printer is found, an additional callback will be triggered that contains no printerID, signaling that the app has found all available printers and can begin the selection process.</p>

<p><strong>NOTE</strong>: This <code>printerID</code> is a unique identifier that is tracked by the Enterprise Browser framework. It has no relation to ID numbers that a printer manufacturer might be using.</p>

<p><strong>Select a</strong> <code>printerID</code> <strong>value from the</strong> <code>printers</code> <strong>array variable by creating an instance of the Printer class. Then call the</strong> <a href="../../api/printingzebra/#getprinterbyidspanclasstextinfostringspanprinterid">getPrinterByID method</a> <strong>and pass the <code>printerID</code> as a string to the vairable <code>myPrinter</code></strong>:</p>

<pre class="prettyprint"><code>
// Ex: printers[0] = 'ZEBRA_PRINTER_1'

var myPrinter = EB.Printer.getPrinterByID(printers[0]);

// myPrinter is now an instance class of Printer
// and can use the Instance Methods and properties 
// associated with that class
</code></pre>

<p><strong>Next, connect to the instantiated printer using the <a href="../../api/printingzebra/#methods">connect method</a></strong>: </p>

<pre class="prettyprint"><code>
myPrinter.connect(function (cb){

    console.log(cb);
    // &gt; PRINTER_STATUS_SUCCESS
    //cb = PRINTER_STATUS... constant

    console.log(myPrinter.deviceName);
    // &gt; 'XXXX09-10-5799'
    // deviceName will be Zebra's 'Friendly Name'

    console.log(myPrinter.deviceAddress);
    // &gt; '00:03:7A:4C:F2:DB'
    // deviceAddress will equal the Bluetooth Address

});
</code></pre>

<p>The <code>callback</code> object in the <a href="../../api/printingzebra/#methods">connect method</a> will be a <code>string</code> containing a <a href="../../api/printingzebra/#constants">PRINTER_STATUS...</a> constant such as: </p>

<ul>
<li>PRINTER_STATUS_SUCCESS</li>

<li>PRINTER_STATUS_ERR_NETWORK</li>

<li>PRINTER_STATUS_ERR_TIMEOUT</li>
</ul>

<h2 id="4retrieveprinterstate" class="anchor"><a class="heading-anchor" href="#4retrieveprinterstate"><span></span></a>4- Retrieve Printer State</h2>

<p>The first parameter of the <a href="../../api/printingzebra/#requeststatespanclasstextinfoarrayspanlistofparameters">requestState method</a> is an array that lists the items available to find. </p>

<p><strong>Use the</strong> <code>requestState method</code> <strong>to check the printer state</strong>: </p>

<pre class="prettyprint"><code>
// Assumes an instance of "myPrinter" has been
// created using methods described above

myPrinter.requestState(['PRINTER_STATE_IS_READY_TO_PRINT',
'PRINTER_STATE_IS_PAPER_OUT'],function (cb){
    console.log(cb.status);
    console.log(cb.PRINTER_STATE_IS_PAPER_OUT);
    console.log(cb.PRINTER_STATE_IS_READY_TO_PRINT);

    });
</code></pre>

<p>The returned <a href="../../api/printingzebra/#constants">PRINTER_STATE...</a> callback objects are constants such as: </p>

<ul>
<li>PRINTER_STATE_IS_COVER_OPENED</li>

<li>PRINTER_STATE_IS_DRAWER_OPENED</li>

<li>PRINTER_STATE_IS_PAPER_OUT</li>
</ul>

<h2 id="5retrievesupportedprinterlanguages" class="anchor"><a class="heading-anchor" href="#5retrievesupportedprinterlanguages"><span></span></a>5- Retrieve Supported Printer Languages</h2>

<p>The printer languages supported by the printer must be known before sending commands. Languages supported by Zebra printers include ZPL, CPCL and EPS.</p>

<p><strong>To retrieve a list of supported languages, use the</strong> <a href="../../api/printingzebra/#enumeratesupportedcontrollanguages">enumerateSupportedControlLanguages</a> <strong>method</strong>: </p>

<pre class="prettyprint"><code>    
//assumes a printer instance from previous instructions:

myPrinter.enumerateSupportedControlLanguages(function(cb){

    // cb = Array of strings 
    // PRINTER_LANGUAGE_ZPL
    // PRINTER_LANGUAGE_CPCL
    // PRINTER_LANGUAGE_EPS
});
</code></pre>

<p>The callback will be an array of <a href="../../api/printingzebra/#constants">PRINTER_LANGUAGE...</a> constants such as: </p>

<ul>
<li>PRINTER_LANGUAGE_ZPL</li>

<li>PRINTER_LANGUAGE_CPCL</li>

<li>PRINTER_LANGUAGE_EPS</li>
</ul>

<h2 id="6sendprintercommands" class="anchor"><a class="heading-anchor" href="#6sendprintercommands"><span></span></a>6- Send Printer Commands</h2>

<p>Once the app finds and connects to a printer, it can begin sending commands. Printer behavior will vary depending on printer make, model and current state. Consult the printer's technical documentation for printer-specific commands and syntax.</p>

<p>In general, there are two fundamental ways to send commands:</p>

<ul>
<li>In a string that includes raw printer commands</li>

<li>In a series of commands stored in a file (i.e. ZPL, CPCL)</li>
</ul>

<h3 id="sendingarawstring" class="anchor"><a class="heading-anchor" href="#sendingarawstring"><span></span></a>Sending a Raw String</h3>

<p><strong>To send a string to the printer, use the</strong> <a href="../../api/printingzebra/#printrawstringspanclasstextinfostringspancommandspanclasstextinfohashspanoptions">printRawString</a> <strong>method</strong>: </p>

<pre class="prettyprint"><code>
// If printer is in line mode, this text would be printed:

myPrinter.printRawString('This is a test print');

// To sendi a Zebra CPCL command 
// and change from line mode to ZPL mode:

myPrinter.printRawString('! U1 setvar "device.languages" "ZPL"\r\n');
</code></pre>

<h3 id="sendingaseriesofcommands" class="anchor"><a class="heading-anchor" href="#sendingaseriesofcommands"><span></span></a>Sending a Series of Commands</h3>

<p>When a series of commands is used repeatedly by an app--for example, to print an address label--the commands can be stored in a file (i.e. ZPL, CPCL) and called and/or modified programatically to perform the task. Command files can be generated manually or made using a tool provided by Zebra. They can be created in advance and delivered with the application. </p>

<p>For example, if a file called <code>address.cpcl</code> is stored in the application's <code>public</code> folder and contains some CPCL commands that are used to print an address, such a file might look like the one below, which is a sample terminal script file with embedded CPCL commands: </p>

<pre class="prettyprint"><code>
! U1 SETLP 5 2 46
AURORA'S FABRIC SHOP
! U1 SETLP 7 0 24
123 Castle Drive, Kingston, RI 02881
(401) 555-4CUT
</code></pre>

<p>To access the <code>address.cpcl</code> file, use the <a href="../../api/File/#joinspanclasstextinfostringspanp1spanclasstextinfostringspanp2">RhoFile.join</a> helper function and the <a href="../../api/Application/#publicfolder">Application.publicFolder property</a> to create a fully qualified path to the file. </p>

<p><strong>Pass the fully qualified path created above to the</strong> <a href="../../api/printingzebra/#sendfilecontentsspanclasstextinfostringspanpath">sendFileContents method</a>: </p>

<pre class="prettyprint"><code>
var addressFile = EB.RhoFile.join(EB.Application.publicFolder, 'address.cpcl');

//assuming an instance was created and connected 
//per the previous instructions

myPrinter.sendFileContents(addressFile,function(e){
    console.log(e);

    // Will return a PRINTER_STATUS... CONSTANT String

    });
</code></pre>

<h2 id="7disconnect" class="anchor"><a class="heading-anchor" href="#7disconnect"><span></span></a>7- Disconnect</h2>

<p>Whenever an app is finished printing, it's important to disconnect from the printer. This is especially important for Bluetooth connections. </p>

<p><strong>To disconnect, use the</strong> <a href="../../api/printingzebra/#disconnect">disconnect method</a>:</p>

<pre class="prettyprint"><code>
//assumes an instance object was created from previous instructions

myPrinter.disconnect();
</code></pre>

<h2 id="usingfilesstoredontheprinter" class="anchor"><a class="heading-anchor" href="#usingfilesstoredontheprinter"><span></span></a>Using Files Stored On The Printer</h2>

<p>Some printers have the ability to store command-file templates or other files useful for performaing print operations. </p>

<p><strong>Retrieve a list of files that exist on the printer using the <a href="../../api/printingzebra/#retrievefilenames">retrieveFileNames method</a></strong>: </p>

<pre class="prettyprint"><code>
myPrinter.retrieveFileNames(function (e){

    // e.status : PRINTER_STATUS_SUCCESS, PRINTER_STATUS_ERROR
    // e.fileNames : ARRAY of file names

});
</code></pre>

<p>Once the file names are known, the app can print with them, passing variables as specified within the ZPL or CPCL files themselves. This is done using either the <a href="../../api/printingzebra/#printstoredformatwitharrayspanclasstextinfostringspanformatpathonprinterspanclasstextinfoarrayspanvars">printStoredFormatWithArray method</a> or the <a href="../../api/printingzebra/#printstoredformatwithhashspanclasstextinfostringspanformatpathonprinterspanclasstextinfohashspanvars">printStoredFormatWithHash method</a>. </p>

<p>Both methods above include the three parameters below. </p>

<h3 id="parameter1formatpathonprinter" class="anchor"><a class="heading-anchor" href="#parameter1formatpathonprinter"><span></span></a>Parameter 1- formatPathOnPrinter</h3>

<p>This will be <strong>'E:&lt;filename&gt;'</strong> where 'filename' is the name of one of the files found using the steps above or another file on the device (assuming the file is stored in the printer's "E" partition). </p>

<h3 id="parameter2vars" class="anchor"><a class="heading-anchor" href="#parameter2vars"><span></span></a>Parameter 2- vars</h3>

<p>This represents the data to be passed to the label, and uses <code>printStoredFormatWithArray</code>, an array of strings representing the data to fill into the format. For ZPL formats, index 0 of the array corresponds to field number 2 (^FN2). For CPCL, the variables are passed in the order that they are found in the format. </p>

<p><strong>Pass some address data to the array</strong>:</p>

<pre class="prettyprint"><code>
myPrinter.printStoredFormatWithArray('E:LABEL.ZPL',['John Doe','123 East Main St','Smalltown, NY 11766'],function (e){

        // Will return a PRINTER_STATUS... CONSTANT String
    });
</code></pre>

<p>Supported by ZPL only is <code>printStoredFormatWithHash</code>, a hash that contains the key/value pairs for the stored format. For ZPL formats, the key number should correspond directly to the number of the field in the format. Number keys should be passed as strings (i.e.'1':'field1', '2':'field2', etc). </p>

<p><strong>Pass some address data to the hash</strong>:</p>

<pre class="prettyprint"><code>
myPrinter.printStoredFormatWithHash('E:LABEL.ZPL',{ '1':'John Doe','2': '123 East Main St','3': Smalltown, NY 11766'},function (e){

    // e = PRINTER_STATUS... CONSTANT String

    if(e == 'PRINTER_STATUS_SUCCESS')
        {

        }
    });
</code></pre>

<h3 id="parameter3callback" class="anchor"><a class="heading-anchor" href="#parameter3callback"><span></span></a>Parameter 3- callback</h3>

<p>This parameter will return a <a href="../../api/printingzebra/#constants">PRINTER_STATUS...</a> constant as a string.</p>

<h2 id="printingimages" class="anchor"><a class="heading-anchor" href="#printingimages"><span></span></a>Printing Images</h2>

<p>For printers with graphics support, images are printed using the <a href="../../api/printingzebra/#printimagefromfilespanclasstextinfostringspanfilepathondevicespanclasstextinfointegerspanxspanclasstextinfointegerspanyspanclasstextinfohashspanoptions">printImageFromFile method</a>. For example, an image called <code>myImage.jpg</code> in the application's <code>public</code> folder could use the same <a href="../../api/File/#joinspanclasstextinfostringspanp1spanclasstextinfostringspanp2">RhoFile.join</a> helper function and <a href="../../api/Application/#publicfolder">Application.publicFolder property</a> described above to create a fully qualified path to the <code>myImage.jpg</code> file. </p>

<p><strong>After creating the fully qualified path, pass the file to the</strong> <a href="../../api/printingzebra/#printimagefromfilespanclasstextinfostringspanfilepathondevicespanclasstextinfointegerspanxspanclasstextinfointegerspanyspanclasstextinfohashspanoptions">printImageFromFile method</a>**:</p>

<pre class="prettyprint"><code>
var imagefile = EB.RhoFile.join(EB.Application.publicFolder, 'myImage.jpg');

//assuming an instance was created and connected 
//per the previous instructions

myPrinter.printImageFromFile(imagefile,0,0,{},function(e){

    // e = PRINTER_STATUS... CONSTANT String

    if(e == 'PRINTER_STATUS_SUCCESS')
        {

        }
    });
</code></pre>

<p>A callback for the <a href="../../api/printingzebra/#constants">PRINTER_STATUS</a> constant would return a string indicating whether the operation was successful.</p>

<p><strong>NOTE</strong>: Images larger than 1024x768 might take a long time or print incorrectly. Consult the printer manufacturer's documentation for image printing parameters. </p>

<h3 id="storingimages" class="anchor"><a class="heading-anchor" href="#storingimages"><span></span></a>Storing Images</h3>

<p>For Zebra printers that support the storage of images, this can be done by creating a ZPL or CPL command set or by using the <a href="../../api/printingzebra/#storeimagespanclasstextinfostringspanprinterdriveandfilenamespanclasstextinfostringspanimagefilepathondevicespanclasstextinfointegerspanwidthspanclasstextinfointegerspanheight">storeImage method</a>. </p>

<p><strong>To store an image on the printer using the</strong> <a href="../../api/printingzebra/#storeimagespanclasstextinfostringspanprinterdriveandfilenamespanclasstextinfostringspanimagefilepathondevicespanclasstextinfointegerspanwidthspanclasstextinfointegerspanheight">storeImage method</a>: </p>

<pre class="prettyprint"><code>
//location of image on device:

var imagefile = EB.RhoFile.join(EB.Application.publicFolder, 'myImage.jpg');

//destination of image on the printer. Must have partion specified:

var destination = "E:LOGO.GRF"

//assumin an instance was created and connected 
//per the previous instructions:

myPrinter.storeImageFromFile(destination,imagefile,0,0,{},function(e){

    // e = PRINTER_STATUS... CONSTANT String
    if(e == 'PRINTER_STATUS_SUCCESS')
        {

        }
    });
</code></pre><p></p>
                                        


                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                </div><!--/.col-sm-6-->
            </div>
            </section>
        </div>
    </section>    

<div class="modal fade" id="basicModal" tabindex="-1" role="dialog" aria-labelledby="basicModal" aria-hidden="true" data-backdrop="true">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal" aria-hidden="true">X</button>
					</div>
					<div class="modal-body">
						<div id="modalImg">
						
						</div>
					</div>
			</div>
		  </div>
		</div> </div>
         <footer id="footer" class="navbar-fixed-bottom">
            <div class="container-fluid">
                <div class="row">
                    <div class="col-sm-10">
                        © 2015 ZIH Corp and/or its affiliates. All rights reserved. Zebra and the stylized Zebra head are trademarks of ZIH Corp., registered in many jurisdictions worldwide. All other trademarks are the property of their respective owners. <a href="https://www.zebra.com/us/en/about-zebra/company-information/compliance/information-privacy/terms-of-use.html">Terms &amp; Conditions</a>
                    </div>
                    <div class="col-sm-2">
                        <ul class="social-icons">
                            <li><a href="http://www.facebook.com/pages/Zebra-Technologies/107703715989073"><i class="fa fa-facebook"></i></a></li>
                            <li><a href="https://twitter.com/ZebraDevs"><i class="fa fa-twitter"></i></a></li>
                            <li><a href="http://www.youtube.com/zebratechnologies/"><i class="fa fa-youtube"></i></a></li>
                            <li><a href="https://www.linkedin.com/groups?home=&amp;gid=3220074&amp;trk=anet_ug_hm&amp;goback=%2Egmr_3220074"><i class="fa fa-linkedin"></i></a></li>
                            <li><a href="https://github.com/developer-zebra"><i class="fa fa-github"></i></a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </footer><!--/#footer-->
    <script src="/js/bootstrap.min.js"></script>
    <script src="/js/owl.carousel.min.js"></script>
    <script src="/js/mousescroll.js"></script>
    <script src="/js/smoothscroll.js"></script>
    <script src="/js/jquery.prettyPhoto.js"></script>
    <script src="/js/jquery.isotope.min.js"></script>
    <script src="/js/jquery.inview.min.js"></script>
    <script src="/js/wow.min.js"></script>
    <script src="/js/bootstrap-treenav.min.js"></script>
    <script src="/js/prettify.js"></script>
    <script src="/js/zepto.js"></script>
    <script src="/js/jquery.waterfall.js"></script>   
    <script src="/js/main.js"></script>

<script type="text/javascript">
  (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
  (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
  e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
  })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

  _st('install','zRzEsAUhWTTkrdEN2YfA','2.0.0');
</script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-72584442-1', 'auto');
  ga('send', 'pageview');

</script> 

<script>
    ChatraID = 'QDvZ76min4DhLW5vJ';
    (function(d, w, c) {
        var n = d.getElementsByTagName('script')[0],
            s = d.createElement('script');
        w[c] = w[c] || function() {
            (w[c].q = w[c].q || []).push(arguments);
        };
        s.async = true;
        s.src = (d.location.protocol === 'https:' ? 'https:': 'http:')
            + '//call.chatra.io/chatra.js';
        n.parentNode.insertBefore(s, n);
    })(document, window, 'Chatra');
</script>         


</body></html>