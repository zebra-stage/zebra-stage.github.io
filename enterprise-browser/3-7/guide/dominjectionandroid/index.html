
<!DOCTYPE html>
<html lang="en"><head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Online Documentation for Zebra Technologies developer tools and utiltiescomp including EMDK for Android, EMDK for Xamarin, StageNow, Enterprise Browser.">
    <meta name="author" content="Zebra Technologies">
    <meta name="google-site-verification" content="i4B78BrWnNy8ShJwe5feRW3jO3HE6gfYlYqYbxfl8yY">
    <meta name="msvalidate.01" content="6B651B00161BCE79B8950AC09D5C4C75">
    <meta title="DOM Injection for Android">
    <title>DOM Injection for Android - Zebra Technologies TechDocs</title>
    <!-- core CSS -->
    <link href="/css/bootstrap.min.css" rel="stylesheet">
    <link href="/css/font-awesome.min.css" rel="stylesheet">
    <link href="/css/animate.min.css" rel="stylesheet">
    <link href="/css/owl.carousel.css" rel="stylesheet">
    <link href="/css/owl.transitions.css" rel="stylesheet">
    <link href="/css/prettyPhoto.css" rel="stylesheet">
    <link href="/css/main.css" rel="stylesheet">
    <link href="/css/responsive.css" rel="stylesheet">
    <link href="/css/prettify.css" rel="stylesheet">
    <link href="/css/bootstrap-treenav.min.css" rel="stylesheet">
    <!--[if lt IE 9]>
    <script src="js/html5shiv.js"></script>
    <script src="js/respond.min.js"></script>
    <![endif]--> 

    <script src="//load.sumome.com/" data-sumo-site-id="699cb66cf4dc59352efb45705526d15cbe314e1cd43f7761b94d96f3cf7338e8" async="async"></script>
    <link rel="shortcut icon" href="/favicon.ico">
<script src="/js/jquery.js"></script></head><!--/head-->


<body id="home" class="homepage" data-spy="scroll" data-offset="100" data-target="#toc">

    <header id="header">
        <nav id="main-menu" class="navbar navbar-default navbar-fixed-top" role="banner">
            <div class="container-fluid">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="/"><img src="/images/logo.png" alt="logo" style="max-height:42px;float: inherit;
    padding-right: 3px;"></a> 
                    
                   
                </div>
                <div class="collapse navbar-collapse navbar-left">
                    <ul class="nav navbar-nav">
                        <li class="navbar-text pull-left"><strong>TechDocs</strong></li>
                        <li class="dropdown">
                          <button class="btn btn-default dropdown-toggle" type="button" data-toggle="dropdown"> Enterprise Browser 3.7
                          <span class="caret"></span></button>
                          <ul class="dropdown-menu">
                                <li><a onclick="changeVersion('3-5','1-4','/enterprise-browser/3-7/guide/about')">Enterprise Browser 1.4</a></li>
                          </ul>
                        </li>                    
                    </ul>
                </div>
                <div class="collapse navbar-collapse navbar-right">
                    <ul class="nav navbar-nav">
                        


                        <li>
                            <a href="/enterprise-browser/3-7/guide/about">
                                    About
                            </a>
                        </li>
                        <li>
                            <a href="/enterprise-browser/3-7/guide/gettingstarted/">
                                    Start Here
                            </a>
                        </li>
                        <li>
                            <a href="/enterprise-browser/3-7/tutorial/">
                                    Tutorials
                            </a>
                        </li>
                        <li>
                            <a href="/enterprise-browser/3-7/guide/samples">
                                    Sample Apps
                            </a>
                        </li>
                        <li>
                            <a href="/enterprise-browser/3-7/guide">
                                    Guides
                            </a>
                        </li>
                        <li>
                            <a href="/enterprise-browser/3-7/guide/licensing">
                                    License
                            </a>
                        </li>
                        <li>
                            <a href="/enterprise-browser/3-7/guide/migration">
                                    Migrate
                            </a>
                        </li>
                        <li>
                            <a href="/enterprise-browser/3-7/guide/configreference">
                                    Config.xml
                            </a>
                        </li>
                        <li>
                            <a href="/enterprise-browser/3-7/api">
                                    APIs
                            </a>
                        </li>
                        <li>
                            <a href="https://www.youtube.com/playlist?list=PLce6-npz5dKcUY98npViY6QbuL3yhAXCx">
                                    <i class="fa fa-youtube-play"></i>
                            </a>
                        </li>
                        <li>
                            <a href="/enterprise-browser/3-7/download">
                                    <i class="fa fa-download"></i>
                            </a>
                        </li>
                        <li>
                            <a href="/enterprise-browser/3-7/search">
                                    <i class="fa fa-search"></i>
                            </a>
                        </li>
                        <!-- <li ><a href="/products">SDKs</a></li>
                        <li ><a href="/samples">Samples</a></li>
                        <li ><a href="/guides">Guides</a></li>
                        <li ><a href="/tutorials">Tutorials</a></li>
                        <li ><a href="/apis">APIs</a></li> -->
                        <!-- <li><a href="#"><input type="text" class="st-default-search-input"></a></li> -->
                    </ul>
                </div>
            </div><!--/.container-->
        </nav><!--/nav-->
    </header><!--/header-->
<div class="container-fluid">
    <section id="blog">
        <div class="">
            <section class="content-with-sidebar">
            <div class="row">
                <div class="col-sm-3 hidden-sm hidden-xs" id="sidebar">
                    
                    
                    <nav id="toc" data-toggle="toc" data-spy="affix" style="height: 75%; max-width: 225px; overflow-y: auto; ">
                        
                        <ul class="nav">
                            <li><strong>DOM Injection for Android</strong></li>
                        </ul>
                    </nav>
                    <div class="modal fade" id="modal-smartdocs" tabindex="-1" role="dialog" aria-labelledby="basicModal" aria-hidden="true" data-backdrop="true">
                    	<div class="modal-dialog">
                    		<div class="modal-content">
                    			<div class="modal-header">
                    				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">X</button>
                    			</div>
                    			<div class="modal-body">
                    				<form>
                    				  <div class="form-group">
                    				    <label for="exampleInputEmail1">MX Version On Device:</label>
                    				    <select class="form-control">
                    					  <option value="4.0">4.0</option>
                    					  <option value="4.1">4.1</option>
                    					  <option value="4.2">4.2</option>
                    					  <option value="4.3">4.3</option>
                    					  <option value="5.0">5.0</option>
                    					</select>
                    				  </div>						
                    				  <div class="form-group">
                    				    <label for="exampleInputEmail1">OSX Version On Device:</label>
                    				    <select class="form-control">
                    					  <option value="1.0">1.0</option>
                    					  <option value="1.2">1.2</option>
                    					  <option value="1.3.4-56">1.3.4-56</option>
                    					  <option value="3.4">3.4</option>
                    					  <option value="3.5">3.5</option>
                    					  <option value="3.6">3.6</option>
                    					  <option value="4.1">4.1</option>
                    					  <option value="4.2">4.2</option>
                    					  <option value="4.3">4.3</option>
                    					  <option value="4.4">4.4</option>
                    					</select>
                    				  </div>						
                    				  <div class="form-group">
                    				    <label for="exampleInputEmail1">Android Version On Device:</label>
                    				    <select class="form-control">
                    					  <option value="23">6.0 Marshmallow</option>
                    					  <option value="22">5.1 Lollipop</option>
                    					  <option value="21">5.0 Lollipop</option>
                    					  <option value="19">4.4 Kitkat</option>
                    					  <option value="18">4.3 Jellybean</option>
                    					  <option value="17">4.2.x Jellybean</option>
                    					  <option value="16">4.1.x Jellybean</option>
                    					  <option value="15">4.0.3-4.0.4 Ice Cream Sandwich</option>
                    					  <option value="14">4.0-4.0.2 Ice Cream Sandwich</option>
                    					  <option value="10">2.3.3-2.3.4 Gingerbread</option>
                    					</select>
                    				  </div>
                    				  <div class="form-group">
                    				  	<button class="primary" id="btn_SaveSmartDocOptions">Save Changes</button><button class="primary" id="btn_ClearSmartDocOptions">Clear Changes</button>
                    				  </div>
                    				</form>
                    			</div>
                    	</div>
                      </div>
                    </div>
                    
                    <script type="text/javascript">
                        $(document).ready(function() {
                        	$( "#btn_SaveSmartDocOptions" ).click(function() {
                      			console.log('Saving Options');
                      			$("#modal-smartdocs").modal({show: false});
                    		});
                        	$( "#btn_SaveSmartDocOptions" ).click(function() {
                      			console.log('Clearing Options');
                      			$("#modal-smartdocs").modal({show: false});
                    		});
                        });
                    </script><link rel="stylesheet" href="https://cdn.rawgit.com/afeld/bootstrap-toc/v0.3.0/dist/bootstrap-toc.min.css">
                    <script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v0.3.0/dist/bootstrap-toc.min.js"></script>
                    <script type="text/javascript">
                        $(document).ready(function() {
                    
                        });
                    
                    
                    </script>
                </div>                
                <div class="col-sm-9 ">
                    <div class="row">
                        <div class="col-sm-12">
                            <section id="cta" class="wow fadeIn">
                                <div class="">
                                    <h1 id="dom-injection-for-android" class="anchor"><a class="heading-anchor" href="#dom-injection-for-android"><span></span></a>DOM Injection for Android</h1>
                                    <p>
                                            Enterprise Browser
                                            3.7
                                    </p>
                                </div>
                            </section>                    
                        </div>
                    </div>
                    <div id="mainContent" class="row">
                        <div class="col-sm-12">
                            <div class="blog-post blog-large fadeInLeft" data-wow-duration="300ms" data-wow-delay="0ms">
                            <!-- Start of guide -->
                                <div class="service-box fadeInRight">
                                    <div class="">

                                        <p></p><h2 id="overview" class="anchor"><a class="heading-anchor" href="#overview"><span></span></a>Overview</h2>

<p>Apps running on Enterprise Browser 1.3 and higher support DOM injection, which inserts CSS, JavaScript and/or meta tags into a running app without modifying the underlying app. This permits features, capabilities and even the look and feel of part or all of any app to be modified or customized at runtime <strong><u>without changing the original source code</u></strong>. </p>

<p>This can be useful, for example, to inject EB JavaScript libraries or other business logic into an SAP ITSmobile or other app for which there's no way to edit the source. DOM injection occurs after the page is completely loaded, ensuring that page modifications are applied only after <a href="../dominjectionandroid/#whatisthedom">the DOM</a> is ready for them.</p>

<p>Enabled by default, DOM injection is <strong>activated by the <a href="../configreference/#dominjection">&lt;CustomDOMElements&gt; tag</a></strong> of the app's <code>Config.xml</code> file. No special licensing is required. </p>

<blockquote>
  <p><strong>NOTE</strong>: Enterprise Browser 2.6 and later supports <a href="../eac">Enterprise Application Configurator</a>, an EB companion utility that simplifies DOM injection implementation.   </p>
</blockquote>

<h3 id="requirements" class="anchor"><a class="heading-anchor" href="#requirements"><span></span></a>Requirements</h3>

<p>To use DOM injection, <strong>ALL of the following must be true</strong>:</p>

<ul>
<li>The app being injected is running on Enterprise Browser 1.3 (or higher).</li>

<li>A <code>tags</code> file containing elements to be injected has been created and pushed to the target device.</li>

<li>The path to the <code>tags</code> file is specified in the app's <code>Config.xml</code> file (see <a href="#step2updateconfigxml">Step 2</a>).</li>

<li>The target device is running Android with the stock webkit. </li>
</ul>

<h3 id="supportsinjectionof" class="anchor"><a class="heading-anchor" href="#supportsinjectionof"><span></span></a>Supports injection of:</h3>

<ul>
<li>JavaScript or CSS files stored locally on the device</li>

<li>JavaScript or CSS files stored on a server </li>

<li>Meta tags described in the <code>tags</code> file (stored on the device)</li>

<li>Local files specified using absolute paths or <a href="../configreference/#substitutionvariables">EB substitution variables</a> (i.e. <strong>%INSTALLDIR%</strong>)</li>
</ul>

<h3 id="supportedinjectionconditions" class="anchor"><a class="heading-anchor" href="#supportedinjectionconditions"><span></span></a>Supported injection conditions:</h3>

<ul>
<li>Injects into all navigated pages (using wildcard character)</li>

<li>Injects into all pages that contain a unique string or HTML element (using <code>pagecontent</code> attribute)</li>

<li>Injects only into specified pages (by URL; server-based pages only)</li>
</ul>

<blockquote>
  <p><i class="fa fa-exclamation-triangle" style="color:#FFA500;"></i> <strong>Zebra recommends using substitution variables (and avoiding absolute paths) whenever possible</strong>. </p>
</blockquote>

<hr>

<h2 id="step1preparetagsfile" class="anchor"><a class="heading-anchor" href="#step1preparetagsfile"><span></span></a>Step 1 - Prepare 'Tags' File</h2>

<p>The "tags" file is the list of elements (i.e. JavaScript, CSS and/or meta tags) to be injected into the DOM and the pages to receive the injections. Formatting syntax is similar to that of ordinary HTML tags for including scripts, style sheets and meta data. The specific tagging syntax for DOM injection is explained in the <a href="#taggingguidelines">Tagging Guidelines section</a> below. The file can be saved using any name (i.e. <code>mytags.txt</code>).  </p>

<p><strong>To create a tags file</strong>: </p>

<ol>
<li><strong>Create a text file</strong> to contain the desired DOM-injection elements. </li>

<li><strong>Copy code lines from the samples</strong> below or in the <a href="#examples">Example section</a>, paste them into the new document and modify their contents to match the app's requirement(s). </li>

<li><strong>Push the file to the device</strong>; make note of the path and file name. </li>

<li><strong>Proceed to Step 2</strong>: update the <code>Config.xml</code> file. </li>
</ol>

<p><strong>The following rules apply</strong>: </p>

<ul>
<li><u><strong>All tags in the</strong> <code>tags</code> <strong>file <em>must</em> contain the injection-specific "pages" attribute</strong></u>.</li>

<li><strong>Use of the wildcard (*) character</strong> causes injection into all navigated pages.</li>

<li><strong>If using server-based JavaScript</strong>, see JavaScript injection section (below) for dependency cautions.</li>

<li><strong>An optional 'pagecontent' attribute can be used</strong> to add a page-specific string for triggering injection (EB 2.0 and higher only).</li>

<li>Attribute values must not be left blank.</li>

<li>All tags must have beginning (&lt;) and ending (/&gt;) angle brackets.</li>

<li>Each tag in the <code>tags</code> file must be on a separate line.</li>

<li>Local pages support only the <code>pages='*’</code> syntax. To inject tags into a specific local page, use <code>pages='*'</code> in combination with the <code>pagecontent</code> attribute.</li>
</ul>

<!-- 12/5/18- removed per eng. 
* The `.html` file extension is assumed; specify the extension only if different.
* **For local files**, actions work from the directory relative to the installation root; include qualified path or substitution variable (**recommended**) only if different. 
* **For server-based CSS or JavaScript files**, actions work relative to the app's start page; include full URL if different.
* **URLs are supported for server-based CSS and JavaScript files only**.
* All meta tag data must be contained completely within the `tags` file.
-->

<hr>

<h2 id="step2updateconfigxml" class="anchor"><a class="heading-anchor" href="#step2updateconfigxml"><span></span></a>Step 2- Update Config.xml</h2>

<p><strong>Before proceeding, the</strong> <code>tags</code> <strong>file created in Step 1 must reside on the device and its path and file name must be known</strong>. </p>

<p>By default, the &lt;CustomDOMElements&gt; tag in the app's <code>Config.xml</code> file contains no value. DOM injection cannot function unless a path to the <code>tags</code> file on the device is specified.</p>

<ul>
<li><p><strong>Specify the path to the tags file</strong> by adding a line (similar to the one below) in the <code>&lt;Application&gt;</code> section in the app's <code>Config.xml</code> file:  </p>

<pre class="prettyprint"><code>
&lt;Application&gt;
...
    &lt;CustomDOMElements value="file://%INSTALLDIR%/mytags.txt"/&gt;
...
&lt;/Application&gt;
</code></pre></li>
</ul>

<p>For information about how to configure the <code>Config.xml</code> file, see the <a href="../configreference">Config.xml Reference Guide</a>. </p>

<blockquote>
  <p><strong>Note</strong>: The &lt;CustomDOMElements&gt; tag cannot be configured using the <a href="../OndeviceConfig">On-device Config Editor utility</a>.  </p>
</blockquote>

<hr>

<h2 id="taggingguidelines" class="anchor"><a class="heading-anchor" href="#taggingguidelines"><span></span></a>Tagging Guidelines</h2>

<h3 id="pagestag" class="anchor"><a class="heading-anchor" href="#pagestag"><span></span></a>'Pages' tag</h3>

<p>The <code>pages</code> tag is used to specify the page(s) into which DOM elements are injected. This tag supports specification of an app's individual HTML pages ("startPage.html," "scanPage.html" etc.), server-based application pages (specified as individual or relative URLs) and the wildcard character (*), which injects the specified elements into all navigated pages of the app. </p>

<h5 id="injectajavascriptfileintoallpagesfrominstalleddirectorysubstitutionvariable" class="anchor"><a class="heading-anchor" href="#injectajavascriptfileintoallpagesfrominstalleddirectorysubstitutionvariable"><span></span></a>Inject a JavaScript file into all pages from "installed" directory (substitution variable):</h5>

<pre class="prettyprint"><code>
&lt;script type='text/javascript' src='file://%INSTALLDIR%/enroll.js' pages='*' /&gt;
</code></pre>

<h5 id="injectacssfileintoallpagesusingabsolutepath" class="anchor"><a class="heading-anchor" href="#injectacssfileintoallpagesusingabsolutepath"><span></span></a>Inject a CSS file into all pages using absolute path:</h5>

<pre class="prettyprint"><code>&lt;link rel='stylesheet' type='text/css' href='file:///storage/emulated/0/Android/data/com.zebra.mdna.enterprisebrowser/mystyle.css'  pages='*' /&gt;
</code></pre>

<h5 id="injectajavascriptfileintooneserverpageusingrelativereferenceserverbasedpagesonly" class="anchor"><a class="heading-anchor" href="#injectajavascriptfileintooneserverpageusingrelativereferenceserverbasedpagesonly"><span></span></a>Inject a JavaScript file into one server page using relative reference (server-based pages only):</h5>

<pre class="prettyprint"><code>
&lt;script type='text/javascript' src='file://%INSTALLDIR%/enroll.js' pages='/mypages/page2.html; /mypages/page5.html' /&gt;
</code></pre>

<p><em>On server-based apps, DOM injection references are relative to the startPage URL. <br>For example, "http://myserver.com/mypages/startPage.html"</em> could be the full URL for the example above. 
<br></p>

<p>See <a href="#examples">more code examples</a>. </p>

<hr>

<h3 id="pagecontenttag" class="anchor"><a class="heading-anchor" href="#pagecontenttag"><span></span></a>'Pagecontent' tag</h3>

<p><strong><em>Supported in Enterprise Browser 2.0 (and higher) only</em></strong>. </p>

<p>The <code>pagecontent</code> tag is used for DOM injection into navigated pages only when a specific string or HTML element is present on the page. This allows the developer to set specific conditions under which an action is executed, for example to run a login script only on pages that contain a login prompt. </p>

<p>Attributes of DOM injection tags: </p>

<p><strong>Note that the "pages" attribute specifies the file name of the page into which the element defined in the tag is injected</strong>. </p>

<h5 id="injectenrolljsfilefromtheinstalldirectoryifthestringchangepasswordisfoundonanypage" class="anchor"><a class="heading-anchor" href="#injectenrolljsfilefromtheinstalldirectoryifthestringchangepasswordisfoundonanypage"><span></span></a>Inject <code>enroll.js</code> file from the "install" directory if the string "Change Password" is found on any page:</h5>

<pre class="prettyprint"><code>
&lt;script type='text/javascript' src='file://%INSTALLDIR%/enroll.js' pagecontent='Change Password' pages='*' /&gt;
</code></pre>

<p><br></p>

<p><img alt="" style="height:219px" src="sap1.png">
<em>An app login page that contains 'Change Password' text</em>.
<br></p>

<p>If injection is desired on a page that displays no visible text, it's possible to identify a unique 'pagecontent' element by using the inspection tool available on most standard browsers (i.e. Chrome or Firefox). The image below uses Chrome's "elements view" to show the HTML code behind a hidden login prompt from an SAP web app:</p>

<p><img alt="" style="height:350px" src="sap2.png">
<br></p>

<p>Once identified, copy the "outerXML" of the element and paste it into the 'pagecontent' tag to allow the EB app identify the desired element for injection: </p>

<pre class="prettyprint"><code>&lt;script type='text/javascript' src='file://%INSTALLDIR%/previous.js' pagecontent='&lt;input type="hidden" name="sap-system-login-oninputprocessing" value="onProceed"&gt;' pages='*' /&gt;
</code></pre>

<p><strong>Notes</strong>: </p>

<ul>
<li>When specifying lengthy HTML elements, avoid syntax errors by carefully checking usage of spaces and single- and double-quotation marks (as in sample above). </li>

<li>Multi-line values are not supported.</li>
</ul>

<h5 id="whenalltagsarecompletedstorethetagsfileonthedeviceandtakenoteofthefilenameandpath" class="anchor"><a class="heading-anchor" href="#whenalltagsarecompletedstorethetagsfileonthedeviceandtakenoteofthefilenameandpath"><span></span></a>When all tags are completed, store the tags file on the device and take note of the file name and path.</h5>

<p>This tag must contain a fully qualified path to the device-resident "tags" file, which is required for DOM injection. The <code>tags</code> file defines the DOM element(s) to be injected and the names or identifying contents of the page(s) to receive injections whenever they're displayed. </p>

<p>See <a href="#examples">more code examples</a>. </p>

<hr>

<h3 id="javascriptinjectionexamples" class="anchor"><a class="heading-anchor" href="#javascriptinjectionexamples"><span></span></a>JavaScript Injection Examples</h3>

<p>JavaScript can be injected either through file protocol or by using an absolute path, <a href="../configreference/#substitutionvariables">substitution variable</a>, or server path relative to the EB app's start page. <strong>Different rules apply to injection of local and server-based JavaScript, and might affect the app if dependencies exist between the JavaScript modules in use</strong>. </p>

<blockquote>
  <p><i class="fa fa-exclamation-triangle" style="color:#FFA500;"></i> <strong>Zebra recommends using substitution variables (and avoiding absolute paths) whenever possible</strong>. </p>
</blockquote>

<h4 id="injectjavascriptusingsubstitutionvariables" class="anchor"><a class="heading-anchor" href="#injectjavascriptusingsubstitutionvariables"><span></span></a>Inject JavaScript Using Substitution Variables</h4>

<p>The examples below inject JavaScript into all files in the directories indicated. </p>

<p>Inject JavaScript into all files in the Enterprise Browser default installation directory: </p>

<pre class="prettyprint"><code>
&lt;script type='text/javascript' src='file://%INSTALLDIR%/enroll.js' pages='*' /&gt;
</code></pre>

<p>Inject JavaScript into all files in the Enterprise Browser persistence directory (i.e. <code>/enterprise</code> directory): </p>

<pre class="prettyprint"><code>
&lt;script type='text/javascript' src='file://%PERSISTCONFDIR%/enroll2.js' pages='*' /&gt;
</code></pre>

<h4 id="injectlocaljavascript" class="anchor"><a class="heading-anchor" href="#injectlocaljavascript"><span></span></a>Inject Local JavaScript</h4>

<p>When using the file protocol, the JavaScript file(s) must be resident on the target device and have path(s) specified in the <code>src</code> attribute of the script tag using the <code>file://</code> designation. For example, the following lines inject JavaScript files into all pages of the app-relative directory:</p>

<pre class="prettyprint"><code>
&lt;script type='text/javascript' src='file:///storage/emulated/0/Android/data/com.zebra.mdna.enterprisebrowser/jquery.js' pages='*'/&gt;

&lt;script type='text/javascript' src='file:///storage/emulated/0/Android/data/com.zebra.mdna.enterprisebrowser/mytest.js' pages='*'/&gt;
</code></pre>

<p><strong>Notes</strong></p>

<ul>
<li>Local JavaScript files are injected consecutively in the order they appear in the tags file.</li>

<li>Each JavaScript file is loaded completely before the next file begins to load. </li>

<li>DOM injections occur every time a page is loaded, <strong>so changes to JavaScript files injected in this way can be put into effect simply by refreshing the relevant page</strong>.</li>
</ul>

<h4 id="injectserverbasedjavascript" class="anchor"><a class="heading-anchor" href="#injectserverbasedjavascript"><span></span></a>Inject Server-based JavaScript</h4>

<p>Here, four JavaScript files are injected from a server into all pages: </p>

<pre class="prettyprint"><code>    
    &lt;script type='text/javascript' src='http:\\myserver.com\elements.js' pages='*' /&gt; 
    &lt;script type='text/javascript' src='http:\\myserver.com\jquery.js' pages='*' /&gt; 
    &lt;script type='text/javascript' src='http:\\myserver.com\jquery-1.11.3.js' pages='*' /&gt;
    &lt;script type='text/javascript' src='http:\\myserver.com\test.js' pages='*' /&gt;  
</code></pre>

<p>With server-based injection, Enterprise Browser commands the engine to inject JavaScript to the DOM asynchronously, which (for example) might cause <code>jquery.js</code> to be loaded before <code>element.js</code>. Therefore, <strong>if JavaScript files are interdependent, additional steps might be required to avoid failure due to a dependency issue</strong> (see below). </p>

<p>In another example, the tags file below is used to inject the <code>ebapi-modules.js</code> and <code>test.js</code> files into all navigated page. </p>

<pre class="prettyprint"><code>    
    &lt;script type="text/javascript" src="http://myserver.com/scripts/ebapi-modules.js" pages="*" /&gt;

    &lt;script type="text/javascript" src="http://myserver.com/scripts/test.js" pages="*" /&gt;
</code></pre>

<p>If an attribute contained in the <code>ebapi-modules.js</code> file--for example the EB namespace--is required by <code>test.js</code>, an error might occur if <code>test.js</code> is injected first. To guard against this, it might be useful for <code>test.js</code> to include some logic (like the JavaScript below) so that it waits until its dependent JavaScript (<code>ebapi-modules.js</code>) is loaded.</p>

<p>Sample JavaScript to delay loading: </p>

<pre class="prettyprint"><code>    
    (function() {

    // Poll for EB namespace to come into existence
    var checkReady = function(callback) {
        if (window.EB) {
            callback(EB);
        }
        else {
            window.setTimeout(function() { checkReady(callback); }, 100); //check here
        }
    };
    // Start polling...
    checkReady(function(EB) {
      alert(EB.Application.appName); //use EB api here
    });
})();
</code></pre>

<hr>

<h2 id="examples" class="anchor"><a class="heading-anchor" href="#examples"><span></span></a>Examples</h2>

<h5 id="injectajavascriptfileintoallpagesusingabsolutepath" class="anchor"><a class="heading-anchor" href="#injectajavascriptfileintoallpagesusingabsolutepath"><span></span></a>Inject a JavaScript file into all pages using absolute path:</h5>

<pre class="prettyprint"><code>&lt;script type='text/javascript' src='file:///storage/emulated/0/Android/data/com.zebra.mdna.enterprisebrowser/mytest.js' pages='*'/&gt;
</code></pre>

<p><br></p>

<h5 id="injectacssfileintoallpagesusingabsolutepath-1" class="anchor"><a class="heading-anchor" href="#injectacssfileintoallpagesusingabsolutepath-1"><span></span></a>Inject a CSS file into all pages using absolute path:</h5>

<pre class="prettyprint"><code>&lt;link rel='stylesheet' type='text/css' href='file:///storage/emulated/0/Android/data/com.zebra.mdna.enterprisebrowser/mystyle.css'  pages='*' /&gt;
</code></pre>

<p><br></p>

<h5 id="injectacssfileintoallpagesfromtherootdirectorysubstitutionvariable" class="anchor"><a class="heading-anchor" href="#injectacssfileintoallpagesfromtherootdirectorysubstitutionvariable"><span></span></a>Inject a CSS file into all pages from the root directory (substitution variable):</h5>

<pre class="prettyprint"><code>&lt;link rel='stylesheet' type='text/css' href='file://%PERSISTCONFDIR%/mystyle.css'  pages='*' /&gt;
</code></pre>

<p><br></p>

<h5 id="injectajavascriptfilefromaserverintoallpages" class="anchor"><a class="heading-anchor" href="#injectajavascriptfilefromaserverintoallpages"><span></span></a>Inject a JavaScript file from a server into all pages:</h5>

<pre class="prettyprint"><code>&lt;script type='text/javascript' src='http://myserver.com/test.js' pages='*'/&gt;
</code></pre>

<p><br></p>

<h5 id="injectametatagtorefreshallpagesevery30seconds" class="anchor"><a class="heading-anchor" href="#injectametatagtorefreshallpagesevery30seconds"><span></span></a>Inject a meta tag to refresh all pages every 30 seconds:</h5>

<pre class="prettyprint"><code>&lt;meta http-equiv="refresh" content="30" pages='*' /&gt;
</code></pre>

<p><br></p>

<h5 id="enablethescanneronallpages" class="anchor"><a class="heading-anchor" href="#enablethescanneronallpages"><span></span></a>Enable the scanner on all pages</h5>

<pre class="prettyprint"><code>&lt;meta HTTP-Equiv="scanner" Content="Enable" pages='*'/&gt; 
</code></pre>

<p><br></p>

<h5 id="injectthejavascriptfileenrolljsontoanypagethatcontainsachangepasswordstring" class="anchor"><a class="heading-anchor" href="#injectthejavascriptfileenrolljsontoanypagethatcontainsachangepasswordstring"><span></span></a>Inject the JavaScript file <code>enroll.js</code> onto any page that contains a "Change Password" string:</h5>

<pre class="prettyprint"><code>&lt;script type='text/javascript' src='file://%INSTALLDIR%/enroll.js' pagecontent=' Change Password’ pages='*' /&gt;
</code></pre>

<p><br></p>

<h5 id="injectthejavascriptfilepreviousjsonanypagethatcontainsaspecifichtmlelement" class="anchor"><a class="heading-anchor" href="#injectthejavascriptfilepreviousjsonanypagethatcontainsaspecifichtmlelement"><span></span></a>Inject the JavaScript file <code>previous.js</code> on any page that contains a specific HTML element:</h5>

<pre class="prettyprint"><code>
&lt;script type='text/javascript' src='file://%INSTALLDIR%/previous.js' pagecontent='&lt;input class="clr-button branded-highlight-bg branded-highlight-item" data-ats-id="Previous-button" name="Previous" onclick="" style="margin-right:5px;" type="button" value="Previous"&gt;' pages='*' /&gt;
</code></pre>

<p><br></p>

<h5 id="injectmystylecssfilefromtheinstalldirectoryifthestringenterusernameisfoundonanypage" class="anchor"><a class="heading-anchor" href="#injectmystylecssfilefromtheinstalldirectoryifthestringenterusernameisfoundonanypage"><span></span></a>Inject <code>mystyle.css</code> file from the "install" directory if the string "Enter User Name" is found on any page:</h5>

<pre class="prettyprint"><code>
&lt;link rel='stylesheet' type='text/css' href='file://%INSTALLDIR%/mystyle.css'  pagecontent='Enter User Name' pages='*' /&gt;
</code></pre>

<p><br></p>

<hr>

<h5 id="sampletagsfile" class="anchor"><a class="heading-anchor" href="#sampletagsfile"><span></span></a>Sample tags file</h5>

<p>The following is an example of a complete tags file:  </p>

<pre class="prettyprint"><code>// Sample tags file for DOM injection
// FILENAME: 'mytags.txt'
//
&lt;script type='text/javascript' src='file://%INSTALLDIR%/all.js' pages='*' /&gt; 
&lt;script type='text/javascript' src='file://%INSTALLDIR%/enroll.js' pagecontent='Enter your ID' pages='*' /&gt; 
&lt;script type='text/javascript' src='file://%INSTALLDIR%/login.js' pagecontent='Enter your User Name' pages='*' /&gt; 
&lt;script type='text/javascript' src='file://%INSTALLDIR%/download.js' pagecontent='Select your Choice' pages='*' /&gt; 
&lt;script type='text/javascript' src='file://%INSTALLDIR%/next.js' pagecontent='Next' pages='*' /&gt; 
&lt;script type='text/javascript' src='file://%INSTALLDIR%/previous.js' pagecontent='&lt;input type="hidden" name="sap-system-login-oninputprocessing" value="onProceed"&gt;' pages='*' /&gt; 
&lt;meta http-equiv="refresh" content="30" pagecontent='Enter your User Name and Password' pages='*' /&gt; 
&lt;link rel='stylesheet' type='text/css' href='file://%INSTALLDIR%/mystyle.css'  pagecontent='Enter your User Name and Password' pages='*' /&gt;
</code></pre><p></p>
                                        


                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                </div><!--/.col-sm-6-->
            </div>
            </section>
        </div>
    </section>    

<div class="modal fade" id="basicModal" tabindex="-1" role="dialog" aria-labelledby="basicModal" aria-hidden="true" data-backdrop="true">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal" aria-hidden="true">X</button>
					</div>
					<div class="modal-body">
						<div id="modalImg">
						
						</div>
					</div>
			</div>
		  </div>
		</div> </div>
         <footer id="footer">
            <div class="container-fluid">
                <div class="row">
                    <div class="col-sm-10">
                        ZEBRA and the stylized Zebra head are trademarks of Zebra Technologies Corp., registered in many jurisdictions worldwide. All other trademarks are the property of their respective owners. ©2023 Zebra Technologies Corp. and/or its affiliates.<br> <a href="https://www.zebra.com/us/en/about-zebra/company-information/legal.html">Legal</a> | <a href="https://www.zebra.com/us/en/about-zebra/company-information/compliance/information-privacy/terms-of-use.html">Terms of Use</a> | <a href="https://www.zebra.com/us/en/about-zebra/company-information/legal/privacy-statement.html">Privacy Policy</a>
                    </div>
                     <!--
                     <div class="col-sm-2">
                        <ul class="social-icons">
                            <li><a href="http://www.facebook.com/pages/Zebra-Technologies/107703715989073"><i class="fa fa-facebook"></i></a></li>
                            <li><a href="https://twitter.com/ZebraDevs"><i class="fa fa-twitter"></i></a></li>
                            <li><a href="http://www.youtube.com/zebratechnologies/"><i class="fa fa-youtube"></i></a></li>
                            <li><a href="https://www.linkedin.com/groups?home=&gid=3220074&trk=anet_ug_hm&goback=%2Egmr_3220074"><i class="fa fa-linkedin"></i></a></li>
                            <li><a href="https://github.com/developer-zebra"><i class="fa fa-github"></i></a></li>
                        </ul>
                    </div> -->
                 </div>
            </div>
        </footer>
    
    <!--/#footer 
        10/25/18 removed <footer id="footer" class="navbar-fixed-bottom">
    -->
    <script src="/js/bootstrap.min.js"></script>
    <script src="/js/owl.carousel.min.js"></script>
    <script src="/js/mousescroll.js"></script>
    <script src="/js/smoothscroll.js"></script>
    <script src="/js/jquery.prettyPhoto.js"></script>
    <script src="/js/jquery.isotope.min.js"></script>
    <script src="/js/jquery.inview.min.js"></script>
    <script src="/js/wow.min.js"></script>
    <script src="/js/bootstrap-treenav.min.js"></script>
    <script src="/js/prettify.js"></script>
    <script src="/js/zepto.js"></script>
    <script src="/js/jquery.waterfall.js"></script>   
    <script src="/js/main.js"></script>

<script type="text/javascript">
  (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
  (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
  e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
  })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

  _st('install','zRzEsAUhWTTkrdEN2YfA','2.0.0');
</script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-72584442-1', 'auto');
  ga('send', 'pageview');

</script> 

<script>
    ChatraID = 'QDvZ76min4DhLW5vJ';
    (function(d, w, c) {
        var n = d.getElementsByTagName('script')[0],
            s = d.createElement('script');
        w[c] = w[c] || function() {
            (w[c].q = w[c].q || []).push(arguments);
        };
        s.async = true;
        s.src = (d.location.protocol === 'https:' ? 'https:': 'http:')
            + '//call.chatra.io/chatra.js';
        n.parentNode.insertBefore(s, n);
    })(document, window, 'Chatra');
</script>         


</body></html>