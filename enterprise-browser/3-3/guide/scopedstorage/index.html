
<!DOCTYPE html>
<html lang="en"><head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Online Documentation for Zebra Technologies developer tools and utiltiescomp including EMDK for Android, EMDK for Xamarin, StageNow, Enterprise Browser.">
    <meta name="author" content="Zebra Technologies">
    <meta name="google-site-verification" content="i4B78BrWnNy8ShJwe5feRW3jO3HE6gfYlYqYbxfl8yY">
    <meta name="msvalidate.01" content="6B651B00161BCE79B8950AC09D5C4C75">
    <meta title="Scoped Storage Guide">
    <title>Scoped Storage Guide - Zebra Technologies TechDocs</title>
    <!-- core CSS -->
    <link href="/css/bootstrap.min.css" rel="stylesheet">
    <link href="/css/font-awesome.min.css" rel="stylesheet">
    <link href="/css/animate.min.css" rel="stylesheet">
    <link href="/css/owl.carousel.css" rel="stylesheet">
    <link href="/css/owl.transitions.css" rel="stylesheet">
    <link href="/css/prettyPhoto.css" rel="stylesheet">
    <link href="/css/main.css" rel="stylesheet">
    <link href="/css/responsive.css" rel="stylesheet">
    <link href="/css/prettify.css" rel="stylesheet">
    <link href="/css/bootstrap-treenav.min.css" rel="stylesheet">
    <!--[if lt IE 9]>
    <script src="js/html5shiv.js"></script>
    <script src="js/respond.min.js"></script>
    <![endif]--> 

    <script src="//load.sumome.com/" data-sumo-site-id="699cb66cf4dc59352efb45705526d15cbe314e1cd43f7761b94d96f3cf7338e8" async="async"></script>
    <link rel="shortcut icon" href="/favicon.ico">
<script src="/js/jquery.js"></script></head><!--/head-->


<body id="home" class="homepage" data-spy="scroll" data-offset="100" data-target="#toc">

    <header id="header">
        <nav id="main-menu" class="navbar navbar-default navbar-fixed-top" role="banner">
            <div class="container-fluid">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="/"><img src="/images/logo.png" alt="logo" style="max-height:42px;float: inherit;
    padding-right: 3px;"></a> 
                    
                   
                </div>
                <div class="collapse navbar-collapse navbar-left">
                    <ul class="nav navbar-nav">
                        <li class="navbar-text pull-left"><strong>TechDocs</strong></li>
                        <li class="dropdown">
                          <button class="btn btn-default dropdown-toggle" type="button" data-toggle="dropdown"> Enterprise Browser 3.3
                          <span class="caret"></span></button>
                          <ul class="dropdown-menu">
                                <li><a onclick="changeVersion('3-3','1-4','/enterprise-browser/3-3/guide/about')">Enterprise Browser 1.4</a></li>
                          </ul>
                        </li>                    
                    </ul>
                </div>
                <div class="collapse navbar-collapse navbar-right">
                    <ul class="nav navbar-nav">
                        


                        <li>
                            <a href="/enterprise-browser/3-3/guide/about">
                                    About
                            </a>
                        </li>
                        <li>
                            <a href="/enterprise-browser/3-3/guide/gettingstarted/">
                                    Start Here
                            </a>
                        </li>
                        <li>
                            <a href="/enterprise-browser/3-3/tutorial/">
                                    Tutorials
                            </a>
                        </li>
                        <li>
                            <a href="/enterprise-browser/3-3/guide/samples">
                                    Sample Apps
                            </a>
                        </li>
                        <li>
                            <a href="/enterprise-browser/3-3/guide">
                                    Guides
                            </a>
                        </li>
                        <li>
                            <a href="/enterprise-browser/3-3/guide/licensing">
                                    License
                            </a>
                        </li>
                        <li>
                            <a href="/enterprise-browser/3-3/guide/migration">
                                    Migrate
                            </a>
                        </li>
                        <li>
                            <a href="/enterprise-browser/3-3/guide/configreference">
                                    Config.xml
                            </a>
                        </li>
                        <li>
                            <a href="/enterprise-browser/3-3/api">
                                    APIs
                            </a>
                        </li>
                        <li>
                            <a href="https://www.youtube.com/playlist?list=PLce6-npz5dKcUY98npViY6QbuL3yhAXCx">
                                    <i class="fa fa-youtube-play"></i>
                            </a>
                        </li>
                        <li>
                            <a href="/enterprise-browser/3-3/download">
                                    <i class="fa fa-download"></i>
                            </a>
                        </li>
                        <li>
                            <a href="/enterprise-browser/3-3/search">
                                    <i class="fa fa-search"></i>
                            </a>
                        </li>
                        <!-- <li ><a href="/products">SDKs</a></li>
                        <li ><a href="/samples">Samples</a></li>
                        <li ><a href="/guides">Guides</a></li>
                        <li ><a href="/tutorials">Tutorials</a></li>
                        <li ><a href="/apis">APIs</a></li> -->
                        <!-- <li><a href="#"><input type="text" class="st-default-search-input"></a></li> -->
                    </ul>
                </div>
            </div><!--/.container-->
        </nav><!--/nav-->
    </header><!--/header-->
<div class="container-fluid">
    <section id="blog">
        <div class="">
            <section class="content-with-sidebar">
            <div class="row">
                <div class="col-sm-3 hidden-sm hidden-xs" id="sidebar">
                    
                    
                    <nav id="toc" data-toggle="toc" data-spy="affix" style="height: 75%; max-width: 225px; overflow-y: auto; ">
                        
                        <ul class="nav">
                            <li><strong>Scoped Storage Guide</strong></li>
                        </ul>
                    </nav>
                    <div class="modal fade" id="modal-smartdocs" tabindex="-1" role="dialog" aria-labelledby="basicModal" aria-hidden="true" data-backdrop="true">
                    	<div class="modal-dialog">
                    		<div class="modal-content">
                    			<div class="modal-header">
                    				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">X</button>
                    			</div>
                    			<div class="modal-body">
                    				<form>
                    				  <div class="form-group">
                    				    <label for="exampleInputEmail1">MX Version On Device:</label>
                    				    <select class="form-control">
                    					  <option value="4.0">4.0</option>
                    					  <option value="4.1">4.1</option>
                    					  <option value="4.2">4.2</option>
                    					  <option value="4.3">4.3</option>
                    					  <option value="5.0">5.0</option>
                    					</select>
                    				  </div>						
                    				  <div class="form-group">
                    				    <label for="exampleInputEmail1">OSX Version On Device:</label>
                    				    <select class="form-control">
                    					  <option value="1.0">1.0</option>
                    					  <option value="1.2">1.2</option>
                    					  <option value="1.3.4-56">1.3.4-56</option>
                    					  <option value="3.4">3.4</option>
                    					  <option value="3.5">3.5</option>
                    					  <option value="3.6">3.6</option>
                    					  <option value="4.1">4.1</option>
                    					  <option value="4.2">4.2</option>
                    					  <option value="4.3">4.3</option>
                    					  <option value="4.4">4.4</option>
                    					</select>
                    				  </div>						
                    				  <div class="form-group">
                    				    <label for="exampleInputEmail1">Android Version On Device:</label>
                    				    <select class="form-control">
                    					  <option value="23">6.0 Marshmallow</option>
                    					  <option value="22">5.1 Lollipop</option>
                    					  <option value="21">5.0 Lollipop</option>
                    					  <option value="19">4.4 Kitkat</option>
                    					  <option value="18">4.3 Jellybean</option>
                    					  <option value="17">4.2.x Jellybean</option>
                    					  <option value="16">4.1.x Jellybean</option>
                    					  <option value="15">4.0.3-4.0.4 Ice Cream Sandwich</option>
                    					  <option value="14">4.0-4.0.2 Ice Cream Sandwich</option>
                    					  <option value="10">2.3.3-2.3.4 Gingerbread</option>
                    					</select>
                    				  </div>
                    				  <div class="form-group">
                    				  	<button class="primary" id="btn_SaveSmartDocOptions">Save Changes</button><button class="primary" id="btn_ClearSmartDocOptions">Clear Changes</button>
                    				  </div>
                    				</form>
                    			</div>
                    	</div>
                      </div>
                    </div>
                    
                    <script type="text/javascript">
                        $(document).ready(function() {
                        	$( "#btn_SaveSmartDocOptions" ).click(function() {
                      			console.log('Saving Options');
                      			$("#modal-smartdocs").modal({show: false});
                    		});
                        	$( "#btn_SaveSmartDocOptions" ).click(function() {
                      			console.log('Clearing Options');
                      			$("#modal-smartdocs").modal({show: false});
                    		});
                        });
                    </script><link rel="stylesheet" href="https://cdn.rawgit.com/afeld/bootstrap-toc/v0.3.0/dist/bootstrap-toc.min.css">
                    <script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v0.3.0/dist/bootstrap-toc.min.js"></script>
                    <script type="text/javascript">
                        $(document).ready(function() {
                    
                        });
                    
                    
                    </script>
                </div>                
                <div class="col-sm-9 ">
                    <div class="row">
                        <div class="col-sm-12">
                            <section id="cta" class="wow fadeIn">
                                <div class="">
                                    <h1 id="scoped-storage-guide" class="anchor"><a class="heading-anchor" href="#scoped-storage-guide"><span></span></a>Scoped Storage Guide</h1>
                                    <p>
                                            Enterprise Browser
                                            3.3
                                    </p>
                                </div>
                            </section>                    
                        </div>
                    </div>
                    <div id="mainContent" class="row">
                        <div class="col-sm-12">
                            <div class="blog-post blog-large fadeInLeft" data-wow-duration="300ms" data-wow-delay="0ms">
                            <!-- Start of guide -->
                                <div class="service-box fadeInRight">
                                    <div class="">

                                        <p><!-- 
<img alt="" style="height:219px" src="sap1.png"/>
 -->

</p><h2 id="overview" class="anchor"><a class="heading-anchor" href="#overview"><span></span></a>Overview</h2>

<p>Apps running on Android 11 are subject to a set of restrictions called scoped storage. Introduced with Android 10 (API level 29), scoped storage was originally intended to provide more user control over stored files and reduce the clutter that often occurs on external storage devices over time. It limits apps that target API 29 (and later) to an app-specific device folder and to media types they create. <strong>Apps targeting API level 30 are prevented from accessing external storage and internal device folders</strong>, including <code>/sdcard</code> paths on Zebra devices. </p>

<blockquote>
  <p><i class="fa fa-exclamation-triangle" aria-hidden="true" style="color:#FFA500;"></i> <strong>The storage restrictions referenced in this guide apply only to apps running on devices with Android 11</strong> (or later). However, apps that are modified for these restrictions are compatible with older Android versions, so <strong>Zebra recommends adopting changes for compliance with scoped storage restrictions in mixed environments and to "future-proof" apps</strong> for compatibility with Android 11 and beyond.</p>
</blockquote>

<p>Enhancements delivered with Android 11 (API level 30) enforce greater protections on app and user data stored externally. <strong>Enterprise Browser 3.3 (and later) targets Android API level 30</strong> (or later), and EB apps are subject to the following restrictions <strong>on devices running Android 11</strong>: </p>

<ul>
<li><strong>External storage is no longer accessible</strong>, including SD Card</li>

<li><code>Config.xml</code> <strong>and other config files can be mass-deployed only to</strong>:<br>
<code>/enterprise/device/enterprisebrowser</code></li>

<li><strong>All references in existing</strong> <code>Config.xml</code> <strong>files to restricted storage locations must be modified</strong> to reflect the path above.</li>

<li><strong><u>Additional changes are required</u> if a</strong> <code>Config.xml</code> <strong>file</strong> contains references to an SD Card in the config files for one or more of EB's optional features: 


<ul>
<li><a href="../keycapture/">Keycode mapping</a></li>

<li><a href="../ShortcutCreator/">Shortcuts</a></li>

<li><a href="../dominjectionandroid">DOM injection</a></li>

<li><a href="../tabbar/">Native tabbar</a></li>

<li><a href="../sapandroid/#customcssfile">Custom CSS</a> </li>

<li><a href="../customize/">ButtonBar</a></li>

<li><a href="../pageactions/">Page-based Actions</a> </li></ul>
</li>

<li>EB JavaScript apps are no longer permitted to read from or write to any path that begins with <code>/sdcard</code>. If necessary, apps must be modified to access <code>/enterprise/device/enterprisebrowser</code>. This includes (but is not limited to) the following <a href="../../api">APIs</a>: 


<ul>
<li>AudioCapture</li>

<li>Barcode</li>

<li>Camera</li>

<li>Database</li>

<li>File</li>

<li>FileTransfer</li>

<li>MediaPlayer</li>

<li>Network</li>

<li>Printer</li>

<li>PrinterZebra</li>

<li>Signature</li></ul>
</li>

<li>Substitution variables in the <code>Config.xml</code> (i.e., <b>%PRIMARYDIR%</b>, <b>%SECONDARYDIR%</b>) are no longer supported. <a href="../configreference/#substitutionvariables">Learn more</a>.</li>
</ul>

<hr>

<h2 id="restrictionresolutions" class="anchor"><a class="heading-anchor" href="#restrictionresolutions"><span></span></a>Restriction Resolutions</h2>

<table class="facelift" style="width:100%" border="1" padding="5px"> <!-- <col width="10%" /><col width="68%" /><col width="22%" /> -->

<tbody><tr bgcolor="#dce8ef"><th class="tableHeading">Restricted Condition</th>
        <th class="tableHeading">Resolution</th>
</tr>

<tr>
        <td class="clsSyntaxCells clsOddRow"><b>If <code>Config.xml</code> file contains:</b> <br><code>/sdcard/EnterpriseBrowser</code><!-- 2/1/22 removed per eng <br><b>or</b><br> <code>/sdcard/Android/data/com.zebra.mdna.enterprisebrowser</code> -->
        </td>
        <td class="clsSyntaxCells clsOddRow"><b>Change to</b>: <br><code>file:///enterprise/device/enterprisebrowser/</code><br><b>or</b><br> <code>/sdcard/Android/data/com.zebra.mdna.enterprisebrowser</code><br><hr><b>NOTE: Using adb to <u>manually push</u> individual <code>Config.xml</code> files to <br><code>/sdcard/Android/data/com.zebra.mdna.enterprisebrowser</code> <u>remains supported</u> under scoped storage</b>. 
        </td>
</tr>

<tr>
        <td class="clsSyntaxCells clsOddRow">If <code>Config.xml</code> file contains substitution variables:<br> <b>%PRIMARYDIR%</b><br><b>or</b><br><b>%SECONDARYDIR%</b><br>  
        </td>
        <td class="clsSyntaxCells clsOddRow"><b>Change all substitution variable references to</b>:<br><b>%PERSISTCONFDIR%</b><br><b>Example</b>:<br><b>&lt;StartPagevalue="file://%PERSISTCONFDIR%/menu.html"name="Menu"/&gt;</b><hr>Learn more <a href="../configreference/#substitutionvariables">about substitution variables</a>.
        </td>
</tr>

<tr>
        <td class="clsSyntaxCells clsOddRow"><b>If mass-deploying </b><code>Config.xml</code><b> file to the path</b>: <br><code>/sdcard/EnterpriseBrowser/</code><br><b>or</b><br> <code>/sdcard/Android/data/com.zebra.mdna.enterprisebrowser</code>
        </td>
        <td class="clsSyntaxCells clsOddRow"><b>Change the path to</b>: <code>file:///enterprise/device/enterprisebrowser/</code><br><hr>
        <b>NOTE: Using adb to <u>manually push</u> individual <code>Config.xml</code> files to <br><code>/sdcard/Android/data/com.zebra.mdna.enterprisebrowser</code> <u>remains supported</u> under scoped storage</b>.</td>
</tr>

<tr>
        <td class="clsSyntaxCells clsOddRow"><b>If mass-deploying config files for one or more optional EB features</b>:<br>• Keycode mapping<br>• Shortcuts<br>• DOM injection<br>• Native tabbar<br>• Custom CSS<br>• ButtonBar<br>• Page-based Actions<br><b>to the path</b>: <br><code>/sdcard/EnterpriseBrowser/</code><br><b>or</b><br> <code>/sdcard/Android/data/com.zebra.mdna.enterprisebrowser</code>
        </td>
        <td class="clsSyntaxCells clsOddRow"><b>Change the path to</b>: <code>file:///enterprise/device/enterprisebrowser/</code> and update path reference(s) in corresponding tag(s) in the <code>Config.xml</code> with:<br><b>%PERSISTCONFDIR%</b><br><b>Example</b>:<br><code>&lt;CustomDOMElements value="file://% PERSISTCONFDIR%/mytags.txt"/&gt;</code><hr>
        <b>NOTE: Using adb to <u>manually push</u> individual <code>Config.xml</code> files to <br><code>/sdcard/Android/data/com.zebra.mdna.enterprisebrowser</code> <u>remains supported</u> under scoped storage</b>.</td>
</tr>

<tr>
        <td class="clsSyntaxCells clsOddRow"><b>If an EB app uses any EB API to read from or write to</b>:<br><code>/sdcard/EnterpriseBrowser</code> 
        </td>
        <td class="clsSyntaxCells clsOddRow"><b>The corresponding JavaScript must be modified to replace references to path(s) containing</b> <code>/sdcard</code> <b>with</b>:<br><code>/enterprise/device/enterprisebrowser/</code><br><b>or</b><br> <code>/sdcard/Android/data/com.zebra.mdna.enterprisebrowser</code><hr><b>NOTE: If the use case requires an EMM client or other third-party app to access EB-created files, store the files in the <code>/enterprise/</code> directory.</b><br><b>Example:</b><br><code>file:///enterprise/device/enterprisebrowser/fileName.ext</code><br>If file replication or movement is required, <b>Zebra recommends using EB file transfer APIs in favor of the EMM client whenever possible</b>.
        </td>
</tr>

</tbody></table>

<hr>

<h2 id="alsosee" class="anchor"><a class="heading-anchor" href="#alsosee"><span></span></a>Also See</h2>

<h4 id="relatedzebratools" class="anchor"><a class="heading-anchor" href="#relatedzebratools"><span></span></a>Related Zebra Tools:</h4>

<p><a href="/ssm">Secure Storage Manager</a> | Securely share and persist data</p>

<h4 id="fromtheandroiddevelopmentcommunity" class="anchor"><a class="heading-anchor" href="#fromtheandroiddevelopmentcommunity"><span></span></a>From the Android Development Community:</h4>

<p><a href="https://developer.android.com/about/versions/11/privacy">Android 11 Storage Overview</a> | Changes introduced with Android 11 and their effect on apps</p>

<p><a href="https://developer.android.com/training/data-storage/use-cases">Storage Use Cases and Best Practices</a> | Help preparing apps for scoped storage</p>

<p><a href="https://developer.android.com/training/data-storage">Android Storage Overview</a> | The basics of Android data and file storage</p><p></p>
                                        


                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                </div><!--/.col-sm-6-->
            </div>
            </section>
        </div>
    </section>    

<div class="modal fade" id="basicModal" tabindex="-1" role="dialog" aria-labelledby="basicModal" aria-hidden="true" data-backdrop="true">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal" aria-hidden="true">X</button>
					</div>
					<div class="modal-body">
						<div id="modalImg">
						
						</div>
					</div>
			</div>
		  </div>
		</div> </div>
         <footer id="footer">
            <div class="container-fluid">
                <div class="row">
                    <div class="col-sm-10">
                        ZEBRA and the stylized Zebra head are trademarks of Zebra Technologies Corp., registered in many jurisdictions worldwide. All other trademarks are the property of their respective owners. ©2022 Zebra Technologies Corp. and/or its affiliates.<br> <a href="https://www.zebra.com/us/en/about-zebra/company-information/legal.html">Legal</a> | <a href="https://www.zebra.com/us/en/about-zebra/company-information/compliance/information-privacy/terms-of-use.html">Terms of Use</a> | <a href="https://www.zebra.com/us/en/about-zebra/company-information/legal/privacy-statement.html">Privacy Policy</a>
                    </div>
                     <!--
                     <div class="col-sm-2">
                        <ul class="social-icons">
                            <li><a href="http://www.facebook.com/pages/Zebra-Technologies/107703715989073"><i class="fa fa-facebook"></i></a></li>
                            <li><a href="https://twitter.com/ZebraDevs"><i class="fa fa-twitter"></i></a></li>
                            <li><a href="http://www.youtube.com/zebratechnologies/"><i class="fa fa-youtube"></i></a></li>
                            <li><a href="https://www.linkedin.com/groups?home=&gid=3220074&trk=anet_ug_hm&goback=%2Egmr_3220074"><i class="fa fa-linkedin"></i></a></li>
                            <li><a href="https://github.com/developer-zebra"><i class="fa fa-github"></i></a></li>
                        </ul>
                    </div> -->
                 </div>
            </div>
        </footer>
    
    <!--/#footer 
        10/25/18 removed <footer id="footer" class="navbar-fixed-bottom">
    -->
    <script src="/js/bootstrap.min.js"></script>
    <script src="/js/owl.carousel.min.js"></script>
    <script src="/js/mousescroll.js"></script>
    <script src="/js/smoothscroll.js"></script>
    <script src="/js/jquery.prettyPhoto.js"></script>
    <script src="/js/jquery.isotope.min.js"></script>
    <script src="/js/jquery.inview.min.js"></script>
    <script src="/js/wow.min.js"></script>
    <script src="/js/bootstrap-treenav.min.js"></script>
    <script src="/js/prettify.js"></script>
    <script src="/js/zepto.js"></script>
    <script src="/js/jquery.waterfall.js"></script>   
    <script src="/js/main.js"></script>

<script type="text/javascript">
  (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
  (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
  e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
  })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

  _st('install','zRzEsAUhWTTkrdEN2YfA','2.0.0');
</script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-72584442-1', 'auto');
  ga('send', 'pageview');

</script> 

<script>
    ChatraID = 'QDvZ76min4DhLW5vJ';
    (function(d, w, c) {
        var n = d.getElementsByTagName('script')[0],
            s = d.createElement('script');
        w[c] = w[c] || function() {
            (w[c].q = w[c].q || []).push(arguments);
        };
        s.async = true;
        s.src = (d.location.protocol === 'https:' ? 'https:': 'http:')
            + '//call.chatra.io/chatra.js';
        n.parentNode.insertBefore(s, n);
    })(document, window, 'Chatra');
</script>         


</body></html>